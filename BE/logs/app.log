2026-01-19T09:17:51.746+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 25796 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T09:17:51.751+07:00 DEBUG 25796 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T09:17:51.751+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T09:17:51.781+07:00  INFO 25796 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-19T09:17:51.781+07:00  INFO 25796 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-19T09:17:52.238+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T09:17:52.297+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 16 JPA repository interfaces.
2026-01-19T09:17:52.725+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T09:17:52.742+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T09:17:52.743+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T09:17:52.787+07:00  INFO 25796 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1005 ms
2026-01-19T09:17:52.898+07:00  INFO 25796 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T09:17:52.944+07:00  INFO 25796 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-19T09:17:53.269+07:00  INFO 25796 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T09:17:53.285+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-19T09:17:53.362+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49aece9f
2026-01-19T09:17:53.363+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-19T09:17:53.384+07:00  WARN 25796 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T09:17:53.392+07:00  INFO 25796 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T09:17:53.984+07:00  INFO 25796 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T09:17:54.013+07:00  INFO 25796 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:17:54.060+07:00  INFO 25796 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-19T09:17:54.419+07:00 DEBUG 25796 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T09:17:54.981+07:00  WARN 25796 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T09:17:55.026+07:00  INFO 25796 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T09:17:55.102+07:00 DEBUG 25796 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T09:17:55.208+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 57 mappings in 'requestMappingHandlerMapping'
2026-01-19T09:17:55.222+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T09:17:55.228+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T09:17:55.244+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T09:17:55.265+07:00 DEBUG 25796 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T09:17:55.364+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T09:17:55.368+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.869 seconds (process running for 4.118)
2026-01-19T09:18:10.666+07:00  INFO 25796 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-19T09:18:10.666+07:00  INFO 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-19T09:18:10.666+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-19T09:18:10.666+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-19T09:18:10.667+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7b9976fb
2026-01-19T09:18:10.667+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@30d73bf9
2026-01-19T09:18:10.668+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-19T09:18:10.668+07:00  INFO 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-19T09:18:10.674+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:18:10.674+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:18:10.690+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:10.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:10.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:10.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:10.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:10.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Invalid token format: JWT expired 319290741 milliseconds ago at 2026-01-15T09:36:40.000Z. Current time: 2026-01-19T02:18:10.741Z. Allowed clock skew: 0 milliseconds.
2026-01-19T09:18:10.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: null
2026-01-19T09:18:10.743+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:10.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:10.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:10.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:10.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:10.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:10.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Invalid token format: JWT expired 319290748 milliseconds ago at 2026-01-15T09:36:40.000Z. Current time: 2026-01-19T02:18:10.748Z. Allowed clock skew: 0 milliseconds.
2026-01-19T09:18:10.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: null
2026-01-19T09:18:10.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:13.226+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:18:13.230+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:18:13.231+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:13.231+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:13.231+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:13.231+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:18:13.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:13.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:13.234+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:18:13.238+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:18:13.278+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T09:18:13.293+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:13.343+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:18:13.363+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(653879309<open>)] for JPA transaction
2026-01-19T09:18:13.364+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:13.366+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@235e4911]
2026-01-19T09:18:13.366+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:13.366+07:00  INFO 25796 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : ‚ö†Ô∏è User 2 b·ªè l·ª° nhi·ªÅu ng√†y ‚Üí streak reset = 1
2026-01-19T09:18:13.367+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(653879309<open>)] for JPA transaction
2026-01-19T09:18:13.368+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:13.368+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:13.372+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:13.372+07:00  INFO 25796 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : ‚úÖ Updated login streak cho user 2: streak=1, longest=3
2026-01-19T09:18:13.372+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:13.372+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:13.373+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(653879309<open>)]
2026-01-19T09:18:13.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        users 
    set
        avatar_url=?,
        email=?,
        full_name=?,
        last_login_date=?,
        level=?,
        longest_streak=?,
        password=?,
        points=?,
        role=?,
        status=?,
        streak=?,
        username=? 
    where
        id=?
2026-01-19T09:18:13.390+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:13.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(653879309<open>)] for JPA transaction
2026-01-19T09:18:13.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:13.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@127eeb3a]
2026-01-19T09:18:13.392+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:13.392+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:13.392+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:13.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(653879309<open>)]
2026-01-19T09:18:13.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:13.393+07:00  INFO 25796 --- [http-nio-8080-exec-7] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13.366456800
2026-01-19T09:18:13.420+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:13.424+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T09:18:13.439+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:13.443+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:13.444+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:13.444+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:13.444+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:13.444+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:13.445+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:13.446+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:13.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:13.465+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:13.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:18:13.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:13.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:13.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:18:13.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:18:13.468+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:13.469+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:13.472+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:13.473+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:18:13.475+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:17.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:17.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:17.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:17.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:17.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.019+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:17.019+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:17.019+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:17.021+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:17.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:17.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:17.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:17.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:17.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:17.026+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:17.031+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:17.031+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(857339546<open>)] for JPA transaction
2026-01-19T09:18:17.031+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:17.032+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5033af59]
2026-01-19T09:18:17.033+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:17.033+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:17.036+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:17.038+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:17.040+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:17.042+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:17.042+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:17.042+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(857339546<open>)]
2026-01-19T09:18:17.042+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:17.044+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:17.044+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:17.047+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:17.048+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:17.049+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.049+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:17.049+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.049+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:17.050+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:17.050+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:17.051+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:17.053+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:17.053+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:17.053+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:17.053+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:17.054+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:17.054+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:17.054+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:17.054+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:17.055+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1961754211<open>)] for JPA transaction
2026-01-19T09:18:17.055+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:17.055+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c908b33]
2026-01-19T09:18:17.055+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:17.056+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:17.056+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:17.058+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:17.058+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:17.059+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:17.059+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:17.060+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1961754211<open>)]
2026-01-19T09:18:17.060+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:17.060+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:17.061+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:17.061+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:18.676+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.676+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.676+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.677+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.677+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:18.678+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:18.678+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:18.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:18.683+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:18.683+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.683+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.684+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.684+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:18.684+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:18.685+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.685+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.685+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1398156839<open>)] for JPA transaction
2026-01-19T09:18:18.686+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:18.687+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@208e7a5c]
2026-01-19T09:18:18.687+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.687+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:18.688+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:18.690+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:18.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:18.692+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:18.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1398156839<open>)]
2026-01-19T09:18:18.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:18.694+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:18.694+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:18.695+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:18.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:18.698+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:18.698+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:18.699+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:18.701+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:18.701+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.701+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.701+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:18.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:18.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.703+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.703+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2003181377<open>)] for JPA transaction
2026-01-19T09:18:18.703+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:18.704+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@582770ac]
2026-01-19T09:18:18.704+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.704+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:18.704+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:18.706+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:18.706+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:18.708+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:18.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2003181377<open>)]
2026-01-19T09:18:18.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:18.709+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:18.709+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:18.709+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:18.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.712+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.712+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:18.712+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:18.712+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:18.713+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:18.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:18.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:18.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:18.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(722060520<open>)] for JPA transaction
2026-01-19T09:18:18.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:18.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@eb9588]
2026-01-19T09:18:18.717+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.718+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:18.718+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:18.719+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:18.719+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:18.720+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.720+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:18.720+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(722060520<open>)]
2026-01-19T09:18:18.721+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:18.721+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:18.721+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:18.721+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:18.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:18.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:18.724+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:18.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:18.728+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:18.728+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:18.728+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:18.728+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:18.728+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:18.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:18.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:18.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(236326681<open>)] for JPA transaction
2026-01-19T09:18:18.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:18.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7a912f28]
2026-01-19T09:18:18.730+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.730+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:18.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:18.732+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:18.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:18.733+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:18.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:18.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(236326681<open>)]
2026-01-19T09:18:18.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:18.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:18.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:18.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:21.613+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:18:21.613+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:18:21.616+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:18:21.616+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:21.616+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:21.616+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:18:21.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:21.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:21.617+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:21.619+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:21.622+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:21.622+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:18:21.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:21.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:21.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:18:21.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:18:21.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:21.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:21.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(643253156<open>)] for JPA transaction
2026-01-19T09:18:21.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:21.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1897c652]
2026-01-19T09:18:21.625+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:21.626+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:21.626+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:21.628+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:18:21.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:18:21.632+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:21.633+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:21.633+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(643253156<open>)]
2026-01-19T09:18:21.633+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:21.634+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:21.634+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-19T09:18:21.635+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:21.636+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:18:21.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:21.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:21.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:18:21.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:21.638+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:21.638+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:21.638+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:21.640+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:21.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:18:21.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:21.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:21.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:18:21.642+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:18:21.642+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:21.642+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:21.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1111392312<open>)] for JPA transaction
2026-01-19T09:18:21.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:21.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50bbaf23]
2026-01-19T09:18:21.643+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:21.644+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:21.644+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:21.646+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:18:21.646+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:18:21.647+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:21.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:21.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1111392312<open>)]
2026-01-19T09:18:21.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:21.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:21.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-19T09:18:21.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:22.887+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:22.887+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:22.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:22.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:22.890+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:22.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:22.892+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:22.894+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:22.897+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:22.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:22.899+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:22.899+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.899+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.900+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1013529352<open>)] for JPA transaction
2026-01-19T09:18:22.900+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:22.900+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e078005]
2026-01-19T09:18:22.900+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.901+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:22.901+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:22.903+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:22.904+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:22.905+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.905+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:22.905+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1013529352<open>)]
2026-01-19T09:18:22.905+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:22.906+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:22.906+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:22.907+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:22.908+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.908+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.909+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.909+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.909+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:22.909+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:22.910+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:22.911+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:22.913+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:22.914+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.914+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.914+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.914+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:22.914+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:22.915+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.915+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.915+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(545526465<open>)] for JPA transaction
2026-01-19T09:18:22.916+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:22.916+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b800df6]
2026-01-19T09:18:22.916+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.916+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:22.917+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:22.918+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:22.919+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:22.920+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.920+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:22.920+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(545526465<open>)]
2026-01-19T09:18:22.920+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:22.921+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:22.921+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:22.921+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:22.923+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.923+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.923+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.924+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.924+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:22.924+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:22.924+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:22.926+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:22.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1231814215<open>)] for JPA transaction
2026-01-19T09:18:22.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:22.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@132f9327]
2026-01-19T09:18:22.929+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.929+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:22.930+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:22.931+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:22.931+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:22.932+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.932+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:22.932+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1231814215<open>)]
2026-01-19T09:18:22.932+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:22.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:22.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:22.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:22.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:22.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:18:22.935+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:22.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:22.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:22.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(434775506<open>)] for JPA transaction
2026-01-19T09:18:22.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:22.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21bb352d]
2026-01-19T09:18:22.939+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.940+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:22.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:22.941+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:22.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:22.942+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:22.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:22.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(434775506<open>)]
2026-01-19T09:18:22.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:22.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:22.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:22.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:28.675+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:18:28.678+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:28.679+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:28.680+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:18:28.680+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:18:28.681+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:18:28.681+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:28.682+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:18:28.685+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1909295763<open>)] for JPA transaction
2026-01-19T09:18:28.685+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:28.686+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7d1ad289]
2026-01-19T09:18:28.686+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:28.686+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : ‚ö†Ô∏è User 1 b·ªè l·ª° nhi·ªÅu ng√†y ‚Üí streak reset = 1
2026-01-19T09:18:28.686+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1909295763<open>)] for JPA transaction
2026-01-19T09:18:28.686+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:28.687+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:28.687+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:28.687+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : ‚úÖ Updated login streak cho user 1: streak=1, longest=5
2026-01-19T09:18:28.687+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:28.687+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:28.688+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1909295763<open>)]
2026-01-19T09:18:28.689+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    update
        users 
    set
        avatar_url=?,
        email=?,
        full_name=?,
        last_login_date=?,
        level=?,
        longest_streak=?,
        password=?,
        points=?,
        role=?,
        status=?,
        streak=?,
        username=? 
    where
        id=?
2026-01-19T09:18:28.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:28.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1909295763<open>)] for JPA transaction
2026-01-19T09:18:28.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:28.694+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27c21edf]
2026-01-19T09:18:28.694+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:28.694+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:28.694+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:28.694+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1909295763<open>)]
2026-01-19T09:18:28.695+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:28.695+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:28.686198100
2026-01-19T09:18:28.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:28.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:18:28.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:28.700+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:18:28.701+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:28.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:28.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:28.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:28.702+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:28.703+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:28.703+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:28.704+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:28.707+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:28.707+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:18:28.707+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:28.707+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:28.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:18:28.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:18:28.708+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:28.709+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:28.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:28.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:18:28.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:32.244+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:32.244+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:18:32.247+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:32.247+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.247+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:32.248+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.248+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:32.248+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:32.248+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:32.250+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:32.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:32.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:32.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:32.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:32.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:32.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:32.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:32.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(197686904<open>)] for JPA transaction
2026-01-19T09:18:32.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:32.256+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4bd090a7]
2026-01-19T09:18:32.256+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:32.256+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:32.257+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:32.258+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:32.259+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:32.260+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:32.260+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:32.260+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(197686904<open>)]
2026-01-19T09:18:32.260+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:32.261+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:32.261+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:32.262+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:32.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:18:32.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:32.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:32.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:32.264+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:32.265+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:32.267+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:32.267+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:18:32.267+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:18:32.267+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:32.268+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:18:32.268+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:18:32.268+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:32.268+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:32.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1287365907<open>)] for JPA transaction
2026-01-19T09:18:32.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:32.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66e53243]
2026-01-19T09:18:32.269+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:32.269+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:32.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:32.271+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:18:32.271+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:18:32.272+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:18:32.272+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:32.272+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1287365907<open>)]
2026-01-19T09:18:32.273+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:32.273+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:32.273+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:18:32.274+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:34.570+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:18:34.570+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:18:34.573+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:18:34.574+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:34.574+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:34.574+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:18:34.574+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:34.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:34.575+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:34.577+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:34.581+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:34.581+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:18:34.581+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:34.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:34.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:18:34.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:18:34.583+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:34.583+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:34.584+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2042970781<open>)] for JPA transaction
2026-01-19T09:18:34.584+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:34.585+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@352a6d83]
2026-01-19T09:18:34.585+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:34.585+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:34.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:34.588+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:18:34.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:18:34.589+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:34.590+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:34.590+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2042970781<open>)]
2026-01-19T09:18:34.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:34.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:34.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-19T09:18:34.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:34.593+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:18:34.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:34.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:34.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:18:34.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:34.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:34.595+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:34.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:18:34.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:18:34.599+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:34.599+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:18:34.599+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(597225290<open>)] for JPA transaction
2026-01-19T09:18:34.599+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:18:34.600+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7779dff]
2026-01-19T09:18:34.600+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:34.600+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:18:34.600+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:18:34.602+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:18:34.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:18:34.604+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:18:34.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:34.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(597225290<open>)]
2026-01-19T09:18:34.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:34.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:34.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-19T09:18:34.606+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:35.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:35.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:35.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:35.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:35.980+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:35.980+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:35.980+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:35.981+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:35.982+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:35.982+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:35.982+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:35.982+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:35.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:35.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:35.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:35.988+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:35.988+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:35.988+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:35.990+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:35.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:35.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(942274087<open>)] for JPA transaction
2026-01-19T09:18:35.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:35.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3c5e2d92]
2026-01-19T09:18:35.990+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:35.990+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:35.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(942274087<open>)] for JPA transaction
2026-01-19T09:18:35.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:35.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:35.991+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:35.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:35.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:35.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:35.997+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:35.998+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:35.998+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:35.998+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:35.998+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:35.999+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:35.999+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:36.000+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:36.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:36.004+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:36.004+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:36.004+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:36.005+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:36.005+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:36.005+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:36.004+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:36.005+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:36.005+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:36.006+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(942274087<open>)]
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:36.007+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:36.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:36.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:36.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:36.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:36.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:36.009+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:36.009+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:36.009+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:36.009+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:36.009+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:36.010+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:36.012+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:36.013+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:36.013+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:36.013+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:36.013+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:36.013+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:36.014+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:36.014+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:36.014+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1289669552<open>)] for JPA transaction
2026-01-19T09:18:36.014+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:36.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@297f3de4]
2026-01-19T09:18:36.015+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:36.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1289669552<open>)] for JPA transaction
2026-01-19T09:18:36.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:36.015+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:36.016+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:36.018+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:36.018+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:36.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:36.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1289669552<open>)]
2026-01-19T09:18:36.019+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:36.019+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:36.020+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:36.021+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:39.457+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:18:39.460+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:18:39.460+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:39.460+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:39.460+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:39.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:18:39.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:39.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:39.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:18:39.461+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:18:39.462+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:18:39.463+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:39.464+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:18:39.466+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(951918873<open>)] for JPA transaction
2026-01-19T09:18:39.467+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:39.467+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4adf20d5]
2026-01-19T09:18:39.467+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:39.467+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:18:39.468+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:39.468+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:39.468+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(951918873<open>)]
2026-01-19T09:18:39.468+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:39.469+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(951918873<open>)] for JPA transaction
2026-01-19T09:18:39.469+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:39.469+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3702a9c8]
2026-01-19T09:18:39.469+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:39.470+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:39.470+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:39.470+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(951918873<open>)]
2026-01-19T09:18:39.470+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:39.470+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:18:39.471+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:39.472+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:18:39.472+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:39.475+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:18:39.476+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:39.477+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:39.477+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:39.477+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:39.477+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:39.477+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:39.477+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:39.478+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:39.480+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:39.480+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:18:39.481+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:39.481+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:39.481+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:18:39.481+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:18:39.481+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:39.482+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:39.485+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:39.485+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:18:39.486+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:44.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:44.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:44.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:44.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:44.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:44.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:44.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:44.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:44.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:44.516+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:44.516+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:44.517+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:44.517+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:44.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:44.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:44.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:44.522+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:44.523+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1820231822<open>)] for JPA transaction
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:44.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:44.524+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:44.524+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:44.524+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63f9f5fe]
2026-01-19T09:18:44.524+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:44.524+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1820231822<open>)] for JPA transaction
2026-01-19T09:18:44.524+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:44.525+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:44.525+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:44.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:44.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:44.528+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:44.528+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:44.528+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:44.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:44.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1820231822<open>)]
2026-01-19T09:18:44.529+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:44.529+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:44.530+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:44.530+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:44.531+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:44.531+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:44.532+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.532+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:44.532+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.532+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:44.532+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:44.532+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:44.533+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:44.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:44.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:44.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:44.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:44.534+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:44.535+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:44.538+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:44.538+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:44.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:44.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:44.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:44.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:44.540+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:44.540+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:44.540+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1116531331<open>)] for JPA transaction
2026-01-19T09:18:44.540+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:44.541+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@757b89a]
2026-01-19T09:18:44.541+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:44.541+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1116531331<open>)] for JPA transaction
2026-01-19T09:18:44.541+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:44.541+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:44.542+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:44.544+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:44.545+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:44.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:44.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1116531331<open>)]
2026-01-19T09:18:44.546+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:44.546+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:44.546+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:44.547+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:46.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:18:46.395+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:18:46.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:46.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:46.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:46.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:18:46.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:18:46.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:18:46.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:18:46.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:18:46.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:18:46.398+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:46.399+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:18:46.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(56676975<open>)] for JPA transaction
2026-01-19T09:18:46.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:46.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@526bcf03]
2026-01-19T09:18:46.403+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:46.403+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:18:46.403+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:18:46.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:46.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(56676975<open>)]
2026-01-19T09:18:46.404+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:46.404+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(56676975<open>)] for JPA transaction
2026-01-19T09:18:46.404+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:46.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@479268dd]
2026-01-19T09:18:46.405+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:46.405+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:18:46.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:46.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(56676975<open>)]
2026-01-19T09:18:46.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:46.406+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:18:46.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:46.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:18:46.408+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:46.410+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:18:46.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:18:46.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:46.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:46.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:18:46.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:46.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:46.413+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:46.414+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:46.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:46.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:18:46.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:18:46.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:46.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:18:46.417+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:18:46.417+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:46.418+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:46.419+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:46.419+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:18:46.420+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:54.011+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:54.011+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:18:54.011+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:54.011+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.015+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:54.016+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:54.016+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:54.016+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:54.016+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:54.016+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:54.017+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:54.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:54.018+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:54.021+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:54.021+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:54.022+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:54.023+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:54.023+07:00  WARN 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.023+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:54.023+07:00  WARN 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:54.023+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:54.023+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1032124875<open>)] for JPA transaction
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35bbaabd]
2026-01-19T09:18:54.024+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:54.024+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:54.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1032124875<open>)] for JPA transaction
2026-01-19T09:18:54.025+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:54.025+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:54.026+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:54.026+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.027+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.027+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.027+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.028+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:54.028+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:54.028+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:54.028+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:54.028+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:54.028+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:54.029+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1032124875<open>)]
2026-01-19T09:18:54.029+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:54.029+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:54.030+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:54.030+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:54.031+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:18:54.032+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:54.032+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.033+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:18:54.033+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.033+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:18:54.033+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:18:54.033+07:00  WARN 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:18:54.033+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.034+07:00  WARN 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:18:54.034+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:18:54.035+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:18:54.035+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:18:54.036+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:18:54.038+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:18:54.039+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:54.039+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:18:54.039+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(603115352<open>)] for JPA transaction
2026-01-19T09:18:54.039+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:18:54.040+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38ea2c13]
2026-01-19T09:18:54.040+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:54.040+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(603115352<open>)] for JPA transaction
2026-01-19T09:18:54.040+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:18:54.040+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:54.041+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:18:54.043+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:18:54.043+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:18:54.043+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:18:54.043+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(603115352<open>)]
2026-01-19T09:18:54.044+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:18:54.045+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:18:54.045+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:18:54.045+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:20:56.689+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:20:56.690+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:20:56.691+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:20:56.692+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:20:56.692+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:20:56.693+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:20:56.695+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(696000071<open>)] for JPA transaction
2026-01-19T09:20:56.695+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:20:56.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44af25c7]
2026-01-19T09:20:56.696+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:20:56.696+07:00  INFO 25796 --- [http-nio-8080-exec-4] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:20:56.696+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:20:56.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:20:56.696+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(696000071<open>)]
2026-01-19T09:20:56.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:20:56.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(696000071<open>)] for JPA transaction
2026-01-19T09:20:56.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:20:56.697+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a88a047]
2026-01-19T09:20:56.698+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:20:56.698+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:20:56.698+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:20:56.698+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(696000071<open>)]
2026-01-19T09:20:56.698+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:20:56.699+07:00  INFO 25796 --- [http-nio-8080-exec-4] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:20:56.700+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:20:56.700+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:20:56.700+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:20:56.703+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:20:56.704+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:20:56.704+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:20:56.705+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:20:56.705+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:20:56.705+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:20:56.705+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:20:56.705+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:20:56.706+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:20:56.708+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:20:56.708+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:20:56.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:20:56.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:20:56.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:20:56.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:05.722+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:21:05.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:21:05.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:21:05.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:21:05.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:21:05.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:05.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.725+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:05.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.726+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.726+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:05.726+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:05.726+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:05.727+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:05.727+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:05.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:05.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:21:05.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:05.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:05.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:21:05.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:05.731+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1135682837<open>)] for JPA transaction
2026-01-19T09:21:05.731+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:21:05.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:05.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:21:05.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:21:05.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@55832f1b]
2026-01-19T09:21:05.732+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:05.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:21:05.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1135682837<open>)] for JPA transaction
2026-01-19T09:21:05.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:21:05.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:21:05.732+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:05.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:21:05.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:05.736+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:05.736+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:05.736+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:05.736+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:05.736+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:05.736+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1135682837<open>)]
2026-01-19T09:21:05.737+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:05.737+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:05.737+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:05.738+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:21:05.739+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:05.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:05.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:05.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:21:05.741+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.741+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:21:05.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:21:05.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:05.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:21:05.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:21:05.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:05.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:21:05.742+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:05.743+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:05.746+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:05.746+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:21:05.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:05.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:05.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:21:05.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:21:05.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:05.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:05.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(66558687<open>)] for JPA transaction
2026-01-19T09:21:05.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:05.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72ac3c00]
2026-01-19T09:21:05.749+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:05.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(66558687<open>)] for JPA transaction
2026-01-19T09:21:05.749+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:21:05.749+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:05.751+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:21:05.753+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:05.753+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:05.753+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:05.753+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(66558687<open>)]
2026-01-19T09:21:05.754+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:05.754+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:05.754+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:21:05.755+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:23.870+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:21:23.873+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:21:23.873+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:21:23.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:21:23.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:21:23.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:21:23.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:21:23.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:21:23.875+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:21:23.875+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:21:23.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:21:23.876+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:23.877+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:21:23.880+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(539499633<open>)] for JPA transaction
2026-01-19T09:21:23.880+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:23.880+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6df9d436]
2026-01-19T09:21:23.881+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:21:23.881+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:21:23.881+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:21:23.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:23.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(539499633<open>)]
2026-01-19T09:21:23.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:23.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(539499633<open>)] for JPA transaction
2026-01-19T09:21:23.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:23.883+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9216670]
2026-01-19T09:21:23.883+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:21:23.883+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:21:23.884+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:23.884+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(539499633<open>)]
2026-01-19T09:21:23.884+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:23.884+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:21:23.885+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:23.886+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:21:23.886+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:23.889+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:21:23.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:21:23.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:21:23.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:23.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:21:23.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:23.893+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:23.893+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:23.894+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:23.897+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:23.897+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:21:23.897+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:21:23.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:23.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:21:23.898+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:21:23.898+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:23.900+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:23.902+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:23.902+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:21:23.903+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:32.576+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:21:32.576+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:21:32.576+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:21:32.577+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:21:32.579+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.579+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:21:32.579+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.579+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:32.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:32.581+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:32.581+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:32.581+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:32.581+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:32.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:32.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:21:32.586+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.586+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:32.586+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(161588021<open>)] for JPA transaction
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7220ce57]
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:21:32.588+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(161588021<open>)] for JPA transaction
2026-01-19T09:21:32.588+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:21:32.588+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:32.589+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:21:32.590+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.590+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:32.591+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:32.591+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:32.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:32.591+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:32.591+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:32.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(161588021<open>)]
2026-01-19T09:21:32.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:32.593+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:32.593+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:32.593+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:21:32.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:21:32.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:21:32.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:21:32.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:21:32.597+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:21:32.597+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:21:32.597+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:21:32.597+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:21:32.597+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:21:32.597+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:21:32.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:21:32.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:21:32.598+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:21:32.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:21:32.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:21:32.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:21:32.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:21:32.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:21:32.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:21:32.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:32.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:21:32.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1043972434<open>)] for JPA transaction
2026-01-19T09:21:32.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:21:32.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ebd3238]
2026-01-19T09:21:32.604+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:32.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1043972434<open>)] for JPA transaction
2026-01-19T09:21:32.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:21:32.604+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:32.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:21:32.607+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:21:32.607+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:21:32.607+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:21:32.608+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1043972434<open>)]
2026-01-19T09:21:32.608+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:21:32.609+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:21:32.609+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:21:32.610+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:24.164+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:23:24.166+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:23:24.166+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:23:24.166+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:23:24.166+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:23:24.166+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:23:24.167+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:23:24.167+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:23:24.167+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:23:24.167+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:23:24.168+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:23:24.168+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:24.169+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1708360903<open>)] for JPA transaction
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67fe0593]
2026-01-19T09:23:24.172+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:23:24.172+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:23:24.172+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1708360903<open>)]
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1708360903<open>)] for JPA transaction
2026-01-19T09:23:24.172+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:23:24.173+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d5b485c]
2026-01-19T09:23:24.173+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:23:24.173+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:23:24.173+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:24.173+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1708360903<open>)]
2026-01-19T09:23:24.174+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:24.174+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:23:24.174+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:24.175+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:23:24.175+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:24.179+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:23:24.181+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:23:24.181+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:23:24.181+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:24.181+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:23:24.181+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:24.182+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:24.182+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:24.183+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:23:24.186+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:23:24.186+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:24.187+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:24.189+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:24.189+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:23:24.189+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:33.620+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:23:33.620+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:23:33.621+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:23:33.621+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:23:33.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:23:33.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:23:33.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:33.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:33.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:33.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:33.625+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:33.625+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:33.626+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:33.627+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:33.630+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:33.630+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:23:33.631+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1176358745<open>)] for JPA transaction
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1349367048<open>)] for JPA transaction
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:23:33.632+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:23:33.633+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f67c898]
2026-01-19T09:23:33.633+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7482cbfe]
2026-01-19T09:23:33.633+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.633+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.634+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:23:33.634+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:23:33.636+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.636+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:33.636+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.636+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1176358745<open>)]
2026-01-19T09:23:33.636+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:33.636+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1349367048<open>)]
2026-01-19T09:23:33.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:33.637+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:33.639+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:33.639+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:33.639+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:23:33.639+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:23:33.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:33.641+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:33.642+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:23:33.642+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:33.643+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:33.644+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:33.644+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:33.644+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:33.645+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:33.645+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:33.645+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:33.648+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:23:33.649+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(557695006<open>)] for JPA transaction
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(827499203<open>)] for JPA transaction
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7f9ffd97]
2026-01-19T09:23:33.650+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1167f3b0]
2026-01-19T09:23:33.650+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.651+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.651+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:23:33.651+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:23:33.653+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.653+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:33.653+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:33.653+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:33.653+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(557695006<open>)]
2026-01-19T09:23:33.653+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(827499203<open>)]
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:23:33.654+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:23:33.655+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:33.655+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:36.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:23:36.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:23:36.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:23:36.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:23:36.535+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:23:36.535+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:36.536+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.537+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:36.537+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:36.537+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:36.537+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:36.537+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:36.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:36.539+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:36.542+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:36.542+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:23:36.543+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:23:36.544+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:23:36.544+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.544+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:23:36.544+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:23:36.544+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:23:36.544+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1131597911<open>)] for JPA transaction
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:23:36.545+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d8e22a1]
2026-01-19T09:23:36.546+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:23:36.546+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1131597911<open>)] for JPA transaction
2026-01-19T09:23:36.546+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:23:36.546+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:36.547+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:23:36.547+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.547+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.548+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.548+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.548+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:36.549+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:36.549+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:36.549+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:36.549+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:23:36.549+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:36.549+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1131597911<open>)]
2026-01-19T09:23:36.550+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:36.550+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:36.550+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:36.551+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:23:36.552+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:23:36.553+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:36.553+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.553+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:23:36.553+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:23:36.554+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:23:36.554+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:23:36.555+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:23:36.555+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:23:36.555+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:23:36.555+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:23:36.555+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:23:36.555+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:23:36.555+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:23:36.556+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:23:36.558+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:23:36.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:23:36.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:23:36.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:23:36.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:23:36.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:23:36.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:23:36.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:23:36.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1127238963<open>)] for JPA transaction
2026-01-19T09:23:36.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:23:36.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d80e81b]
2026-01-19T09:23:36.560+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:23:36.561+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1127238963<open>)] for JPA transaction
2026-01-19T09:23:36.561+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:23:36.561+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:36.562+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:23:36.564+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:23:36.564+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:23:36.564+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:23:36.564+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1127238963<open>)]
2026-01-19T09:23:36.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:23:36.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:23:36.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:23:36.566+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:26:30.357+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:26:30.359+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:26:30.359+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:26:30.359+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:26:30.360+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:26:30.361+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:26:30.361+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:30.364+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:26:30.367+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1905788658<open>)] for JPA transaction
2026-01-19T09:26:30.367+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:26:30.368+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5431401b]
2026-01-19T09:26:30.368+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:26:30.368+07:00  INFO 25796 --- [http-nio-8080-exec-4] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:26:30.368+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:26:30.369+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:26:30.369+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1905788658<open>)]
2026-01-19T09:26:30.369+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:26:30.369+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1905788658<open>)] for JPA transaction
2026-01-19T09:26:30.370+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:26:30.370+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7ade0625]
2026-01-19T09:26:30.370+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:26:30.370+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:26:30.370+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:26:30.371+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1905788658<open>)]
2026-01-19T09:26:30.371+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:26:30.371+07:00  INFO 25796 --- [http-nio-8080-exec-4] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:26:30.372+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:26:30.373+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:26:30.373+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:26:30.376+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:26:30.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:26:30.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:26:30.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:30.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:26:30.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:26:30.379+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:26:30.379+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:30.380+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:26:30.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:26:30.384+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:30.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:30.387+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:26:30.387+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:26:30.388+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:26:38.974+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:26:38.975+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:26:38.975+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:26:38.975+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.977+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:26:38.978+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.978+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:26:38.978+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:26:38.978+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:26:38.978+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:38.978+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:38.980+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:38.980+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:38.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:26:38.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:26:38.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:26:38.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.983+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:26:38.984+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:26:38.984+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:26:38.985+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1164854797<open>)] for JPA transaction
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:26:38.985+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:26:38.986+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:26:38.986+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b74f460]
2026-01-19T09:26:38.986+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:26:38.986+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:26:38.986+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1164854797<open>)] for JPA transaction
2026-01-19T09:26:38.986+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:26:38.986+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:26:38.987+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:26:38.988+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.989+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.989+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.989+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.989+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:26:38.989+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:26:38.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:26:38.990+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:26:38.990+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:38.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:26:38.990+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1164854797<open>)]
2026-01-19T09:26:38.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:26:38.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:38.991+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:26:38.992+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:26:38.993+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:26:38.994+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:26:38.994+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.994+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:26:38.994+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.994+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:26:38.995+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:38.995+07:00  WARN 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:26:38.995+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:26:38.996+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:26:38.996+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:26:38.996+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:26:38.996+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:26:38.996+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:26:38.997+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:26:39.000+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:26:39.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:26:39.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:26:39.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:26:39.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:26:39.001+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:26:39.002+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:26:39.002+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:26:39.002+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(212866422<open>)] for JPA transaction
2026-01-19T09:26:39.003+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:26:39.003+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7046820e]
2026-01-19T09:26:39.003+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:26:39.003+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(212866422<open>)] for JPA transaction
2026-01-19T09:26:39.004+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:26:39.004+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:26:39.005+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:26:39.007+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:26:39.007+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:26:39.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:26:39.007+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(212866422<open>)]
2026-01-19T09:26:39.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:26:39.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:26:39.008+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:26:39.009+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:10.282+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:35:10.284+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:35:10.285+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:35:10.286+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:35:10.286+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:35:10.287+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:35:10.287+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:10.288+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:35:10.291+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1340035986<open>)] for JPA transaction
2026-01-19T09:35:10.291+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:10.292+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a8493]
2026-01-19T09:35:10.292+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:35:10.292+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:35:10.292+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:35:10.292+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:10.293+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1340035986<open>)]
2026-01-19T09:35:10.293+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:10.293+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1340035986<open>)] for JPA transaction
2026-01-19T09:35:10.293+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:10.294+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d59b257]
2026-01-19T09:35:10.294+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:35:10.294+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:35:10.294+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:10.294+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1340035986<open>)]
2026-01-19T09:35:10.295+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:10.295+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:35:10.296+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:10.296+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:35:10.297+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:10.299+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:35:10.300+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:35:10.300+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:35:10.301+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:10.301+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:35:10.301+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:10.301+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:10.301+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:10.302+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:35:10.304+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:35:10.305+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:10.305+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:10.307+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:10.307+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:35:10.307+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:14.925+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:35:14.926+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.926+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:35:14.926+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.927+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.928+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:14.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:14.929+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:14.929+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:14.929+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:14.930+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:14.930+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:35:14.935+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:14.935+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:14.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(637118880<open>)] for JPA transaction
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1bdb818]
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:14.936+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:14.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(637118880<open>)] for JPA transaction
2026-01-19T09:35:14.937+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:35:14.937+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:14.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:35:14.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:14.940+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:14.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:14.940+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:14.940+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:14.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:14.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(637118880<open>)]
2026-01-19T09:35:14.941+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:14.941+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:14.941+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:14.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:35:14.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:14.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:14.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:35:14.944+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:35:14.945+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.945+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:35:14.946+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:35:14.946+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:14.946+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:14.946+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:14.946+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:14.948+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:14.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:14.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:35:14.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:14.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:14.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:35:14.952+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:35:14.952+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:14.952+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:14.952+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(643963387<open>)] for JPA transaction
2026-01-19T09:35:14.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:14.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6288e1a9]
2026-01-19T09:35:14.953+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:14.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(643963387<open>)] for JPA transaction
2026-01-19T09:35:14.954+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:35:14.954+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:14.955+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:35:14.957+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:14.957+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:14.957+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:14.957+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(643963387<open>)]
2026-01-19T09:35:14.958+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:14.958+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:14.958+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:35:14.959+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:18.498+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:35:18.499+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:35:18.500+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:35:18.501+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:35:18.501+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:18.502+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:35:18.505+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(319688644<open>)] for JPA transaction
2026-01-19T09:35:18.505+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:18.505+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11bf5446]
2026-01-19T09:35:18.505+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:35:18.506+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:35:18.506+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:35:18.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:18.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(319688644<open>)]
2026-01-19T09:35:18.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:18.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(319688644<open>)] for JPA transaction
2026-01-19T09:35:18.507+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:18.507+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6fc3b89f]
2026-01-19T09:35:18.507+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:35:18.507+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:35:18.507+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:18.507+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(319688644<open>)]
2026-01-19T09:35:18.508+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:18.508+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:35:18.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:18.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:35:18.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:18.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:35:18.513+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:35:18.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:35:18.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:18.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:35:18.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:18.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:18.515+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:18.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:18.518+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:18.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:35:18.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:35:18.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:18.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:35:18.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:35:18.520+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:18.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:18.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:18.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:35:18.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:40.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:35:40.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:35:40.592+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:35:40.594+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:40.595+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:40.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:40.596+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:40.596+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:40.596+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:40.597+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:40.597+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.601+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:35:40.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:35:40.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:35:40.602+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.602+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:35:40.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:40.602+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(281048627<open>)] for JPA transaction
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:40.603+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@49901723]
2026-01-19T09:35:40.603+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:40.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(281048627<open>)] for JPA transaction
2026-01-19T09:35:40.604+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:35:40.604+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:40.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:35:40.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.605+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.606+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.606+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.606+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:40.606+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:40.607+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:40.607+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:40.607+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:40.607+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:40.607+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(281048627<open>)]
2026-01-19T09:35:40.608+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:40.608+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:40.608+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:40.609+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:35:40.610+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.611+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:35:40.612+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:35:40.612+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:35:40.612+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:35:40.613+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:35:40.613+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:35:40.613+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:35:40.613+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:35:40.614+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:35:40.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:35:40.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:35:40.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:35:40.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:35:40.617+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:35:40.618+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:35:40.618+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:40.618+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:35:40.619+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1742890385<open>)] for JPA transaction
2026-01-19T09:35:40.619+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:35:40.619+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28107621]
2026-01-19T09:35:40.619+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:40.620+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1742890385<open>)] for JPA transaction
2026-01-19T09:35:40.620+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:35:40.620+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:40.621+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:35:40.623+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:35:40.623+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:35:40.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:35:40.623+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1742890385<open>)]
2026-01-19T09:35:40.624+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:35:40.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:35:40.625+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:35:40.626+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:39:43.208+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:39:43.210+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:39:43.211+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:39:43.212+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:39:43.212+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:39:43.213+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:43.214+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:39:43.216+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1913453718<open>)] for JPA transaction
2026-01-19T09:39:43.216+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:39:43.217+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15cb6547]
2026-01-19T09:39:43.217+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:39:43.217+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:39:43.217+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:39:43.217+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:39:43.218+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1913453718<open>)]
2026-01-19T09:39:43.218+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:39:43.218+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1913453718<open>)] for JPA transaction
2026-01-19T09:39:43.218+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:39:43.219+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@bef2a0a]
2026-01-19T09:39:43.219+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:39:43.219+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:39:43.219+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:39:43.219+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1913453718<open>)]
2026-01-19T09:39:43.220+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:39:43.220+07:00  INFO 25796 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:39:43.221+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:39:43.221+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:39:43.222+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:39:43.225+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:39:43.226+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:39:43.227+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:39:43.227+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:43.227+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:39:43.227+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:39:43.227+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:39:43.228+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:43.229+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:43.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:39:43.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:39:43.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:39:43.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:43.232+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:39:43.233+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:39:43.233+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:43.234+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:43.236+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:39:43.237+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:39:43.237+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:39:47.374+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:39:47.375+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:39:47.375+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:39:47.375+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:39:47.376+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:39:47.376+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:39:47.376+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.376+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.377+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:47.377+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:39:47.378+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:39:47.378+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:47.379+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:47.379+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:47.382+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:39:47.382+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:39:47.382+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:39:47.383+07:00  WARN 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.383+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:39:47.384+07:00  WARN 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:39:47.384+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:39:47.384+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:39:47.384+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1397678251<open>)] for JPA transaction
2026-01-19T09:39:47.384+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:39:47.384+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:39:47.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:39:47.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9193bfb]
2026-01-19T09:39:47.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:39:47.385+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:39:47.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1397678251<open>)] for JPA transaction
2026-01-19T09:39:47.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:39:47.385+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:39:47.386+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:39:47.387+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.387+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.388+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.388+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.388+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:39:47.388+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:39:47.388+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:39:47.388+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:39:47.388+07:00 TRACE 25796 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:47.389+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:39:47.389+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1397678251<open>)]
2026-01-19T09:39:47.389+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:39:47.390+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:47.390+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:39:47.390+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:39:47.392+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:39:47.392+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:39:47.392+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:39:47.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:39:47.393+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/mini-test/pending-count
2026-01-19T09:39:47.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:39:47.394+07:00  WARN 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/mini-test/pending-count.
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/mini-test/pending-count.]
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:39:47.394+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:39:47.395+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:39:47.395+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:39:47.395+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:39:47.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:39:47.399+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:39:47.399+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:39:47.399+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:39:47.400+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:39:47.400+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:39:47.400+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:39:47.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:39:47.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:39:47.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(226445403<open>)] for JPA transaction
2026-01-19T09:39:47.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:39:47.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1181f7e7]
2026-01-19T09:39:47.402+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:39:47.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(226445403<open>)] for JPA transaction
2026-01-19T09:39:47.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:39:47.402+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:39:47.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:39:47.405+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:39:47.406+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:39:47.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:39:47.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(226445403<open>)]
2026-01-19T09:39:47.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:39:47.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:39:47.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:39:47.408+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:49.874+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:43:49.875+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:43:49.876+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:43:49.877+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:43:49.877+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:43:49.877+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:43:49.878+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:49.879+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:43:49.880+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(778219029<open>)] for JPA transaction
2026-01-19T09:43:49.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:49.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53ad65ca]
2026-01-19T09:43:49.881+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:43:49.881+07:00  INFO 25796 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:43:49.881+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:43:49.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:49.881+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(778219029<open>)]
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(778219029<open>)] for JPA transaction
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1e3ac8e7]
2026-01-19T09:43:49.882+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:43:49.882+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:49.882+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(778219029<open>)]
2026-01-19T09:43:49.883+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:49.883+07:00  INFO 25796 --- [http-nio-8080-exec-6] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:43:49.883+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:49.884+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:43:49.884+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:49.886+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:43:49.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:43:49.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:43:49.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:49.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:43:49.888+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:49.889+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:49.889+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:49.890+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:49.891+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:43:49.892+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:49.892+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:49.894+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:49.894+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:43:49.894+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:54.501+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:43:54.501+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.501+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:43:54.502+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.503+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:43:54.503+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:43:54.503+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.503+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:54.504+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:54.505+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:54.505+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:54.505+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:54.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:54.506+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:54.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:54.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:54.509+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.510+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:43:54.510+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:43:54.510+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(680245350<open>)] for JPA transaction
2026-01-19T09:43:54.511+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:54.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@166084a2]
2026-01-19T09:43:54.512+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:43:54.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(680245350<open>)] for JPA transaction
2026-01-19T09:43:54.512+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:43:54.512+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:43:54.513+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.513+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:43:54.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.514+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:54.515+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:54.515+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:54.515+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:43:54.516+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:43:54.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:54.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(680245350<open>)]
2026-01-19T09:43:54.516+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:54.517+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:54.517+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:54.518+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:43:54.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:54.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:54.519+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:43:54.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:43:54.520+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:43:54.520+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.521+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:43:54.521+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:54.522+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:43:54.522+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:54.523+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:54.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:54.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:43:54.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:43:54.526+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:54.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:43:54.527+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:43:54.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:43:54.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:43:54.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2098605726<open>)] for JPA transaction
2026-01-19T09:43:54.528+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:54.529+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4143ead8]
2026-01-19T09:43:54.529+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:43:54.529+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2098605726<open>)] for JPA transaction
2026-01-19T09:43:54.529+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:43:54.530+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:43:54.530+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:43:54.533+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:43:54.533+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:43:54.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:54.533+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2098605726<open>)]
2026-01-19T09:43:54.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:54.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:54.534+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:43:54.535+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:59.707+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:43:59.709+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:43:59.710+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:43:59.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:43:59.711+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:43:59.712+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:59.713+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:43:59.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2124229707<open>)] for JPA transaction
2026-01-19T09:43:59.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:59.715+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1c1bd382]
2026-01-19T09:43:59.715+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:43:59.716+07:00  INFO 25796 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:43:59.716+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:43:59.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:59.716+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2124229707<open>)]
2026-01-19T09:43:59.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:59.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2124229707<open>)] for JPA transaction
2026-01-19T09:43:59.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:43:59.717+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32b85d62]
2026-01-19T09:43:59.717+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:43:59.717+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:43:59.718+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:43:59.718+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2124229707<open>)]
2026-01-19T09:43:59.718+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:43:59.718+07:00  INFO 25796 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:43:59.719+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:59.719+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:43:59.720+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:43:59.723+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:43:59.724+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:43:59.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:43:59.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:59.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:43:59.725+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:43:59.726+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:43:59.726+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:59.727+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:59.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:43:59.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:43:59.729+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:43:59.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:43:59.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:43:59.730+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:43:59.730+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:43:59.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:43:59.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:43:59.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:43:59.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:44:04.242+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:44:04.242+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:44:04.242+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.242+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.245+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:44:04.245+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:44:04.246+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:44:04.247+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:44:04.247+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:44:04.247+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:44:04.247+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:44:04.248+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:44:04.248+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.252+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:44:04.253+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.253+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:44:04.254+07:00  WARN 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1368183184<open>)] for JPA transaction
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:44:04.254+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:44:04.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:44:04.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9550671]
2026-01-19T09:44:04.255+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:44:04.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1368183184<open>)] for JPA transaction
2026-01-19T09:44:04.255+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:44:04.255+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:44:04.256+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:44:04.257+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.257+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.257+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.258+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.258+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:44:04.258+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:44:04.258+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:44:04.258+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:44:04.259+07:00 TRACE 25796 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:44:04.259+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:44:04.259+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1368183184<open>)]
2026-01-19T09:44:04.259+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:44:04.259+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:44:04.260+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:44:04.261+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:44:04.262+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:44:04.262+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:44:04.262+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.262+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:44:04.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:44:04.263+07:00  WARN 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:44:04.263+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:44:04.264+07:00  WARN 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:44:04.264+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:44:04.265+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:44:04.265+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:44:04.266+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:44:04.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:44:04.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:44:04.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:44:04.269+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:44:04.270+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:44:04.270+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:44:04.270+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:44:04.271+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:44:04.271+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(665032660<open>)] for JPA transaction
2026-01-19T09:44:04.271+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:44:04.271+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d2e797a]
2026-01-19T09:44:04.272+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:44:04.272+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(665032660<open>)] for JPA transaction
2026-01-19T09:44:04.272+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:44:04.272+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:44:04.273+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:44:04.275+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:44:04.276+07:00 TRACE 25796 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:44:04.276+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:44:04.276+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(665032660<open>)]
2026-01-19T09:44:04.277+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:44:04.277+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:44:04.277+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:44:04.278+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:38.556+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:48:38.558+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:48:38.558+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:48:38.558+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:48:38.559+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:48:38.560+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:48:38.560+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:38.562+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:48:38.564+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(525683957<open>)] for JPA transaction
2026-01-19T09:48:38.564+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:38.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6214e217]
2026-01-19T09:48:38.565+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:48:38.565+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:48:38.565+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:48:38.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:38.565+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(525683957<open>)]
2026-01-19T09:48:38.566+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:38.566+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(525683957<open>)] for JPA transaction
2026-01-19T09:48:38.566+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:38.566+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@55ab7627]
2026-01-19T09:48:38.567+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:48:38.567+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:48:38.567+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:38.567+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(525683957<open>)]
2026-01-19T09:48:38.568+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:38.568+07:00  INFO 25796 --- [http-nio-8080-exec-9] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:48:38.569+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:38.569+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:48:38.570+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:38.573+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:48:38.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:48:38.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:48:38.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:38.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:48:38.575+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:38.576+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:38.576+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:38.577+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:48:38.580+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:48:38.581+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:38.582+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:38.584+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:38.584+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:48:38.585+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:43.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:48:43.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.731+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:48:43.732+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:48:43.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:48:43.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.733+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:48:43.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:43.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:43.734+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.735+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:43.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:43.735+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:43.736+07:00 TRACE 25796 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:43.736+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:43.736+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:43.739+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:43.739+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:43.739+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:48:43.740+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:48:43.741+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:48:43.741+07:00  WARN 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:48:43.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:48:43.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:48:43.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(640158167<open>)] for JPA transaction
2026-01-19T09:48:43.741+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:48:43.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:43.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:48:43.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:48:43.742+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51d4d5c4]
2026-01-19T09:48:43.742+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:48:43.743+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(640158167<open>)] for JPA transaction
2026-01-19T09:48:43.743+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:48:43.743+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:48:43.744+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:48:43.744+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.745+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.745+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.745+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.745+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:43.746+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:43.746+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:48:43.746+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:43.746+07:00 TRACE 25796 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:48:43.746+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:43.746+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(640158167<open>)]
2026-01-19T09:48:43.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:43.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:43.747+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:43.748+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:43.750+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:48:43.751+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:48:43.751+07:00  WARN 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:48:43.751+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:48:43.752+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:43.753+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:43.753+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:43.754+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:48:43.758+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:48:43.759+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:48:43.759+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:48:43.759+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(310020212<open>)] for JPA transaction
2026-01-19T09:48:43.759+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:43.760+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3c27ce1a]
2026-01-19T09:48:43.760+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:48:43.760+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(310020212<open>)] for JPA transaction
2026-01-19T09:48:43.760+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:48:43.760+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:48:43.761+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:48:43.764+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:48:43.764+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:48:43.764+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:43.764+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(310020212<open>)]
2026-01-19T09:48:43.765+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:43.765+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:43.765+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:48:43.766+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:47.930+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:48:47.932+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:48:47.933+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:48:47.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:48:47.934+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:48:47.935+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:48:47.936+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:47.936+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:48:47.938+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(269971560<open>)] for JPA transaction
2026-01-19T09:48:47.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:47.939+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6e0b00b6]
2026-01-19T09:48:47.939+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:48:47.939+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:48:47.939+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:48:47.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:47.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(269971560<open>)]
2026-01-19T09:48:47.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:47.940+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(269971560<open>)] for JPA transaction
2026-01-19T09:48:47.941+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:48:47.941+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38814913]
2026-01-19T09:48:47.941+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:48:47.941+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:48:47.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:48:47.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(269971560<open>)]
2026-01-19T09:48:47.942+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:48:47.942+07:00  INFO 25796 --- [http-nio-8080-exec-5] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:48:47.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:47.943+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:48:47.944+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:48:47.947+07:00 DEBUG 25796 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:48:47.948+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:48:47.949+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:48:47.949+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:47.949+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:48:47.949+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:48:47.949+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:48:47.949+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:47.951+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:47.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:48:47.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:48:47.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:48:47.953+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:48:47.954+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:48:47.954+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:48:47.954+07:00 TRACE 25796 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:48:47.955+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:48:47.957+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:48:47.957+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:48:47.958+07:00 DEBUG 25796 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:49:29.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:49:29.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:49:29.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.385+07:00 DEBUG 25796 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:49:29.391+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:49:29.392+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:49:29.392+07:00 TRACE 25796 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:49:29.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:49:29.393+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:49:29.396+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:49:29.397+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:49:29.397+07:00  WARN 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:49:29.397+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(839173556<open>)] for JPA transaction
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35bf28c]
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:49:29.398+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:49:29.398+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(839173556<open>)] for JPA transaction
2026-01-19T09:49:29.399+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:49:29.399+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:49:29.400+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:49:29.400+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.401+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:49:29.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:49:29.402+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:49:29.402+07:00 TRACE 25796 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:49:29.402+07:00 TRACE 25796 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:49:29.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:49:29.402+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(839173556<open>)]
2026-01-19T09:49:29.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:49:29.403+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:49:29.404+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:49:29.404+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:49:29.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:49:29.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:49:29.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.405+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:49:29.406+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:49:29.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:49:29.406+07:00  WARN 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:49:29.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:49:29.406+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:49:29.407+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:49:29.407+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:49:29.408+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:49:29.411+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:49:29.411+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:49:29.411+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:49:29.411+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:49:29.411+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:49:29.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:49:29.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:49:29.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:49:29.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1094027550<open>)] for JPA transaction
2026-01-19T09:49:29.412+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:49:29.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@36b28b37]
2026-01-19T09:49:29.413+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:49:29.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1094027550<open>)] for JPA transaction
2026-01-19T09:49:29.413+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:49:29.413+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:49:29.414+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:49:29.416+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:49:29.416+07:00 TRACE 25796 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:49:29.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:49:29.416+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1094027550<open>)]
2026-01-19T09:49:29.417+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:49:29.417+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:49:29.418+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:49:29.418+07:00 DEBUG 25796 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:54:01.479+07:00  INFO 25796 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-01-19T09:54:01.484+07:00  INFO 25796 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T09:54:01.517+07:00  INFO 25796 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T09:54:01.521+07:00  INFO 25796 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:54:01.523+07:00  INFO 25796 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-19T09:54:01.525+07:00  INFO 25796 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-19T09:54:01.590+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 25796 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T09:54:01.590+07:00 DEBUG 25796 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T09:54:01.590+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T09:54:01.733+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T09:54:01.767+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 16 JPA repository interfaces.
2026-01-19T09:54:01.816+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T09:54:01.817+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T09:54:01.817+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T09:54:01.828+07:00  INFO 25796 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 237 ms
2026-01-19T09:54:01.844+07:00  INFO 25796 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T09:54:01.870+07:00  INFO 25796 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T09:54:01.871+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-19T09:54:01.873+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c837c04
2026-01-19T09:54:01.873+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-19T09:54:01.874+07:00  WARN 25796 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T09:54:01.874+07:00  INFO 25796 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T09:54:02.002+07:00  INFO 25796 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T09:54:02.008+07:00  INFO 25796 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:54:02.032+07:00 DEBUG 25796 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T09:54:02.182+07:00  WARN 25796 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T09:54:02.193+07:00  INFO 25796 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T09:54:02.212+07:00 DEBUG 25796 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T09:54:02.231+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 62 mappings in 'requestMappingHandlerMapping'
2026-01-19T09:54:02.235+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T09:54:02.235+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T09:54:02.238+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T09:54:02.241+07:00 DEBUG 25796 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T09:54:02.263+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T09:54:02.265+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.686 seconds (process running for 2171.015)
2026-01-19T09:54:02.266+07:00  INFO 25796 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T09:54:16.012+07:00  INFO 25796 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-19T09:54:16.014+07:00  INFO 25796 --- [Thread-5] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T09:54:16.059+07:00  INFO 25796 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T09:54:16.061+07:00  INFO 25796 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:54:16.062+07:00  INFO 25796 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-19T09:54:16.063+07:00  INFO 25796 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-19T09:54:16.123+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 25796 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T09:54:16.123+07:00 DEBUG 25796 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T09:54:16.124+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T09:54:16.250+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T09:54:16.273+07:00  INFO 25796 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 16 JPA repository interfaces.
2026-01-19T09:54:16.312+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T09:54:16.313+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T09:54:16.313+07:00  INFO 25796 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T09:54:16.322+07:00  INFO 25796 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 197 ms
2026-01-19T09:54:16.337+07:00  INFO 25796 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T09:54:16.353+07:00  INFO 25796 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T09:54:16.354+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-19T09:54:16.356+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4fb95477
2026-01-19T09:54:16.356+07:00  INFO 25796 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-19T09:54:16.357+07:00  WARN 25796 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T09:54:16.357+07:00  INFO 25796 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T09:54:16.467+07:00  INFO 25796 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T09:54:16.472+07:00  INFO 25796 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:54:16.492+07:00 DEBUG 25796 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T09:54:16.618+07:00  WARN 25796 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T09:54:16.628+07:00  INFO 25796 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T09:54:16.650+07:00 DEBUG 25796 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T09:54:16.666+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T09:54:16.672+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T09:54:16.672+07:00 DEBUG 25796 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T09:54:16.674+07:00 DEBUG 25796 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T09:54:16.676+07:00 DEBUG 25796 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T09:54:16.692+07:00  INFO 25796 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T09:54:16.693+07:00  INFO 25796 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.58 seconds (process running for 2185.443)
2026-01-19T09:54:16.694+07:00  INFO 25796 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T09:57:15.203+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37344 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T09:57:15.205+07:00 DEBUG 37344 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T09:57:15.205+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T09:57:15.232+07:00  INFO 37344 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-19T09:57:15.232+07:00  INFO 37344 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-19T09:57:15.735+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T09:57:15.795+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 16 JPA repository interfaces.
2026-01-19T09:57:16.257+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T09:57:16.274+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T09:57:16.274+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T09:57:16.310+07:00  INFO 37344 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1078 ms
2026-01-19T09:57:16.422+07:00  INFO 37344 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T09:57:16.454+07:00  INFO 37344 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-19T09:57:16.698+07:00  INFO 37344 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T09:57:16.714+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-19T09:57:16.792+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d451143
2026-01-19T09:57:16.793+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-19T09:57:16.817+07:00  WARN 37344 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T09:57:16.827+07:00  INFO 37344 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T09:57:17.411+07:00  INFO 37344 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T09:57:17.441+07:00  INFO 37344 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T09:57:17.485+07:00  INFO 37344 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-19T09:57:17.849+07:00 DEBUG 37344 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T09:57:18.390+07:00  WARN 37344 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T09:57:18.431+07:00  INFO 37344 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T09:57:18.509+07:00 DEBUG 37344 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T09:57:18.604+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T09:57:18.620+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T09:57:18.644+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T09:57:18.659+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T09:57:18.681+07:00 DEBUG 37344 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T09:57:18.776+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T09:57:18.781+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.823 seconds (process running for 4.067)
2026-01-19T09:57:22.796+07:00  INFO 37344 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-19T09:57:22.796+07:00  INFO 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-19T09:57:22.796+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-19T09:57:22.797+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-19T09:57:22.797+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1c1e5be5
2026-01-19T09:57:22.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@493dcc01
2026-01-19T09:57:22.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-19T09:57:22.798+07:00  INFO 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-19T09:57:22.802+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:57:22.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:57:22.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:57:22.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:22.820+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:22.821+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:57:22.821+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:57:22.821+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:22.822+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:57:22.825+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:57:22.859+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:57:22.875+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:22.919+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:57:22.939+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(856823470<open>)] for JPA transaction
2026-01-19T09:57:22.940+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:57:22.942+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@de2897a]
2026-01-19T09:57:22.943+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:57:22.943+07:00  INFO 37344 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:57:22.943+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:57:22.943+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:22.944+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(856823470<open>)]
2026-01-19T09:57:22.950+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:22.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(856823470<open>)] for JPA transaction
2026-01-19T09:57:22.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:57:22.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@740da970]
2026-01-19T09:57:22.951+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:57:22.956+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:57:22.956+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:22.956+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(856823470<open>)]
2026-01-19T09:57:22.957+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:22.957+07:00  INFO 37344 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:57:23.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:23.021+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:57:23.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:23.040+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:57:23.044+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:57:23.045+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:57:23.045+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:23.045+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:57:23.045+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:23.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:23.075+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:23.090+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:23.094+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:23.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:57:23.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:57:23.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:23.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:57:23.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:57:23.096+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:23.098+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:23.101+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:23.103+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:57:23.105+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:27.663+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:57:27.663+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:57:27.664+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.664+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.667+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:57:27.667+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:57:27.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.669+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:57:27.669+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:27.669+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:27.669+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:27.669+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:27.670+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:27.670+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:27.671+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:27.671+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:27.675+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:27.675+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:27.675+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:57:27.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:57:27.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:57:27.678+07:00  WARN 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:57:27.679+07:00  WARN 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:57:27.680+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:57:27.681+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:57:27.684+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:57:27.684+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:27.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:57:27.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(45273770<open>)] for JPA transaction
2026-01-19T09:57:27.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:57:27.686+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3cbf0c88]
2026-01-19T09:57:27.686+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:57:27.686+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(45273770<open>)] for JPA transaction
2026-01-19T09:57:27.687+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:57:27.687+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:27.688+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.688+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.688+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.688+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.689+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:27.689+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:27.690+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:27.691+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:27.695+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:27.696+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.696+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.696+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:27.696+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:57:27.697+07:00  WARN 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:57:27.698+07:00  WARN 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:57:27.698+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:57:27.698+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:57:27.698+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:57:27.699+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:57:27.699+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:27.702+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:27.702+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:57:27.702+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:27.702+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(45273770<open>)]
2026-01-19T09:57:27.703+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:27.704+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:27.705+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:57:27.708+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:29.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:57:29.175+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:57:29.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:57:29.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:29.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:29.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:57:29.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:57:29.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:29.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:57:29.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:57:29.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:57:29.178+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:29.180+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:57:29.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(911629922<open>)] for JPA transaction
2026-01-19T09:57:29.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:57:29.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@391be1b9]
2026-01-19T09:57:29.184+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:57:29.184+07:00  INFO 37344 --- [http-nio-8080-exec-3] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:57:29.184+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:57:29.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:29.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(911629922<open>)]
2026-01-19T09:57:29.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:29.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(911629922<open>)] for JPA transaction
2026-01-19T09:57:29.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:57:29.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44ef0c99]
2026-01-19T09:57:29.186+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:57:29.187+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:57:29.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:29.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(911629922<open>)]
2026-01-19T09:57:29.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:29.188+07:00  INFO 37344 --- [http-nio-8080-exec-3] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:57:29.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:29.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:57:29.190+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:29.194+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:57:29.196+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:57:29.196+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:57:29.196+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:29.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:57:29.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:29.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:29.198+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:29.199+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:29.202+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:29.202+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:57:29.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:57:29.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:29.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:57:29.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:57:29.204+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:29.205+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:29.207+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:29.208+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:57:29.209+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:33.557+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:57:33.557+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:57:33.558+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:57:33.558+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:57:33.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:57:33.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:33.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:33.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:33.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:33.562+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:33.562+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:33.564+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:33.564+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:33.568+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:33.568+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:33.568+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:57:33.568+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:57:33.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:57:33.570+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1587299530<open>)] for JPA transaction
2026-01-19T09:57:33.570+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1568875646<open>)] for JPA transaction
2026-01-19T09:57:33.570+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:33.570+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:33.572+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40415acd]
2026-01-19T09:57:33.572+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1224f6c2]
2026-01-19T09:57:33.572+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.573+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:57:33.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:57:33.575+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.575+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1587299530<open>)]
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1568875646<open>)]
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:33.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:33.579+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:33.579+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:33.579+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:57:33.579+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:57:33.581+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:33.581+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:57:33.584+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:57:33.584+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:33.584+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:33.584+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:33.585+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:33.585+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:33.585+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:33.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:33.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:33.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2006982232<open>)] for JPA transaction
2026-01-19T09:57:33.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1825364991<open>)] for JPA transaction
2026-01-19T09:57:33.592+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:33.592+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:33.592+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29cc9954]
2026-01-19T09:57:33.592+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.592+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1bf782d0]
2026-01-19T09:57:33.592+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.593+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:57:33.593+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:57:33.594+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.594+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:33.594+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:33.595+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:33.595+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2006982232<open>)]
2026-01-19T09:57:33.595+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1825364991<open>)]
2026-01-19T09:57:33.595+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:33.595+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:33.596+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:33.596+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:33.596+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:57:33.596+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:57:33.597+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:33.597+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:40.527+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/vocabulary/lessons
2026-01-19T09:57:40.527+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/vocabulary/lessons
2026-01-19T09:57:40.529+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/vocabulary/lessons
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/vocabulary/lessons
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/vocabulary/lessons
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/vocabulary/lessons
2026-01-19T09:57:40.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:40.531+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/vocabulary/lessons", parameters={}
2026-01-19T09:57:40.531+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.VocabularyController#getAllLessons()
2026-01-19T09:57:40.532+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllLessonIds]: This method is not transactional.
2026-01-19T09:57:40.534+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        distinct v1_0.lesson_id 
    from
        vocabulary v1_0 
    order by
        v1_0.lesson_id
2026-01-19T09:57:40.537+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.541+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.546+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.547+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.551+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.552+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.556+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.556+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.559+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.563+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.564+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.566+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.567+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.570+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.570+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.573+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.574+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.576+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.576+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.578+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.579+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.581+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.581+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.583+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.585+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.588+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.588+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.590+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.592+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.592+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.594+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.594+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.596+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.596+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.598+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.598+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.599+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.600+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.602+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.603+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.604+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.606+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.608+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.610+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.612+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.612+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.614+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.616+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.619+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.621+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.622+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.623+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.625+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.627+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.630+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.632+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.634+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.634+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.636+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.638+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.639+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.641+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.641+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.643+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.643+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.645+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.645+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.647+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.647+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.649+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.649+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.651+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.652+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.654+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.654+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.656+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.656+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.658+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.658+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.660+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.662+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.662+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.664+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:40.667+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=Th√†nh c√¥ng!, data=[LessonResponse(id=1, title=B√†i 1 ‚Äì T·ª´ v·ª±ng Minn (truncated)...]
2026-01-19T09:57:40.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/vocabulary/lessons
2026-01-19T09:57:40.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/vocabulary/lessons
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/vocabulary/lessons
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/vocabulary/lessons
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:57:40.677+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/vocabulary/lessons", parameters={}
2026-01-19T09:57:40.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.VocabularyController#getAllLessons()
2026-01-19T09:57:40.678+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllLessonIds]: This method is not transactional.
2026-01-19T09:57:40.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        distinct v1_0.lesson_id 
    from
        vocabulary v1_0 
    order by
        v1_0.lesson_id
2026-01-19T09:57:40.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:40.680+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.681+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.682+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.683+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.685+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.687+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.687+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.689+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.689+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.691+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.691+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.693+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.693+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.695+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.695+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.697+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.697+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.698+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.699+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.701+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.701+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.703+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.703+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.705+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.705+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.707+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.707+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.709+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.709+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.710+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.711+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.712+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.713+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.714+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.715+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.716+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.716+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.718+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.719+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.720+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.721+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.722+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.724+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.725+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.726+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.728+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.728+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.729+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.730+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.731+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.733+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.735+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.737+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.738+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.739+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.741+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.742+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.743+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.743+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.745+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.747+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.748+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.750+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.750+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.752+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.754+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.754+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.756+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.756+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.758+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.758+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.760+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.760+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.761+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.762+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.763+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.765+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.767+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.768+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.769+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.770+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.771+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.773+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.775+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.775+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.776+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonIdOrderByIdAsc]: This method is not transactional.
2026-01-19T09:57:40.777+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        v1_0.id,
        v1_0.category,
        v1_0.japanese,
        v1_0.kanji,
        v1_0.lesson_id,
        v1_0.vietnamese 
    from
        vocabulary v1_0 
    where
        v1_0.lesson_id=? 
    order by
        v1_0.id
2026-01-19T09:57:40.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:40.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=Th√†nh c√¥ng!, data=[LessonResponse(id=1, title=B√†i 1 ‚Äì T·ª´ v·ª±ng Minn (truncated)...]
2026-01-19T09:57:40.783+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:44.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:57:44.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:57:44.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/categories
2026-01-19T09:57:44.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/levels
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:57:44.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:57:44.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:44.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:44.269+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:44.269+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:44.269+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:44.269+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:44.271+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:44.271+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:44.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:44.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:57:44.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:57:44.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(393169204<open>)] for JPA transaction
2026-01-19T09:57:44.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1407261329<open>)] for JPA transaction
2026-01-19T09:57:44.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:44.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:44.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11214d61]
2026-01-19T09:57:44.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c65643b]
2026-01-19T09:57:44.277+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.277+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.278+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:57:44.278+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:57:44.279+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.279+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(393169204<open>)]
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1407261329<open>)]
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:44.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:44.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:44.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:44.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:57:44.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:57:44.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:44.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:44.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/categories
2026-01-19T09:57:44.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/levels
2026-01-19T09:57:44.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:44.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/categories
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/levels
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:44.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:57:44.286+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:44.286+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:57:44.286+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:44.286+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:57:44.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:44.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:57:44.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:44.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:57:44.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/categories
2026-01-19T09:57:44.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/levels
2026-01-19T09:57:44.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/categories
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/levels
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/categories", parameters={}
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getCategories()
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/levels", parameters={}
2026-01-19T09:57:44.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.CommonController#getLevels()
2026-01-19T09:57:44.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1061376004<open>)] for JPA transaction
2026-01-19T09:57:44.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:44.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2041704092<open>)] for JPA transaction
2026-01-19T09:57:44.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:57:44.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7f24aeb2]
2026-01-19T09:57:44.293+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.294+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@60dabdef]
2026-01-19T09:57:44.294+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.294+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.description,
        c1_0.displayName,
        c1_0.name 
    from
        category c1_0
2026-01-19T09:57:44.295+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        jl1_0.id,
        jl1_0.displayName,
        jl1_0.level 
    from
        jlpt_level jl1_0
2026-01-19T09:57:44.296+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:44.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1061376004<open>)]
2026-01-19T09:57:44.296+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:57:44.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:57:44.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2041704092<open>)]
2026-01-19T09:57:44.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:44.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:57:44.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:44.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:57:44.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [[CategoryDTO(id=1, name=VOCABULARY, displayName=T·ª´ v·ª±ng, description=null), CategoryDTO(id=2, name=K (truncated)...]
2026-01-19T09:57:44.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [[JlptLevelDTO(id=5, level=N1, displayName=JLPT N1), JlptLevelDTO(id=4, level=N2, displayName=JLPT N2 (truncated)...]
2026-01-19T09:57:44.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:57:44.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:03.254+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:58:03.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:58:03.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:58:03.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:58:03.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:58:03.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:58:03.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:58:03.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:58:03.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:58:03.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:58:03.259+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T09:58:03.259+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:03.260+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:58:03.263+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(642469527<open>)] for JPA transaction
2026-01-19T09:58:03.263+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:03.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@149747d3]
2026-01-19T09:58:03.264+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:58:03.264+07:00  INFO 37344 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:58:03.264+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:58:03.264+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:03.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(642469527<open>)]
2026-01-19T09:58:03.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:03.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(642469527<open>)] for JPA transaction
2026-01-19T09:58:03.266+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:03.266+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b1a93b]
2026-01-19T09:58:03.266+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:58:03.267+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:58:03.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:03.267+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(642469527<open>)]
2026-01-19T09:58:03.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:03.268+07:00  INFO 37344 --- [http-nio-8080-exec-7] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T09:58:03.269+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:03.269+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T09:58:03.270+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:03.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:58:03.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:58:03.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:03.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:03.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:58:03.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:03.278+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:03.278+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:03.279+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:03.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:03.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:58:03.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:03.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:03.283+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:58:03.283+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:58:03.283+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:03.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:03.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:03.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:58:03.288+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:06.823+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:06.823+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:06.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:06.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:06.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:06.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:06.827+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:06.829+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:06.832+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:06.832+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:06.832+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.833+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:06.833+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:06.833+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:06.834+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:06.834+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:06.835+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(595658830<open>)] for JPA transaction
2026-01-19T09:58:06.835+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:06.836+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@429b67b8]
2026-01-19T09:58:06.836+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:06.836+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:06.838+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:06.841+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:06.844+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:06.846+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:06.846+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:06.846+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(595658830<open>)]
2026-01-19T09:58:06.847+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:06.848+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:06.849+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:06.853+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:06.854+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:06.854+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.854+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:06.854+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.855+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:06.855+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:06.856+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:06.857+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:06.860+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:06.860+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:06.860+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:06.861+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:06.861+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:06.861+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:06.861+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:06.862+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:06.862+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(959407083<open>)] for JPA transaction
2026-01-19T09:58:06.862+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:06.862+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9397ed]
2026-01-19T09:58:06.863+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:06.863+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:06.863+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:06.865+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:06.865+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:06.866+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:06.866+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:06.866+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(959407083<open>)]
2026-01-19T09:58:06.867+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:06.867+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:06.867+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:06.868+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:07.447+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.447+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.447+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.447+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.448+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:07.448+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:07.449+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:07.450+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:07.453+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:07.453+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.453+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.453+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.454+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:07.454+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:07.455+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.455+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.455+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1840680646<open>)] for JPA transaction
2026-01-19T09:58:07.455+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:07.456+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27ab8c0]
2026-01-19T09:58:07.456+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.457+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:07.457+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:07.459+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:07.459+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:07.460+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.460+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:07.460+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1840680646<open>)]
2026-01-19T09:58:07.461+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:07.461+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:07.461+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:07.462+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:07.463+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.464+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.464+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.464+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.464+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:07.465+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:07.465+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:07.466+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:07.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:07.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.471+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.471+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.471+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:07.471+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:07.472+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.472+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.472+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(832192217<open>)] for JPA transaction
2026-01-19T09:58:07.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:07.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6e68bdfa]
2026-01-19T09:58:07.473+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.474+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:07.474+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:07.476+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:07.477+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:07.478+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.478+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:07.478+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(832192217<open>)]
2026-01-19T09:58:07.479+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:07.479+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:07.479+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:07.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:07.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:07.483+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:07.483+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:07.484+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:07.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:07.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:07.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:07.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.489+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2134617047<open>)] for JPA transaction
2026-01-19T09:58:07.489+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:07.489+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2aff1f75]
2026-01-19T09:58:07.489+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.490+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:07.490+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:07.492+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:07.492+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:07.493+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.493+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:07.494+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2134617047<open>)]
2026-01-19T09:58:07.494+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:07.494+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:07.495+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:07.495+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:07.496+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:07.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:07.498+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:07.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:07.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:07.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:07.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:07.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:07.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:07.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:07.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:07.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(300703986<open>)] for JPA transaction
2026-01-19T09:58:07.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:07.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1509a036]
2026-01-19T09:58:07.505+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.505+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:07.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:07.507+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:07.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:07.508+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:07.508+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:07.508+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(300703986<open>)]
2026-01-19T09:58:07.509+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:07.509+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:07.509+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:07.510+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:30.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:30.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:30.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:30.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:30.020+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.021+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.021+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.021+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.021+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:30.022+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:30.022+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:30.023+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:30.026+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:30.026+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.026+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.027+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.027+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:30.027+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:30.027+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.028+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.028+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1316694262<open>)] for JPA transaction
2026-01-19T09:58:30.028+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:30.029+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33c8f460]
2026-01-19T09:58:30.029+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.029+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:30.029+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:30.031+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:30.032+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:30.033+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.033+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:30.033+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1316694262<open>)]
2026-01-19T09:58:30.033+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:30.034+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:30.034+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:30.035+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:30.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.037+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:30.038+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:30.038+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:30.039+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:30.042+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:30.042+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.042+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.042+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.043+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:30.043+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:30.043+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.043+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.044+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1265519838<open>)] for JPA transaction
2026-01-19T09:58:30.044+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:30.044+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b99522f]
2026-01-19T09:58:30.044+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.045+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:30.045+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:30.047+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:30.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:30.048+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.048+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:30.048+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1265519838<open>)]
2026-01-19T09:58:30.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:30.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:30.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:30.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:30.051+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.051+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:30.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:30.053+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:30.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:30.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:30.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:30.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:30.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(180223873<open>)] for JPA transaction
2026-01-19T09:58:30.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:30.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@66eba777]
2026-01-19T09:58:30.058+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.058+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:30.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:30.061+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:30.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:30.062+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:30.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(180223873<open>)]
2026-01-19T09:58:30.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:30.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:30.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:30.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:30.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:30.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:30.065+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:30.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:30.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:30.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:30.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:30.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:30.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:30.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:30.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:30.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(489772257<open>)] for JPA transaction
2026-01-19T09:58:30.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:30.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@604573a4]
2026-01-19T09:58:30.072+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.072+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:30.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:30.074+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:30.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:30.075+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:30.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:30.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(489772257<open>)]
2026-01-19T09:58:30.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:30.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:30.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:30.077+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:31.701+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:58:31.701+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:58:31.704+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:58:31.704+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:58:31.704+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:31.705+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:58:31.705+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:31.705+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:31.706+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:31.707+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:31.711+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:31.712+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:58:31.712+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:58:31.712+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:31.712+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:58:31.712+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:58:31.713+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:31.713+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:31.714+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(924373311<open>)] for JPA transaction
2026-01-19T09:58:31.714+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:31.715+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38231a95]
2026-01-19T09:58:31.715+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:58:31.715+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:31.716+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:31.718+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:58:31.720+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:58:31.722+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:58:31.722+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:31.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(924373311<open>)]
2026-01-19T09:58:31.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:31.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:31.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T09:58:31.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:31.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:58:31.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:58:31.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:31.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:58:31.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:31.727+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:31.727+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:31.728+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:31.731+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:31.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:58:31.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:58:31.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:31.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:58:31.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:58:31.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:31.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:31.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1899506303<open>)] for JPA transaction
2026-01-19T09:58:31.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:31.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3016e2e4]
2026-01-19T09:58:31.734+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:58:31.734+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:31.735+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:31.736+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:58:31.737+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:58:31.738+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:58:31.738+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:31.738+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1899506303<open>)]
2026-01-19T09:58:31.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:31.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:31.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T09:58:31.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:39.564+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:58:39.564+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:58:39.566+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:58:39.567+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:39.567+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.567+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:58:39.567+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:39.568+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:39.568+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.569+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.572+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:39.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:58:39.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:39.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:58:39.573+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:58:39.574+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.575+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.577+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:39.578+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:58:39.578+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:39.580+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:58:39.580+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:39.580+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.580+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:58:39.580+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:39.581+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:39.581+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.583+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.585+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:39.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:58:39.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:39.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:58:39.586+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:58:39.587+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.588+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.590+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:39.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:58:39.591+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:39.602+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:39.602+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:39.602+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:58:39.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:39.606+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:39.606+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:39.610+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:39.611+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.611+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.611+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1523875182<open>)] for JPA transaction
2026-01-19T09:58:39.611+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:39.612+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@ef193f2]
2026-01-19T09:58:39.612+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.612+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:39.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:39.614+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:39.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:39.616+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:39.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1523875182<open>)]
2026-01-19T09:58:39.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:39.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:39.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:39.618+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:39.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:39.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:39.621+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.623+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:39.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:39.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:39.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.627+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.627+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1199455395<open>)] for JPA transaction
2026-01-19T09:58:39.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:39.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@338b8c82]
2026-01-19T09:58:39.628+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.628+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:39.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:39.630+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:39.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:39.631+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:39.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1199455395<open>)]
2026-01-19T09:58:39.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:39.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:39.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:39.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:39.634+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:39.636+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:58:39.636+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:39.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:39.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:58:39.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:58:39.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:58:39.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:39.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:58:39.641+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:58:39.641+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:58:39.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1701304183<open>)] for JPA transaction
2026-01-19T09:58:39.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:39.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38549196]
2026-01-19T09:58:39.643+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.643+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:58:39.643+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:58:39.645+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:58:39.645+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:58:39.646+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:58:39.646+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:39.646+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1701304183<open>)]
2026-01-19T09:58:39.647+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:39.647+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:39.647+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:39.649+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:45.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:58:45.735+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:58:45.735+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:58:45.735+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:58:45.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:58:45.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:58:45.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:58:45.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:58:45.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:58:45.737+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:58:45.737+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:58:45.737+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:45.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:58:45.742+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(884276951<open>)] for JPA transaction
2026-01-19T09:58:45.742+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:45.742+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4961d3a4]
2026-01-19T09:58:45.742+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:58:45.743+07:00  INFO 37344 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:58:45.743+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:58:45.743+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:45.743+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(884276951<open>)]
2026-01-19T09:58:45.744+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:45.744+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(884276951<open>)] for JPA transaction
2026-01-19T09:58:45.744+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:45.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78b68205]
2026-01-19T09:58:45.745+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:58:45.745+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:58:45.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:45.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(884276951<open>)]
2026-01-19T09:58:45.746+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:45.746+07:00  INFO 37344 --- [http-nio-8080-exec-1] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:58:45.747+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:45.747+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:58:45.748+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:45.750+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:58:45.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:58:45.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:45.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:45.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:58:45.752+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:45.753+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:45.753+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:45.754+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:45.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:45.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:58:45.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:58:45.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:45.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:58:45.758+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:58:45.758+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:45.759+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:45.760+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:45.761+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:58:45.761+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:50.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:58:50.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:58:50.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:58:50.470+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:58:50.472+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:58:50.472+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:50.473+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:50.474+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:50.474+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:50.474+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:50.475+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:50.476+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:50.476+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:50.479+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:50.479+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:58:50.480+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:58:50.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:58:50.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:50.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:50.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:50.481+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(802646047<open>)] for JPA transaction
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(452907555<open>)] for JPA transaction
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5945241b]
2026-01-19T09:58:50.482+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:50.482+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38a41be6]
2026-01-19T09:58:50.483+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(802646047<open>)] for JPA transaction
2026-01-19T09:58:50.483+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:50.483+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:58:50.483+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:50.484+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:58:50.484+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:58:50.484+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:58:50.486+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:50.486+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:50.486+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:50.486+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:50.486+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(452907555<open>)]
2026-01-19T09:58:50.486+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:50.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(802646047<open>)]
2026-01-19T09:58:50.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:50.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:50.487+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:50.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:50.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:50.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:58:50.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:50.488+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:50.490+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:58:50.490+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:50.491+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:50.492+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:50.492+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:50.492+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:50.492+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:50.493+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:50.493+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:50.496+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:50.496+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:50.496+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:58:50.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1305516458<open>)] for JPA transaction
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2137566274<open>)] for JPA transaction
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:50.498+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:50.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@103869d]
2026-01-19T09:58:50.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@542cc231]
2026-01-19T09:58:50.500+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:50.500+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:50.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2137566274<open>)] for JPA transaction
2026-01-19T09:58:50.500+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:58:50.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:58:50.500+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:50.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:58:50.501+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:58:50.501+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:50.501+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:50.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1305516458<open>)]
2026-01-19T09:58:50.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:50.503+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:50.503+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:50.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:50.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:50.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:50.503+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2137566274<open>)]
2026-01-19T09:58:50.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:50.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:50.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:50.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:58:50.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:54.754+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:58:54.754+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:58:54.755+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.755+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:54.755+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.755+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.756+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.756+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:58:54.756+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:54.756+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:54.757+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:54.758+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:54.758+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:54.758+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:54.760+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:54.760+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.764+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:54.765+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1347811703<open>)] for JPA transaction
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(638837683<open>)] for JPA transaction
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:54.766+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:54.767+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f8f24a2]
2026-01-19T09:58:54.767+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1011bdc0]
2026-01-19T09:58:54.767+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:54.767+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:54.767+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(638837683<open>)] for JPA transaction
2026-01-19T09:58:54.767+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:58:54.767+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:58:54.768+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:54.768+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:58:54.768+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:58:54.769+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:54.769+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:54.770+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1347811703<open>)]
2026-01-19T09:58:54.770+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:54.770+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:54.770+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:54.770+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:54.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:54.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:54.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(638837683<open>)]
2026-01-19T09:58:54.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:54.771+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:54.772+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:54.772+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:58:54.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:54.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:58:54.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.773+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:54.774+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:58:54.774+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:54.775+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:58:54.775+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:58:54.775+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:54.776+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:58:54.778+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:58:54.779+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:58:54.780+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1001139356<open>)] for JPA transaction
2026-01-19T09:58:54.781+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(379536485<open>)] for JPA transaction
2026-01-19T09:58:54.781+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:58:54.781+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:58:54.782+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ce0dc3a]
2026-01-19T09:58:54.782+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57145bda]
2026-01-19T09:58:54.782+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:54.782+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:54.782+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(379536485<open>)] for JPA transaction
2026-01-19T09:58:54.782+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:58:54.782+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:58:54.782+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:54.782+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:58:54.783+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:58:54.783+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:58:54.784+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:54.784+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1001139356<open>)]
2026-01-19T09:58:54.784+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:58:54.785+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(379536485<open>)]
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:58:54.785+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:58:54.786+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:58:54.786+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:58:54.786+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:58:54.787+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:00.353+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:59:00.353+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:00.353+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T09:59:00.353+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.356+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:00.357+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:00.357+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:00.358+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:00.359+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:00.359+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.363+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:59:00.364+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(185152853<open>)] for JPA transaction
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(486438222<open>)] for JPA transaction
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:00.365+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:00.366+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1190c5a2]
2026-01-19T09:59:00.366+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e8dc1a3]
2026-01-19T09:59:00.366+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:00.366+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:59:00.366+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(486438222<open>)] for JPA transaction
2026-01-19T09:59:00.366+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:59:00.366+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:00.366+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:00.367+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:59:00.367+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:00.368+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:59:00.368+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:00.368+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(185152853<open>)]
2026-01-19T09:59:00.369+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:00.369+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:00.369+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:00.369+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:00.369+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:00.369+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(486438222<open>)]
2026-01-19T09:59:00.369+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:00.370+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:00.370+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:00.370+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:00.370+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:00.371+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:00.371+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.372+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:00.373+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:00.373+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:00.373+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:00.373+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:00.373+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:00.374+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:00.374+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:00.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:00.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:00.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:00.380+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:00.380+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:00.380+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T09:59:00.380+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:59:00.380+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(973623800<open>)] for JPA transaction
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(196282181<open>)] for JPA transaction
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:00.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:00.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29b93671]
2026-01-19T09:59:00.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3c81b9db]
2026-01-19T09:59:00.382+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:00.382+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:59:00.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(196282181<open>)] for JPA transaction
2026-01-19T09:59:00.382+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T09:59:00.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:00.383+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:00.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T09:59:00.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:00.384+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T09:59:00.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:00.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(973623800<open>)]
2026-01-19T09:59:00.385+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:00.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:00.385+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:00.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:00.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:00.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(196282181<open>)]
2026-01-19T09:59:00.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:00.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:00.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:00.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:00.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:00.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:01.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T09:59:01.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T09:59:01.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T09:59:01.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T09:59:01.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:01.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:01.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:01.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:01.819+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:01.819+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:01.820+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:01.820+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.824+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T09:59:01.825+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T09:59:01.825+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T09:59:01.825+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T09:59:01.825+07:00  WARN 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T09:59:01.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T09:59:01.826+07:00  WARN 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T09:59:01.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T09:59:01.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:01.826+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:01.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T09:59:01.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T09:59:01.827+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:01.828+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.830+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:01.831+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:01.831+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:01.831+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:01.833+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:01.833+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:01.836+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:01.836+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T09:59:01.837+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T09:59:01.838+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T09:59:01.838+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T09:59:01.838+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T09:59:01.838+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T09:59:01.838+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:01.839+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:03.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:59:03.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:59:03.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:03.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:03.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:03.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:59:03.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:03.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:03.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:59:03.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:59:03.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:59:03.071+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:03.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:59:03.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(515126031<open>)] for JPA transaction
2026-01-19T09:59:03.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:03.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40fc7f68]
2026-01-19T09:59:03.079+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:03.079+07:00  INFO 37344 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:59:03.079+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:03.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:03.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(515126031<open>)]
2026-01-19T09:59:03.080+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:03.080+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(515126031<open>)] for JPA transaction
2026-01-19T09:59:03.080+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:03.080+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3939840e]
2026-01-19T09:59:03.081+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:03.081+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:03.081+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:03.081+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(515126031<open>)]
2026-01-19T09:59:03.082+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:03.082+07:00  INFO 37344 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:59:03.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:03.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:59:03.084+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:03.086+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:03.088+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:03.088+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:03.088+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:03.089+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:03.089+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:03.089+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:03.089+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:03.091+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:03.093+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:03.093+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:03.093+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:03.093+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:03.094+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:03.094+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:03.094+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:03.095+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:03.096+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:03.096+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:59:03.097+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:07.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:07.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:07.606+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:07.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:07.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:07.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:07.608+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:07.608+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:07.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:07.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:07.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:07.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:07.614+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:07.614+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:59:07.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(454128789<open>)] for JPA transaction
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:07.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6780d67d]
2026-01-19T09:59:07.616+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:07.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(454128789<open>)] for JPA transaction
2026-01-19T09:59:07.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:07.616+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:07.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.618+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:07.618+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.618+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:07.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:07.620+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:07.620+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:07.620+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:07.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:07.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(454128789<open>)]
2026-01-19T09:59:07.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:07.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:07.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:07.622+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:07.623+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:07.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:07.625+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.625+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:59:07.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:07.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:07.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:59:07.626+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:07.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:07.627+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:07.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:07.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:07.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:07.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:07.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:07.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:07.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:07.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:07.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1005438948<open>)] for JPA transaction
2026-01-19T09:59:07.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:07.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e393a12]
2026-01-19T09:59:07.633+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:07.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1005438948<open>)] for JPA transaction
2026-01-19T09:59:07.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:07.634+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:07.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:07.637+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:07.637+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:07.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:07.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1005438948<open>)]
2026-01-19T09:59:07.638+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:07.638+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:07.639+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:07.640+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:09.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:59:09.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:59:09.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:09.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:09.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:09.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:59:09.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:09.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:09.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:59:09.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:59:09.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:59:09.055+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:09.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:59:09.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1420266244<open>)] for JPA transaction
2026-01-19T09:59:09.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:09.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fe0de89]
2026-01-19T09:59:09.059+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:09.059+07:00  INFO 37344 --- [http-nio-8080-exec-9] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:59:09.060+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:09.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:09.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1420266244<open>)]
2026-01-19T09:59:09.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:09.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1420266244<open>)] for JPA transaction
2026-01-19T09:59:09.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:09.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22ae3c60]
2026-01-19T09:59:09.061+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:09.062+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:09.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:09.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1420266244<open>)]
2026-01-19T09:59:09.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:09.062+07:00  INFO 37344 --- [http-nio-8080-exec-9] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:59:09.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:09.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:59:09.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:09.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:09.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:09.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:09.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:09.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:09.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:09.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:09.070+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:09.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:09.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:09.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:09.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:09.074+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:09.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:09.075+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:09.075+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:09.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:09.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:09.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:59:09.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:14.302+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.302+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:14.302+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T09:59:14.303+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.305+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:14.306+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:14.306+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:14.306+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:14.306+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:14.306+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:14.306+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:14.307+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:14.307+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.311+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:14.312+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:14.312+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:14.312+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.312+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:14.312+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:59:14.312+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:14.312+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:59:14.313+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(946184135<open>)] for JPA transaction
2026-01-19T09:59:14.313+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:14.313+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:14.314+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:59:14.314+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37bbe6c8]
2026-01-19T09:59:14.314+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:14.314+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:14.314+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(946184135<open>)] for JPA transaction
2026-01-19T09:59:14.314+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:14.314+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:14.315+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:14.315+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.316+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.316+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.316+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.317+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:14.317+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:14.317+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:14.317+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:14.317+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:14.317+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(946184135<open>)]
2026-01-19T09:59:14.317+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:14.318+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:14.318+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:14.318+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:14.319+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:14.319+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:14.321+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T09:59:14.321+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:14.321+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.321+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:14.321+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:14.322+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T09:59:14.322+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:14.323+07:00  WARN 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T09:59:14.323+07:00  WARN 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T09:59:14.323+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T09:59:14.323+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T09:59:14.323+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:14.324+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T09:59:14.324+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:14.326+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:14.326+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T09:59:14.327+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T09:59:14.327+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:14.327+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T09:59:14.327+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T09:59:14.328+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:14.328+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T09:59:14.328+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1120600242<open>)] for JPA transaction
2026-01-19T09:59:14.328+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:14.329+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ebd695b]
2026-01-19T09:59:14.329+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:14.329+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1120600242<open>)] for JPA transaction
2026-01-19T09:59:14.329+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T09:59:14.329+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:14.330+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T09:59:14.333+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T09:59:14.333+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T09:59:14.333+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:14.333+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1120600242<open>)]
2026-01-19T09:59:14.334+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:14.334+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:14.334+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T09:59:14.335+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:25.139+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:59:25.141+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:59:25.142+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:25.142+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:25.142+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:25.142+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:59:25.142+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:25.143+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:25.143+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:59:25.143+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:59:25.144+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T09:59:25.144+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:25.145+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:59:25.148+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2115525036<open>)] for JPA transaction
2026-01-19T09:59:25.148+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:25.148+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2de7576f]
2026-01-19T09:59:25.149+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:25.149+07:00  INFO 37344 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:59:25.149+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:25.149+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:25.149+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2115525036<open>)]
2026-01-19T09:59:25.150+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:25.150+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2115525036<open>)] for JPA transaction
2026-01-19T09:59:25.150+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:25.150+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@773ddbd]
2026-01-19T09:59:25.150+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:25.151+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:25.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:25.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2115525036<open>)]
2026-01-19T09:59:25.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:25.152+07:00  INFO 37344 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T09:59:25.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:25.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T09:59:25.154+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:25.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:25.160+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:25.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:25.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:25.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:25.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:25.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:25.162+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:25.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:25.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:25.167+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:25.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:25.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:25.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:59:25.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:28.715+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:28.715+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:28.717+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:28.718+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.718+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:28.718+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.718+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:28.718+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:28.719+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:28.720+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:28.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:28.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:28.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:28.723+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:28.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:28.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:28.724+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:28.725+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1808945488<open>)] for JPA transaction
2026-01-19T09:59:28.725+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:28.725+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a5dd315]
2026-01-19T09:59:28.726+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:28.726+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:28.726+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:28.728+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:28.729+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:28.730+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:28.730+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:28.730+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1808945488<open>)]
2026-01-19T09:59:28.731+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:28.731+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:28.731+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:28.732+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:28.733+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:28.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:28.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.734+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:28.735+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:28.735+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:28.736+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:28.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:28.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:28.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:28.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:28.739+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:28.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:28.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:28.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:28.740+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1773755642<open>)] for JPA transaction
2026-01-19T09:59:28.741+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:28.741+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@730e3969]
2026-01-19T09:59:28.741+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:28.741+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:28.742+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:28.743+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:28.744+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:28.745+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:28.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:28.745+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1773755642<open>)]
2026-01-19T09:59:28.746+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:28.746+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:28.746+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:28.747+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:29.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:29.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:29.384+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:29.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:29.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:29.388+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.389+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.389+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(99213784<open>)] for JPA transaction
2026-01-19T09:59:29.389+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:29.389+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b571ca8]
2026-01-19T09:59:29.390+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.390+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:29.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:29.392+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:29.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:29.393+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:29.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(99213784<open>)]
2026-01-19T09:59:29.394+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:29.394+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:29.394+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:29.395+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:29.396+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:29.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:29.398+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:29.399+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:29.401+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:29.401+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.401+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:29.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:29.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.403+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(853174275<open>)] for JPA transaction
2026-01-19T09:59:29.403+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:29.403+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d39eae0]
2026-01-19T09:59:29.403+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.403+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:29.404+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:29.405+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:29.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:29.407+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:29.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(853174275<open>)]
2026-01-19T09:59:29.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:29.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:29.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:29.409+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:29.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:29.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:29.411+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:29.412+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:29.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:29.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:29.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:29.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1428763281<open>)] for JPA transaction
2026-01-19T09:59:29.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:29.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7fa8d4c4]
2026-01-19T09:59:29.417+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.417+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:29.418+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:29.419+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:29.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:29.420+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:29.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1428763281<open>)]
2026-01-19T09:59:29.421+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:29.421+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:29.421+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:29.422+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:29.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:29.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:29.424+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:29.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:29.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:29.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:29.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(952618032<open>)] for JPA transaction
2026-01-19T09:59:29.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:29.430+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@64643570]
2026-01-19T09:59:29.430+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.430+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:29.431+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:29.433+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:29.433+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:29.434+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:29.434+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:29.434+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(952618032<open>)]
2026-01-19T09:59:29.435+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:29.435+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:29.435+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:29.436+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:31.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:59:31.605+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T09:59:31.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:59:31.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:59:31.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:31.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:59:31.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:31.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:31.609+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:31.611+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:31.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:31.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:59:31.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:59:31.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:31.614+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:59:31.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:59:31.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:31.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:31.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2071748320<open>)] for JPA transaction
2026-01-19T09:59:31.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:31.616+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@601c633d]
2026-01-19T09:59:31.616+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:59:31.616+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:31.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:31.619+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:59:31.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:59:31.621+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:59:31.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:31.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2071748320<open>)]
2026-01-19T09:59:31.622+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:31.622+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:31.622+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T09:59:31.623+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:31.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T09:59:31.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:59:31.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:31.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T09:59:31.625+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:31.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:31.626+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:31.627+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T09:59:31.630+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T09:59:31.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:31.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:31.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1337189298<open>)] for JPA transaction
2026-01-19T09:59:31.631+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:31.632+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d282fd4]
2026-01-19T09:59:31.632+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:59:31.632+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:31.633+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:31.634+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T09:59:31.635+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T09:59:31.636+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T09:59:31.636+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:31.636+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1337189298<open>)]
2026-01-19T09:59:31.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:31.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:31.637+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T09:59:31.638+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:34.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:34.604+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:34.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:34.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:34.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.607+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:34.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:34.608+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:34.608+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.609+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.612+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:34.612+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:34.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:34.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:34.613+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:34.614+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.615+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:34.617+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:59:34.618+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:34.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:34.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:34.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:34.619+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:34.620+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:34.620+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.621+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:34.624+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:34.625+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.626+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:34.628+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T09:59:34.629+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:34.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:34.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:34.642+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:34.644+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.644+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.644+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.644+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.645+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:34.645+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:34.645+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.647+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:34.650+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:34.651+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.651+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.651+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(806641469<open>)] for JPA transaction
2026-01-19T09:59:34.651+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:34.652+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@16633c26]
2026-01-19T09:59:34.652+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.652+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:34.653+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:34.655+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:34.655+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:34.656+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.656+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:34.656+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(806641469<open>)]
2026-01-19T09:59:34.657+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:34.657+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:34.657+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:34.658+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:34.659+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:34.660+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:34.660+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.662+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.664+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:34.664+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.665+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.665+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.665+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:34.665+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:34.665+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.666+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.666+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(205681282<open>)] for JPA transaction
2026-01-19T09:59:34.666+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:34.667+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a123c63]
2026-01-19T09:59:34.667+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.667+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:34.668+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:34.669+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:34.670+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:34.670+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.671+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:34.671+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(205681282<open>)]
2026-01-19T09:59:34.671+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:34.672+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:34.672+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:34.672+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:34.673+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.674+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.674+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.674+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.674+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:34.675+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:34.675+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:34.676+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:34.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:34.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:34.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:34.678+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:34.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:34.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:34.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.679+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:34.680+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(187038584<open>)] for JPA transaction
2026-01-19T09:59:34.680+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:34.680+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@52668b79]
2026-01-19T09:59:34.680+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.680+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:34.681+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:34.683+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:34.683+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:34.684+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:34.684+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:34.684+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(187038584<open>)]
2026-01-19T09:59:34.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:34.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:34.685+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:34.686+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:35.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.949+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:35.949+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:35.949+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:35.950+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:35.953+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:35.953+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.953+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.953+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:35.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:35.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.955+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(545067225<open>)] for JPA transaction
2026-01-19T09:59:35.955+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:35.955+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50f08c5d]
2026-01-19T09:59:35.955+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.955+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:35.956+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:35.957+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:35.958+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:35.959+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.959+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:35.959+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(545067225<open>)]
2026-01-19T09:59:35.959+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:35.960+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:35.960+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:35.960+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:35.962+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:35.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:35.963+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:35.964+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:35.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:35.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1406728734<open>)] for JPA transaction
2026-01-19T09:59:35.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:35.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3607598b]
2026-01-19T09:59:35.968+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.969+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:35.969+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:35.970+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:35.971+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:35.972+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:35.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1406728734<open>)]
2026-01-19T09:59:35.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:35.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:35.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:35.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:35.974+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:35.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:35.976+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:35.977+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:35.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:35.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:35.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:35.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(95208211<open>)] for JPA transaction
2026-01-19T09:59:35.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:35.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34fa4422]
2026-01-19T09:59:35.981+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.981+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:35.982+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:35.983+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:35.984+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:35.985+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.985+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:35.985+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(95208211<open>)]
2026-01-19T09:59:35.985+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:35.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:35.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:35.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:35.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:35.989+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:35.989+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:35.990+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:35.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:35.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:35.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1242533500<open>)] for JPA transaction
2026-01-19T09:59:35.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:35.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1293b723]
2026-01-19T09:59:35.994+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.994+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:35.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:35.996+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:35.996+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:35.997+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:35.997+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:35.997+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1242533500<open>)]
2026-01-19T09:59:35.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:35.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:35.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:35.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:46.375+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:46.375+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:46.375+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:46.376+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:46.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.378+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:46.379+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:46.379+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:46.381+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:46.383+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:46.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:46.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:46.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(803321380<open>)] for JPA transaction
2026-01-19T09:59:46.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:46.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@359c4060]
2026-01-19T09:59:46.386+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.386+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:46.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:46.388+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:46.389+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:46.390+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:46.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(803321380<open>)]
2026-01-19T09:59:46.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:46.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:46.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:46.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:46.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:46.394+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:46.394+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:46.395+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:46.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:46.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:46.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:46.399+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.399+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.399+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1956306135<open>)] for JPA transaction
2026-01-19T09:59:46.399+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:46.400+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57fe432e]
2026-01-19T09:59:46.400+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.400+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:46.400+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:46.402+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:46.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:46.403+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.403+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:46.403+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1956306135<open>)]
2026-01-19T09:59:46.404+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:46.404+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:46.404+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:46.405+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:46.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:46.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:46.407+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:46.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:46.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:46.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.410+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:46.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:46.411+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.412+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.412+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(501411704<open>)] for JPA transaction
2026-01-19T09:59:46.412+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:46.412+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22d7e37a]
2026-01-19T09:59:46.413+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.413+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:46.413+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:46.415+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:46.415+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:46.416+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:46.416+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(501411704<open>)]
2026-01-19T09:59:46.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:46.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:46.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:46.418+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:46.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:46.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T09:59:46.420+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:46.421+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:46.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T09:59:46.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:46.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:46.423+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:46.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:46.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:46.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:46.424+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2027254127<open>)] for JPA transaction
2026-01-19T09:59:46.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:46.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6205e623]
2026-01-19T09:59:46.425+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.425+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:46.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:46.427+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:46.427+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:46.428+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:46.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:46.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2027254127<open>)]
2026-01-19T09:59:46.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:46.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:46.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:46.430+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:52.417+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T09:59:52.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T09:59:52.419+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T09:59:52.420+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T09:59:52.421+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T09:59:52.422+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:52.422+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T09:59:52.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(619675378<open>)] for JPA transaction
2026-01-19T09:59:52.425+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:52.426+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f9ffbcb]
2026-01-19T09:59:52.426+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:52.426+07:00  INFO 37344 --- [http-nio-8080-exec-9] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T09:59:52.426+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T09:59:52.426+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:52.426+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(619675378<open>)]
2026-01-19T09:59:52.427+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:52.427+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(619675378<open>)] for JPA transaction
2026-01-19T09:59:52.427+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T09:59:52.428+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57138251]
2026-01-19T09:59:52.428+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:52.428+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T09:59:52.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:52.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(619675378<open>)]
2026-01-19T09:59:52.429+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:52.429+07:00  INFO 37344 --- [http-nio-8080-exec-9] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T09:59:52.431+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:52.431+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T09:59:52.431+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:52.435+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T09:59:52.436+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T09:59:52.436+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:52.436+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:52.436+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T09:59:52.437+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:52.437+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:52.437+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:52.438+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T09:59:52.442+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T09:59:52.442+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:52.443+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:52.445+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:52.446+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T09:59:52.447+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:55.990+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:55.991+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T09:59:55.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:55.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:55.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:55.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:55.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:55.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:55.994+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:55.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:55.997+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:55.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:55.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:55.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:55.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:55.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:55.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:55.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:55.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(246504408<open>)] for JPA transaction
2026-01-19T09:59:55.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:56.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@764482fa]
2026-01-19T09:59:56.000+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:56.000+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:56.001+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:56.003+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:56.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:56.004+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:56.004+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:56.004+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(246504408<open>)]
2026-01-19T09:59:56.005+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:56.005+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:56.005+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:56.006+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T09:59:56.007+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T09:59:56.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:56.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:56.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T09:59:56.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T09:59:56.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T09:59:56.009+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T09:59:56.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T09:59:56.012+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T09:59:56.012+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T09:59:56.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T09:59:56.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T09:59:56.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T09:59:56.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T09:59:56.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:56.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T09:59:56.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1342116294<open>)] for JPA transaction
2026-01-19T09:59:56.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T09:59:56.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@437f2aff]
2026-01-19T09:59:56.015+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:56.015+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T09:59:56.015+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T09:59:56.017+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T09:59:56.017+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T09:59:56.018+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T09:59:56.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T09:59:56.018+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1342116294<open>)]
2026-01-19T09:59:56.019+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T09:59:56.019+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T09:59:56.019+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T09:59:56.020+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:00:01.217+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:00:01.217+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:00:01.217+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:00:01.217+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:00:01.220+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:00:01.221+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:00:01.221+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:00:01.221+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:00:01.221+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:00:01.221+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:00:01.222+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:00:01.222+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:00:01.227+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2018932001<open>)] for JPA transaction
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(46389829<open>)] for JPA transaction
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:00:01.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25b16329]
2026-01-19T10:00:01.229+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:00:01.229+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6dc1a9f]
2026-01-19T10:00:01.229+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2018932001<open>)] for JPA transaction
2026-01-19T10:00:01.229+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:00:01.229+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:00:01.229+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:00:01.229+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:00:01.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:00:01.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:00:01.231+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:00:01.231+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:00:01.231+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(46389829<open>)]
2026-01-19T10:00:01.232+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:00:01.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:00:01.232+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:00:01.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:00:01.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2018932001<open>)]
2026-01-19T10:00:01.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:00:01.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:00:01.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:00:01.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:00:01.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:00:01.234+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:00:01.234+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:00:01.235+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:00:01.235+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:00:01.235+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.235+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:00:01.235+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:00:01.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:00:01.236+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:00:01.236+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:00:01.237+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:00:01.238+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:00:01.240+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:00:01.240+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:00:01.240+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:00:01.240+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:00:01.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2139412528<open>)] for JPA transaction
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1731884185<open>)] for JPA transaction
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:00:01.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6cf48e93]
2026-01-19T10:00:01.243+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:00:01.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e85553d]
2026-01-19T10:00:01.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2139412528<open>)] for JPA transaction
2026-01-19T10:00:01.243+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:00:01.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:00:01.243+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:00:01.243+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:00:01.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:00:01.244+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:00:01.244+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:00:01.245+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:00:01.245+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1731884185<open>)]
2026-01-19T10:00:01.246+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:00:01.246+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:00:01.246+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:00:01.246+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:00:01.246+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:00:01.246+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2139412528<open>)]
2026-01-19T10:00:01.246+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:00:01.247+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:00:01.247+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:00:01.247+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:00:01.247+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:00:01.248+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:19.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:01:19.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:01:19.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:01:19.963+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:01:19.965+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:19.965+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:19.966+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:19.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:19.967+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:19.967+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:19.967+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:19.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:19.968+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:19.971+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:19.972+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1575146612<open>)] for JPA transaction
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1901009613<open>)] for JPA transaction
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:19.973+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:19.974+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@317f63c5]
2026-01-19T10:01:19.974+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:19.974+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ed41ea0]
2026-01-19T10:01:19.974+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1575146612<open>)] for JPA transaction
2026-01-19T10:01:19.974+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:19.974+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:19.974+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:19.974+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:19.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:19.975+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:19.976+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:19.976+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:19.977+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1901009613<open>)]
2026-01-19T10:01:19.977+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:19.977+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:19.977+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:19.977+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:19.977+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1575146612<open>)]
2026-01-19T10:01:19.978+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:19.978+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:19.978+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:19.978+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:19.978+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:19.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:19.979+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.980+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:19.981+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:19.981+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:19.982+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:19.983+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:19.983+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:19.985+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:19.985+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:19.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1373268969<open>)] for JPA transaction
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(402089499<open>)] for JPA transaction
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:19.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:19.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b6ea138]
2026-01-19T10:01:19.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@39915371]
2026-01-19T10:01:19.988+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:19.988+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:19.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(402089499<open>)] for JPA transaction
2026-01-19T10:01:19.988+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:19.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:19.988+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:19.989+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:19.989+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:19.990+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:19.990+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:19.991+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1373268969<open>)]
2026-01-19T10:01:19.991+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:19.991+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:19.991+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:19.991+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:19.991+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(402089499<open>)]
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:19.992+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:19.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:21.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:21.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:21.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:21.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:21.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:21.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:21.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:21.163+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:21.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:21.163+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:21.164+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:21.164+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:21.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:21.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:21.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:21.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:21.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(971863864<open>)] for JPA transaction
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(745599201<open>)] for JPA transaction
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:21.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:21.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4edb3849]
2026-01-19T10:01:21.170+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:21.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@434d17d3]
2026-01-19T10:01:21.170+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:21.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(971863864<open>)] for JPA transaction
2026-01-19T10:01:21.170+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:21.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:21.170+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:21.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:21.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:21.171+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:21.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:21.172+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(745599201<open>)]
2026-01-19T10:01:21.173+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:21.173+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(971863864<open>)]
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:21.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:21.174+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:21.174+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:21.174+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:21.175+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:21.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:21.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:21.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:21.177+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:21.177+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:21.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:21.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:21.181+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:21.181+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:21.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(793659186<open>)] for JPA transaction
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1575946244<open>)] for JPA transaction
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:21.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:21.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17523089]
2026-01-19T10:01:21.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2b87eeb9]
2026-01-19T10:01:21.184+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:21.184+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:21.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1575946244<open>)] for JPA transaction
2026-01-19T10:01:21.184+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:21.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:21.185+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:21.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:21.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:21.185+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:21.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:21.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(793659186<open>)]
2026-01-19T10:01:21.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:21.187+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:21.187+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:21.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:21.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:21.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1575946244<open>)]
2026-01-19T10:01:21.187+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:21.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:21.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:21.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:21.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:21.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:22.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:22.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:22.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:22.152+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:22.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:22.153+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:22.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:22.153+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:22.154+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:22.154+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:22.158+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:22.158+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:22.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:22.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:22.160+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.160+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:22.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:22.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:22.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(411110927<open>)] for JPA transaction
2026-01-19T10:01:22.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(7372670<open>)] for JPA transaction
2026-01-19T10:01:22.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:22.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:22.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7000f26]
2026-01-19T10:01:22.163+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35e50bb9]
2026-01-19T10:01:22.163+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:22.164+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:22.164+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(7372670<open>)] for JPA transaction
2026-01-19T10:01:22.164+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:22.164+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:22.164+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:22.164+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:22.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:22.166+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:22.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:22.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(411110927<open>)]
2026-01-19T10:01:22.167+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:22.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:22.167+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:22.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:22.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(7372670<open>)]
2026-01-19T10:01:22.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:22.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:22.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:22.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:22.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:22.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:22.169+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:22.170+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:22.171+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:22.171+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:22.172+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:22.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:22.173+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:22.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:22.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:22.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:22.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:22.176+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:22.177+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1985067807<open>)] for JPA transaction
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(533198577<open>)] for JPA transaction
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:22.178+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:22.179+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12b941ac]
2026-01-19T10:01:22.179+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@20ccaa06]
2026-01-19T10:01:22.179+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:22.179+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:22.179+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(533198577<open>)] for JPA transaction
2026-01-19T10:01:22.179+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:22.180+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:22.180+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:22.180+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:22.180+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:22.181+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:22.181+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:22.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1985067807<open>)]
2026-01-19T10:01:22.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:22.182+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:22.182+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:22.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:22.182+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:22.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(533198577<open>)]
2026-01-19T10:01:22.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:22.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:22.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:22.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:22.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:22.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:23.046+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:23.046+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.046+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.046+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.048+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.048+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.048+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.048+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:23.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(105996991<open>)] for JPA transaction
2026-01-19T10:01:23.053+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2003023174<open>)] for JPA transaction
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c0d430c]
2026-01-19T10:01:23.054+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ad5d3ec]
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(105996991<open>)] for JPA transaction
2026-01-19T10:01:23.054+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.054+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:23.054+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:23.054+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:23.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:23.055+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:23.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2003023174<open>)]
2026-01-19T10:01:23.057+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.057+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:23.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:23.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(105996991<open>)]
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:23.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:23.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:23.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:23.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.061+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.061+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:23.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1814710097<open>)] for JPA transaction
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(686810392<open>)] for JPA transaction
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@ab967d5]
2026-01-19T10:01:23.067+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1814710097<open>)] for JPA transaction
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54bc458a]
2026-01-19T10:01:23.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:23.068+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.068+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.068+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:23.068+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:23.068+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:23.070+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:23.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(686810392<open>)]
2026-01-19T10:01:23.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:23.070+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.071+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1814710097<open>)]
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:23.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:23.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:23.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:23.073+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:23.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.986+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:23.987+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:23.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.988+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:23.988+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.988+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:23.989+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.989+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:23.993+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:23.994+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(318185109<open>)] for JPA transaction
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(784355560<open>)] for JPA transaction
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:23.995+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:23.996+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@500b727a]
2026-01-19T10:01:23.996+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@724f4b4d]
2026-01-19T10:01:23.996+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.996+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.996+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(784355560<open>)] for JPA transaction
2026-01-19T10:01:23.996+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:23.996+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:23.997+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.997+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:23.997+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:23.998+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:23.998+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:23.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(318185109<open>)]
2026-01-19T10:01:23.999+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:23.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:23.999+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:23.999+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(784355560<open>)]
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.000+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:24.001+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:24.001+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.002+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.003+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.003+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.003+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.004+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.004+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.007+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.007+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:01:24.008+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(117700617<open>)] for JPA transaction
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(429402937<open>)] for JPA transaction
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:01:24.009+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:24.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@793e0721]
2026-01-19T10:01:24.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@47d3371b]
2026-01-19T10:01:24.010+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:24.010+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:24.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(429402937<open>)] for JPA transaction
2026-01-19T10:01:24.010+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:01:24.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:24.010+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:24.010+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:01:24.011+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:24.011+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:01:24.012+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:24.012+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(117700617<open>)]
2026-01-19T10:01:24.013+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:24.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:24.013+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:24.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:24.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(429402937<open>)]
2026-01-19T10:01:24.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.013+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:01:24.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:24.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:24.014+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:24.015+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:24.539+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.539+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.539+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:01:24.539+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:01:24.542+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.543+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.543+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.543+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.544+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.544+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.548+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.549+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.549+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:01:24.549+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.549+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:01:24.550+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:01:24.550+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.550+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:01:24.551+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:01:24.551+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:01:24.551+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:01:24.551+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:01:24.551+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:01:24.552+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:01:24.552+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.552+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:01:24.553+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.554+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:01:24.555+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.555+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:01:24.555+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.555+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:24.555+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.555+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:24.556+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:24.556+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.556+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:01:24.560+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:01:24.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:01:24.561+07:00  WARN 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:01:24.561+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:01:24.561+07:00  WARN 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:01:24.562+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:01:24.563+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:01:24.563+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:26.497+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:01:26.499+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:01:26.499+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:01:26.499+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:01:26.499+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:01:26.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:01:26.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:01:26.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:01:26.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:01:26.500+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:01:26.501+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:01:26.501+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:26.502+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:01:26.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1937219621<open>)] for JPA transaction
2026-01-19T10:01:26.504+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:26.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34a685c9]
2026-01-19T10:01:26.505+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:01:26.505+07:00  INFO 37344 --- [http-nio-8080-exec-10] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:01:26.505+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:01:26.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:26.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1937219621<open>)]
2026-01-19T10:01:26.506+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:26.506+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1937219621<open>)] for JPA transaction
2026-01-19T10:01:26.506+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:26.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@59176fe4]
2026-01-19T10:01:26.507+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:01:26.507+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:01:26.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:26.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1937219621<open>)]
2026-01-19T10:01:26.508+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:26.508+07:00  INFO 37344 --- [http-nio-8080-exec-10] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:01:26.509+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:26.510+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:01:26.510+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:26.513+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:01:26.514+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:01:26.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:01:26.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:26.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:01:26.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:26.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:26.515+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:26.516+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:01:26.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:01:26.520+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:26.520+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:26.522+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:26.522+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:01:26.523+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:31.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:01:31.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.047+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:01:31.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:31.049+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:31.050+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:31.051+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:31.051+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:31.051+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:31.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:31.052+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:31.055+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.056+07:00  WARN 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:31.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:31.056+07:00  WARN 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:01:31.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:01:31.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:31.056+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1235899770<open>)] for JPA transaction
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:31.057+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@282aaef2]
2026-01-19T10:01:31.057+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:31.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1235899770<open>)] for JPA transaction
2026-01-19T10:01:31.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:31.058+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:31.058+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:31.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.059+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:31.060+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:31.060+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:31.061+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:31.061+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:31.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:31.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1235899770<open>)]
2026-01-19T10:01:31.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:31.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:31.062+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:31.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:01:31.065+07:00  WARN 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.065+07:00  WARN 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:01:31.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:01:31.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:01:31.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:01:31.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:01:31.066+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:01:31.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:01:31.067+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:01:31.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:01:31.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:01:31.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:01:31.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:01:31.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:01:31.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:01:31.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:31.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:01:31.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2036964978<open>)] for JPA transaction
2026-01-19T10:01:31.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:01:31.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7116ed1a]
2026-01-19T10:01:31.072+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:31.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2036964978<open>)] for JPA transaction
2026-01-19T10:01:31.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:01:31.072+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:31.073+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:01:31.075+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:01:31.075+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:01:31.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:01:31.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2036964978<open>)]
2026-01-19T10:01:31.077+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:01:31.077+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:01:31.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:01:31.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:11.929+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:03:11.932+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:03:11.932+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:03:11.932+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:03:11.932+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:03:11.933+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:03:11.933+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:03:11.933+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:03:11.933+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:03:11.933+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:03:11.934+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T10:03:11.934+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:11.935+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:03:11.937+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2055558786<open>)] for JPA transaction
2026-01-19T10:03:11.938+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:11.938+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@39bbb318]
2026-01-19T10:03:11.938+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:03:11.938+07:00  INFO 37344 --- [http-nio-8080-exec-3] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:03:11.938+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:03:11.938+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:11.938+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2055558786<open>)]
2026-01-19T10:03:11.940+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:11.940+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2055558786<open>)] for JPA transaction
2026-01-19T10:03:11.940+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:11.940+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@216eaaa]
2026-01-19T10:03:11.940+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:03:11.941+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:03:11.941+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:11.941+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2055558786<open>)]
2026-01-19T10:03:11.941+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:11.941+07:00  INFO 37344 --- [http-nio-8080-exec-3] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T10:03:11.943+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:11.943+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T10:03:11.943+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:11.946+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:03:11.947+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:03:11.947+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:11.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:11.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:03:11.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:11.948+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:11.948+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:11.949+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:03:11.951+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:03:11.951+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:11.952+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:11.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:11.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:03:11.954+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:15.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:03:15.505+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:03:15.506+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:15.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:15.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:15.507+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:15.508+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:15.509+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:15.511+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:15.512+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:15.512+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.512+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:15.512+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:15.512+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:15.513+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:15.513+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:15.513+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1826838477<open>)] for JPA transaction
2026-01-19T10:03:15.513+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:15.514+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53853465]
2026-01-19T10:03:15.514+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:15.514+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:15.515+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:15.517+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:15.517+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:15.517+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:15.517+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:15.517+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1826838477<open>)]
2026-01-19T10:03:15.518+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:15.518+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:15.519+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:15.520+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:15.521+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:15.521+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.521+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:15.521+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.521+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:15.522+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:15.522+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:15.523+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:15.524+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:15.525+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:15.526+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:15.526+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(708326787<open>)] for JPA transaction
2026-01-19T10:03:15.526+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:15.526+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3dfbecde]
2026-01-19T10:03:15.526+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:15.526+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:15.527+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:15.528+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:15.529+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:15.529+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(708326787<open>)]
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:15.530+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:16.251+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.251+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.252+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.252+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.252+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:16.252+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:16.252+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:16.253+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:16.256+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:16.256+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.256+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.256+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:16.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:16.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.257+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(382131562<open>)] for JPA transaction
2026-01-19T10:03:16.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:16.258+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3fe22979]
2026-01-19T10:03:16.258+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.258+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:16.259+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:16.260+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:16.260+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:16.261+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.262+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:16.262+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(382131562<open>)]
2026-01-19T10:03:16.262+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:16.262+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:16.263+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:16.263+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:16.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.265+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:16.266+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:16.266+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:16.266+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:16.268+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:16.269+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.270+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.270+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1500838660<open>)] for JPA transaction
2026-01-19T10:03:16.270+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:16.270+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@252504cd]
2026-01-19T10:03:16.270+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.270+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:16.271+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:16.272+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:16.272+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:16.273+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:16.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1500838660<open>)]
2026-01-19T10:03:16.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:16.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:16.274+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:16.275+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:16.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.276+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:16.277+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:16.277+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:16.278+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.280+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1556487030<open>)] for JPA transaction
2026-01-19T10:03:16.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:16.281+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@768f62a4]
2026-01-19T10:03:16.281+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.281+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:16.282+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:16.282+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:16.283+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:16.284+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:16.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1556487030<open>)]
2026-01-19T10:03:16.284+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:16.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:16.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:16.285+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:16.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.287+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.288+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:16.288+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:16.288+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:16.289+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:16.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:16.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:16.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:16.291+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:16.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:16.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:16.292+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:16.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1948567781<open>)] for JPA transaction
2026-01-19T10:03:16.293+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:16.294+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6dcf876d]
2026-01-19T10:03:16.294+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.294+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:16.294+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:16.295+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:16.296+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:16.297+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:16.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:16.297+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1948567781<open>)]
2026-01-19T10:03:16.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:16.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:16.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:16.298+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:18.216+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:03:18.216+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:18.219+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:18.220+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:18.221+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:18.224+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:18.225+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(820684846<open>)] for JPA transaction
2026-01-19T10:03:18.225+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:18.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51615c14]
2026-01-19T10:03:18.226+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:03:18.226+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:18.226+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:18.228+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:03:18.228+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:03:18.229+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:03:18.229+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:18.229+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(820684846<open>)]
2026-01-19T10:03:18.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:18.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:18.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T10:03:18.230+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:18.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:03:18.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:03:18.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:18.232+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:03:18.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:18.233+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:18.233+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:18.234+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:18.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:18.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:03:18.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:03:18.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:18.236+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:03:18.237+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:03:18.237+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:18.237+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:18.238+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(212897955<open>)] for JPA transaction
2026-01-19T10:03:18.238+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:18.239+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4468ccde]
2026-01-19T10:03:18.239+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:03:18.239+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:18.239+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:18.240+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:03:18.241+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:03:18.242+07:00 TRACE 37344 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:03:18.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:18.242+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(212897955<open>)]
2026-01-19T10:03:18.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:18.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:18.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true}]
2026-01-19T10:03:18.243+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:20.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:03:20.151+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:03:20.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:03:20.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:20.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:03:20.153+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:20.154+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:20.154+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.154+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.156+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:20.156+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:03:20.156+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:20.156+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.156+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:03:20.157+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:03:20.157+07:00 TRACE 37344 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.157+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:20.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:03:20.159+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:20.161+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:20.161+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.162+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:03:20.165+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:03:20.165+07:00 TRACE 37344 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.166+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:20.167+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:03:20.168+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:20.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.183+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.184+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:20.185+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:20.185+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.186+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:20.188+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1496822377<open>)] for JPA transaction
2026-01-19T10:03:20.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:20.189+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f9cfc7e]
2026-01-19T10:03:20.190+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.190+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:20.190+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:20.191+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:20.192+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:20.192+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.192+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:20.192+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1496822377<open>)]
2026-01-19T10:03:20.193+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:20.193+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:20.193+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:20.194+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:20.195+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:20.195+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.196+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:20.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.197+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1385594493<open>)] for JPA transaction
2026-01-19T10:03:20.198+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:20.199+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a67d226]
2026-01-19T10:03:20.199+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.199+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:20.200+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:20.200+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:20.200+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:20.201+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.202+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:20.202+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1385594493<open>)]
2026-01-19T10:03:20.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:20.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:20.203+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:20.204+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:20.205+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.206+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.206+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.206+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.206+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:20.207+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:03:20.207+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:20.208+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(852646678<open>)] for JPA transaction
2026-01-19T10:03:20.210+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:20.211+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3cb7c2aa]
2026-01-19T10:03:20.211+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.211+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:03:20.211+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:03:20.212+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:03:20.212+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:03:20.213+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:03:20.213+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:20.213+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(852646678<open>)]
2026-01-19T10:03:20.213+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:20.213+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:20.213+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:20.214+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:28.061+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:03:28.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:03:28.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:03:28.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:03:28.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:03:28.063+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:03:28.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:03:28.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:03:28.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:03:28.064+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:03:28.065+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:03:28.065+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:28.066+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:03:28.068+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1399306282<open>)] for JPA transaction
2026-01-19T10:03:28.068+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:28.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@659a89bd]
2026-01-19T10:03:28.069+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:03:28.069+07:00  INFO 37344 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:03:28.069+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:03:28.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:28.069+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1399306282<open>)]
2026-01-19T10:03:28.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:28.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1399306282<open>)] for JPA transaction
2026-01-19T10:03:28.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:28.070+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78f6a278]
2026-01-19T10:03:28.071+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:03:28.071+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:03:28.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:28.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1399306282<open>)]
2026-01-19T10:03:28.071+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:28.071+07:00  INFO 37344 --- [http-nio-8080-exec-1] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:03:28.072+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:28.073+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:03:28.073+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:28.076+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:03:28.078+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:03:28.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:28.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:28.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:03:28.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:28.079+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:28.079+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:28.080+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:28.082+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:28.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:03:28.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:03:28.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:28.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:03:28.083+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:03:28.084+07:00 TRACE 37344 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:28.085+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:28.087+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:28.087+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:03:28.088+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:32.791+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:03:32.791+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:03:32.791+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:03:32.791+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:03:32.793+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:03:32.793+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:03:32.793+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:32.794+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:32.795+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:32.795+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:32.795+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:32.795+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:32.796+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:32.796+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:32.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:32.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:32.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:03:32.798+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:03:32.799+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1288102182<open>)] for JPA transaction
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1623670646<open>)] for JPA transaction
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:32.800+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@268378c4]
2026-01-19T10:03:32.801+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:03:32.801+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12ba89e2]
2026-01-19T10:03:32.801+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1288102182<open>)] for JPA transaction
2026-01-19T10:03:32.801+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:03:32.801+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:03:32.801+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:03:32.801+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:03:32.802+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:03:32.802+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:03:32.802+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:03:32.802+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:32.803+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1623670646<open>)]
2026-01-19T10:03:32.804+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:03:32.804+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1288102182<open>)]
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:32.804+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:32.805+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:32.805+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:32.805+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:03:32.806+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:32.806+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:32.807+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:32.808+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:32.808+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:32.808+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:03:32.812+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(861335735<open>)] for JPA transaction
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(21617226<open>)] for JPA transaction
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:03:32.813+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:03:32.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6241b399]
2026-01-19T10:03:32.814+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:03:32.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(861335735<open>)] for JPA transaction
2026-01-19T10:03:32.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1c3113b2]
2026-01-19T10:03:32.814+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:03:32.814+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:03:32.815+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:03:32.815+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:03:32.815+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:03:32.815+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:03:32.816+07:00 TRACE 37344 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:03:32.816+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(21617226<open>)]
2026-01-19T10:03:32.817+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:03:32.817+07:00 TRACE 37344 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(861335735<open>)]
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:32.817+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:03:32.818+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:03:32.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:32.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:32.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:03:32.819+07:00 DEBUG 37344 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:35.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:03:35.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.382+07:00 DEBUG 37344 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:03:35.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:03:35.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:03:35.384+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:35.385+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:35.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:35.386+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:35.386+07:00 TRACE 37344 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:35.386+07:00 TRACE 37344 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:35.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:35.387+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:35.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:35.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:35.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:03:35.390+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:03:35.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:03:35.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:03:35.391+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:03:35.392+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:03:35.392+07:00  WARN 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:03:35.392+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:03:35.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:35.393+07:00 DEBUG 37344 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:03:35.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:03:35.397+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:35.398+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:03:35.399+07:00 TRACE 37344 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:35.399+07:00 TRACE 37344 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:03:35.402+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:35.404+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:03:35.406+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:03:35.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:03:35.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:03:35.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:03:35.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:03:35.407+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:03:35.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:03:35.408+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:03:35.408+07:00  WARN 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:03:35.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:03:35.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:03:35.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:03:35.408+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:03:35.409+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:03:35.409+07:00 DEBUG 37344 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:03:35.409+07:00 DEBUG 37344 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:04:52.397+07:00  INFO 37344 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-19T10:04:52.402+07:00  INFO 37344 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T10:04:52.427+07:00  INFO 37344 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T10:04:52.430+07:00  INFO 37344 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:52.432+07:00  INFO 37344 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-19T10:04:52.435+07:00  INFO 37344 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-19T10:04:52.501+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37344 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T10:04:52.501+07:00 DEBUG 37344 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T10:04:52.501+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T10:04:52.636+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T10:04:52.663+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 16 JPA repository interfaces.
2026-01-19T10:04:52.711+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T10:04:52.711+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T10:04:52.712+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T10:04:52.723+07:00  INFO 37344 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 221 ms
2026-01-19T10:04:52.744+07:00  INFO 37344 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T10:04:52.774+07:00  INFO 37344 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T10:04:52.775+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-19T10:04:52.778+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4360395e
2026-01-19T10:04:52.778+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-19T10:04:52.780+07:00  WARN 37344 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T10:04:52.780+07:00  INFO 37344 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T10:04:52.925+07:00  INFO 37344 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T10:04:52.932+07:00  INFO 37344 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:52.959+07:00 DEBUG 37344 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T10:04:53.114+07:00  WARN 37344 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T10:04:53.128+07:00  INFO 37344 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T10:04:53.150+07:00 DEBUG 37344 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T10:04:53.171+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T10:04:53.178+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T10:04:53.178+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T10:04:53.182+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T10:04:53.186+07:00 DEBUG 37344 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T10:04:53.206+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T10:04:53.208+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.719 seconds (process running for 458.494)
2026-01-19T10:04:53.210+07:00  INFO 37344 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T10:04:55.668+07:00  INFO 37344 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-19T10:04:55.670+07:00  INFO 37344 --- [Thread-5] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T10:04:55.694+07:00  INFO 37344 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T10:04:55.695+07:00  INFO 37344 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:55.696+07:00  INFO 37344 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-19T10:04:55.697+07:00  INFO 37344 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-19T10:04:55.756+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37344 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T10:04:55.756+07:00 DEBUG 37344 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T10:04:55.756+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T10:04:55.875+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T10:04:55.905+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 16 JPA repository interfaces.
2026-01-19T10:04:55.943+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T10:04:55.944+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T10:04:55.944+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T10:04:55.955+07:00  INFO 37344 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 198 ms
2026-01-19T10:04:55.969+07:00  INFO 37344 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T10:04:55.988+07:00  INFO 37344 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T10:04:55.989+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-19T10:04:55.991+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e54e1f2
2026-01-19T10:04:55.991+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-19T10:04:55.992+07:00  WARN 37344 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T10:04:55.992+07:00  INFO 37344 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T10:04:56.111+07:00  INFO 37344 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T10:04:56.116+07:00  INFO 37344 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:56.136+07:00 DEBUG 37344 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T10:04:56.278+07:00  WARN 37344 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T10:04:56.289+07:00  INFO 37344 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T10:04:56.312+07:00 DEBUG 37344 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T10:04:56.330+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T10:04:56.336+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T10:04:56.337+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T10:04:56.339+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T10:04:56.341+07:00 DEBUG 37344 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T10:04:56.358+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T10:04:56.359+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.614 seconds (process running for 461.646)
2026-01-19T10:04:56.360+07:00  INFO 37344 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T10:04:57.769+07:00  INFO 37344 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-19T10:04:57.770+07:00  INFO 37344 --- [Thread-9] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T10:04:57.793+07:00  INFO 37344 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T10:04:57.794+07:00  INFO 37344 --- [Thread-9] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:57.794+07:00  INFO 37344 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-19T10:04:57.796+07:00  INFO 37344 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-19T10:04:57.858+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37344 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T10:04:57.858+07:00 DEBUG 37344 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T10:04:57.858+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T10:04:57.975+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T10:04:58.002+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 16 JPA repository interfaces.
2026-01-19T10:04:58.052+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T10:04:58.053+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T10:04:58.053+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T10:04:58.063+07:00  INFO 37344 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 204 ms
2026-01-19T10:04:58.076+07:00  INFO 37344 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T10:04:58.094+07:00  INFO 37344 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T10:04:58.095+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-19T10:04:58.097+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@73fc8cf2
2026-01-19T10:04:58.097+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-19T10:04:58.097+07:00  WARN 37344 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T10:04:58.098+07:00  INFO 37344 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T10:04:58.191+07:00  INFO 37344 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T10:04:58.196+07:00  INFO 37344 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:04:58.218+07:00 DEBUG 37344 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T10:04:58.347+07:00  WARN 37344 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T10:04:58.359+07:00  INFO 37344 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T10:04:58.378+07:00 DEBUG 37344 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T10:04:58.394+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T10:04:58.397+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T10:04:58.397+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T10:04:58.399+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T10:04:58.402+07:00 DEBUG 37344 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T10:04:58.418+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T10:04:58.419+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.573 seconds (process running for 463.705)
2026-01-19T10:04:58.420+07:00  INFO 37344 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T10:10:05.180+07:00  INFO 37344 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-19T10:10:05.181+07:00  INFO 37344 --- [Thread-13] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T10:10:05.214+07:00  INFO 37344 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T10:10:05.215+07:00  INFO 37344 --- [Thread-13] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:10:05.215+07:00  INFO 37344 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-19T10:10:05.217+07:00  INFO 37344 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-19T10:10:05.278+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37344 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T10:10:05.279+07:00 DEBUG 37344 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T10:10:05.279+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T10:10:05.380+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T10:10:05.398+07:00  INFO 37344 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 16 JPA repository interfaces.
2026-01-19T10:10:05.432+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T10:10:05.433+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T10:10:05.433+07:00  INFO 37344 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T10:10:05.442+07:00  INFO 37344 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 162 ms
2026-01-19T10:10:05.456+07:00  INFO 37344 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T10:10:05.471+07:00  INFO 37344 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T10:10:05.472+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-19T10:10:05.474+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28336bc4
2026-01-19T10:10:05.474+07:00  INFO 37344 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-19T10:10:05.475+07:00  WARN 37344 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T10:10:05.475+07:00  INFO 37344 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T10:10:05.563+07:00  INFO 37344 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T10:10:05.568+07:00  INFO 37344 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:10:05.587+07:00 DEBUG 37344 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T10:10:05.702+07:00  WARN 37344 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T10:10:05.711+07:00  INFO 37344 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T10:10:05.729+07:00 DEBUG 37344 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T10:10:05.744+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T10:10:05.747+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T10:10:05.747+07:00 DEBUG 37344 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T10:10:05.754+07:00 DEBUG 37344 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T10:10:05.757+07:00 DEBUG 37344 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T10:10:05.774+07:00  INFO 37344 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T10:10:05.775+07:00  INFO 37344 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.505 seconds (process running for 771.061)
2026-01-19T10:10:05.775+07:00  INFO 37344 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-19T10:16:11.072+07:00  INFO 40172 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 40172 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-19T10:16:11.074+07:00 DEBUG 40172 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-19T10:16:11.074+07:00  INFO 40172 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-19T10:16:11.102+07:00  INFO 40172 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-19T10:16:11.102+07:00  INFO 40172 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-19T10:16:11.565+07:00  INFO 40172 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-19T10:16:11.623+07:00  INFO 40172 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 16 JPA repository interfaces.
2026-01-19T10:16:12.071+07:00  INFO 40172 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-19T10:16:12.087+07:00  INFO 40172 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-19T10:16:12.088+07:00  INFO 40172 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-19T10:16:12.129+07:00  INFO 40172 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1026 ms
2026-01-19T10:16:12.248+07:00  INFO 40172 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-19T10:16:12.299+07:00  INFO 40172 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-19T10:16:12.549+07:00  INFO 40172 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-19T10:16:12.567+07:00  INFO 40172 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-19T10:16:12.639+07:00  INFO 40172 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2abf26ee
2026-01-19T10:16:12.640+07:00  INFO 40172 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-19T10:16:12.661+07:00  WARN 40172 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-19T10:16:12.668+07:00  INFO 40172 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-19T10:16:13.252+07:00  INFO 40172 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-19T10:16:13.278+07:00  INFO 40172 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:16:13.331+07:00  INFO 40172 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-19T10:16:13.705+07:00 DEBUG 40172 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-19T10:16:14.312+07:00  WARN 40172 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-19T10:16:14.349+07:00  INFO 40172 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-19T10:16:14.425+07:00 DEBUG 40172 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-19T10:16:14.517+07:00 DEBUG 40172 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 60 mappings in 'requestMappingHandlerMapping'
2026-01-19T10:16:14.534+07:00 DEBUG 40172 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-19T10:16:14.541+07:00 DEBUG 40172 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-19T10:16:14.557+07:00 DEBUG 40172 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-19T10:16:14.581+07:00 DEBUG 40172 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-19T10:16:14.688+07:00  INFO 40172 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-19T10:16:14.692+07:00  INFO 40172 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.862 seconds (process running for 4.103)
2026-01-19T10:16:17.805+07:00  INFO 40172 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-19T10:16:17.805+07:00  INFO 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-19T10:16:17.805+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-19T10:16:17.805+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-19T10:16:17.806+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@53e1aa2d
2026-01-19T10:16:17.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5e787faa
2026-01-19T10:16:17.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-19T10:16:17.807+07:00  INFO 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-19T10:16:17.811+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:16:17.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:16:17.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:16:17.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:16:17.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:16:17.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:16:17.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:16:17.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:16:17.830+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:16:17.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:16:17.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:16:17.886+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:17.934+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:16:17.950+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(797428422<open>)] for JPA transaction
2026-01-19T10:16:17.951+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:16:17.953+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4cdff628]
2026-01-19T10:16:17.954+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:16:17.954+07:00  INFO 40172 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:16:17.954+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:16:17.954+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:17.954+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(797428422<open>)]
2026-01-19T10:16:17.960+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:17.962+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(797428422<open>)] for JPA transaction
2026-01-19T10:16:17.962+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:16:17.963+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@58ea8c2]
2026-01-19T10:16:17.963+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:16:17.966+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:16:17.966+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:17.967+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(797428422<open>)]
2026-01-19T10:16:17.968+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:17.968+07:00  INFO 40172 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:16:18.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:18.031+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:16:18.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:18.053+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:16:18.056+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:16:18.056+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.056+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.057+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:16:18.057+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:18.080+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:18.080+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.096+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.104+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:18.104+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:16:18.104+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.105+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.105+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:16:18.105+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:16:18.107+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.107+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.111+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:18.112+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:16:18.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:18.227+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:16:18.228+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.228+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.228+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:16:18.228+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:18.228+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:18.229+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.230+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.232+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:18.232+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:16:18.232+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.232+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.232+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:16:18.233+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:16:18.233+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.234+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.236+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:18.236+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:16:18.237+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:18.238+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:16:18.238+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.238+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.238+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:16:18.239+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:18.239+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:18.239+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.240+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.242+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:18.243+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:16:18.243+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:16:18.243+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:18.243+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:16:18.243+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:16:18.244+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:18.245+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:18.246+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:18.247+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:16:18.247+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:23.159+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:16:23.159+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:16:23.159+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:16:23.160+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:16:23.162+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:16:23.162+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:16:23.163+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:16:23.163+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.163+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.163+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.164+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:16:23.164+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.164+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:23.164+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:23.165+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:23.165+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:23.165+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:23.165+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:23.166+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:23.166+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:23.170+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:23.170+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:23.170+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:16:23.170+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:16:23.170+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:16:23.171+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:16:23.172+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:16:23.172+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(233295298<open>)] for JPA transaction
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1842282924<open>)] for JPA transaction
2026-01-19T10:16:23.176+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:16:23.177+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2bb45d8e]
2026-01-19T10:16:23.177+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:16:23.177+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f2d6e59]
2026-01-19T10:16:23.177+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1842282924<open>)] for JPA transaction
2026-01-19T10:16:23.178+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:16:23.178+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:16:23.178+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:16:23.178+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:16:23.183+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:16:23.185+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:16:23.185+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:23.185+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(233295298<open>)]
2026-01-19T10:16:23.186+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:23.187+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:16:23.188+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:23.188+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:16:23.190+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:16:23.190+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:16:23.190+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:23.190+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1842282924<open>)]
2026-01-19T10:16:23.191+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:23.192+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:23.192+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:23.192+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:16:23.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:16:23.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:23.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:23.195+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:16:23.195+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:23.195+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:23.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:16:23.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:16:23.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:23.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:23.197+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:23.197+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:23.197+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:23.199+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:23.199+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:16:23.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1728534357<open>)] for JPA transaction
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:16:23.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:16:23.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:16:23.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@731fae1]
2026-01-19T10:16:23.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(773911031<open>)] for JPA transaction
2026-01-19T10:16:23.202+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:16:23.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:16:23.202+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:16:23.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@20befb6d]
2026-01-19T10:16:23.203+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:16:23.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(773911031<open>)] for JPA transaction
2026-01-19T10:16:23.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:16:23.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:16:23.203+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:16:23.204+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:16:23.204+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:16:23.205+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:23.205+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1728534357<open>)]
2026-01-19T10:16:23.206+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:23.206+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:23.206+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:16:23.206+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:16:23.206+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:16:23.207+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:16:23.207+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(773911031<open>)]
2026-01-19T10:16:23.207+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:23.208+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:16:23.208+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:23.209+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:16:23.210+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:26.814+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.814+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:16:26.814+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-19T10:16:26.815+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.818+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:16:26.818+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.818+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:16:26.818+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:16:26.818+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.819+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.819+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:16:26.819+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:16:26.819+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:26.819+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:26.820+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:26.820+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:26.820+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:26.820+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:26.821+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:26.821+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:16:26.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:16:26.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:16:26.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:16:26.828+07:00  WARN 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:16:26.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:16:26.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:26.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:16:26.829+07:00  WARN 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:16:26.830+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:26.830+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:16:26.831+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:16:26.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-19T10:16:26.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:16:26.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-19T10:16:26.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:26.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:26.834+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:26.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:16:26.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:16:26.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:16:26.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-19T10:16:26.839+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:16:26.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:16:26.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-19T10:16:26.840+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:16:26.840+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:16:26.840+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-19T10:16:26.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:16:26.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:16:26.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-19T10:16:26.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-19T10:16:26.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:16:26.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-19T10:16:26.845+07:00  WARN 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /api/admin/grammar-tests
2026-01-19T10:16:26.845+07:00  WARN 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /api/admin/grammar-tests.
2026-01-19T10:16:26.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/admin/grammar-tests.]
2026-01-19T10:16:26.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:16:26.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?filter=all&search=
2026-01-19T10:16:26.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:12.822+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:22:12.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:22:12.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:22:12.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:22:12.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:12.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:22:12.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:22:12.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:22:12.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:22:12.826+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:22:12.827+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:22:12.828+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.831+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(364883383<open>)] for JPA transaction
2026-01-19T10:22:12.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:12.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@52a300d5]
2026-01-19T10:22:12.832+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:22:12.832+07:00  INFO 40172 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:22:12.833+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:22:12.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:12.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(364883383<open>)]
2026-01-19T10:22:12.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:12.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(364883383<open>)] for JPA transaction
2026-01-19T10:22:12.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:12.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d36322]
2026-01-19T10:22:12.835+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:22:12.836+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:22:12.836+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:12.836+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(364883383<open>)]
2026-01-19T10:22:12.836+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:12.836+07:00  INFO 40172 --- [http-nio-8080-exec-6] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:22:12.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:12.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:22:12.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:12.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:22:12.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:12.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:12.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:12.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:12.845+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:12.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:12.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:12.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:12.849+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:12.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:12.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:12.983+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:12.983+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:12.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:12.985+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:12.985+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.986+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.988+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:12.988+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:12.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:12.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:12.989+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.990+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.992+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:12.992+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:12.992+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:12.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:12.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:12.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:12.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:12.995+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:12.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:12.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:12.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:12.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:12.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:12.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:12.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:12.999+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:13.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:13.002+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:13.002+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:13.003+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:17.579+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:22:17.580+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:22:17.580+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:22:17.580+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:22:17.582+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:22:17.582+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:17.583+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:22:17.584+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:17.585+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:17.585+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:17.585+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:17.585+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:17.586+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:17.586+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:17.590+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:17.590+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:22:17.591+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:22:17.592+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:17.592+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:17.592+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:17.592+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(992413056<open>)] for JPA transaction
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2111111128<open>)] for JPA transaction
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46118ad0]
2026-01-19T10:22:17.593+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f79efa7]
2026-01-19T10:22:17.594+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:17.594+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:17.594+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:22:17.594+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2111111128<open>)] for JPA transaction
2026-01-19T10:22:17.594+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:22:17.594+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:17.594+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:22:17.595+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:22:17.596+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:17.596+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:17.596+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(992413056<open>)]
2026-01-19T10:22:17.597+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:17.597+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:17.597+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:17.597+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:22:17.597+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:17.598+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:17.598+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2111111128<open>)]
2026-01-19T10:22:17.598+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:17.598+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:17.599+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:17.599+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:22:17.599+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:22:17.600+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.600+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:17.600+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.600+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.600+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:17.601+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:22:17.601+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:17.601+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:17.601+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:17.601+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.601+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:22:17.602+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:17.602+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:17.602+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:17.602+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:17.603+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:17.605+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:22:17.606+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1092616065<open>)] for JPA transaction
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:22:17.607+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:22:17.608+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:17.608+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42e003f7]
2026-01-19T10:22:17.608+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:17.608+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:17.608+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2110502455<open>)] for JPA transaction
2026-01-19T10:22:17.608+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:22:17.608+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:17.609+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6efd8fea]
2026-01-19T10:22:17.609+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:22:17.609+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:17.609+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2110502455<open>)] for JPA transaction
2026-01-19T10:22:17.609+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:22:17.609+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:17.610+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:17.610+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:17.610+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1092616065<open>)]
2026-01-19T10:22:17.610+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:22:17.611+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:17.611+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:17.611+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:22:17.611+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:17.611+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:17.611+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:17.612+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:17.612+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2110502455<open>)]
2026-01-19T10:22:17.612+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:17.613+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:17.613+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:22:17.614+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:18.701+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.701+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending
2026-01-19T10:22:18.701+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.701+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.706+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:18.706+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:18.706+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:18.706+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:18.707+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:18.707+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:18.708+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:18.708+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.712+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.713+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.713+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:18.713+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending", parameters={}
2026-01-19T10:22:18.713+07:00  WARN 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.713+07:00  WARN 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.714+07:00  WARN 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:22:18.714+07:00  WARN 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending.
2026-01-19T10:22:18.714+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:22:18.714+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending.]
2026-01-19T10:22:18.714+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:18.714+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:18.715+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:18.715+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:18.715+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:18.715+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.718+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.719+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:18.719+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:18.720+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:18.720+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:18.720+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:18.720+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:18.721+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:18.721+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:18.725+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending", parameters={}
2026-01-19T10:22:18.726+07:00  WARN 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending
2026-01-19T10:22:18.726+07:00  WARN 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:18.726+07:00  WARN 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending.
2026-01-19T10:22:18.726+07:00  WARN 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:22:18.726+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending.]
2026-01-19T10:22:18.726+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:22:18.726+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:18.727+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:18.727+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:18.727+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:18.727+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:18.727+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:20.448+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:22:20.451+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:22:20.451+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:22:20.451+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:22:20.452+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:22:20.453+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:22:20.453+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.454+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.457+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(519360231<open>)] for JPA transaction
2026-01-19T10:22:20.457+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:20.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48ea1eea]
2026-01-19T10:22:20.458+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:22:20.458+07:00  INFO 40172 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:22:20.458+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:22:20.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:20.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(519360231<open>)]
2026-01-19T10:22:20.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:20.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(519360231<open>)] for JPA transaction
2026-01-19T10:22:20.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:20.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12805a8c]
2026-01-19T10:22:20.460+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:22:20.460+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:22:20.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:20.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(519360231<open>)]
2026-01-19T10:22:20.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:20.461+07:00  INFO 40172 --- [http-nio-8080-exec-7] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:22:20.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:20.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:22:20.463+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:20.467+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:22:20.468+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:20.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:20.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:20.470+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:20.470+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:20.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:20.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:20.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:20.475+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.476+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:20.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:20.479+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:20.547+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:20.547+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.548+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.548+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:20.548+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:20.548+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:20.549+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.550+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.553+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:20.553+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:20.553+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.554+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.554+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:20.554+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:20.555+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.556+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.558+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:20.558+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:20.559+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:20.560+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:22:20.561+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.561+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.561+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:22:20.561+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:20.562+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:20.562+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.563+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.566+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:20.566+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:22:20.566+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:22:20.567+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:20.567+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:22:20.567+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:22:20.567+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:20.569+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:20.571+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:20.571+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:22:20.572+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:25.407+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:22:25.407+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:22:25.407+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:22:25.407+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.410+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:22:25.411+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.411+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:25.411+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:25.411+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:25.411+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:25.412+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:25.412+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:25.413+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:25.413+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.417+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:25.418+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:25.419+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(680366033<open>)] for JPA transaction
2026-01-19T10:22:25.419+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1973017975<open>)] for JPA transaction
2026-01-19T10:22:25.419+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:22:25.419+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:25.419+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2663b881]
2026-01-19T10:22:25.420+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41328184]
2026-01-19T10:22:25.420+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:25.420+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:25.420+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1973017975<open>)] for JPA transaction
2026-01-19T10:22:25.420+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:22:25.420+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:22:25.420+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:25.420+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:22:25.421+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:22:25.421+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:25.421+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:25.422+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(680366033<open>)]
2026-01-19T10:22:25.422+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:25.423+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:25.423+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:25.423+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:22:25.423+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:25.423+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:25.423+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1973017975<open>)]
2026-01-19T10:22:25.424+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:25.424+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:25.424+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:25.424+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:22:25.425+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:22:25.425+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:25.425+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.425+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.425+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.426+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:25.426+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:22:25.427+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:25.427+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:25.427+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:25.427+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:25.428+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:25.431+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(711119741<open>)] for JPA transaction
2026-01-19T10:22:25.432+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1114630236<open>)] for JPA transaction
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2518aa58]
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a8f2698]
2026-01-19T10:22:25.433+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:25.433+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1114630236<open>)] for JPA transaction
2026-01-19T10:22:25.433+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:22:25.433+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:22:25.434+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:25.434+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:22:25.435+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:22:25.435+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:22:25.436+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:25.436+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(711119741<open>)]
2026-01-19T10:22:25.436+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:25.437+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:22:25.437+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:25.437+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:22:25.437+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:22:25.437+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:22:25.437+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1114630236<open>)]
2026-01-19T10:22:25.438+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:25.438+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:22:25.438+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:22:25.439+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:22:25.439+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:22:32.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending
2026-01-19T10:22:32.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending
2026-01-19T10:22:32.458+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:32.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:32.463+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:32.463+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:32.463+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:32.463+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:32.464+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:32.464+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:32.468+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:32.468+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:32.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending", parameters={}
2026-01-19T10:22:32.470+07:00  WARN 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.470+07:00  WARN 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.470+07:00  WARN 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:22:32.470+07:00  WARN 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending.
2026-01-19T10:22:32.470+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending.]
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:32.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:32.473+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.473+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:32.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:22:32.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:32.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:22:32.475+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:32.475+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:22:32.477+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:32.477+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/admin/mini-test/pending
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:22:32.482+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:22:32.482+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/admin/mini-test/pending", parameters={}
2026-01-19T10:22:32.482+07:00  WARN 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending
2026-01-19T10:22:32.482+07:00  WARN 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/admin/mini-test/pending-count
2026-01-19T10:22:32.483+07:00  WARN 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending.
2026-01-19T10:22:32.483+07:00  WARN 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/admin/mini-test/pending-count.
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending.]
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/admin/mini-test/pending-count.]
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:32.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:22:32.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:22:32.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:23:31.773+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:23:31.775+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:23:31.775+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:23:31.775+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:23:31.777+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:23:31.777+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:23:31.777+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:23:31.777+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:23:31.777+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:23:31.778+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:23:31.778+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:23:31.779+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.780+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.782+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2069665177<open>)] for JPA transaction
2026-01-19T10:23:31.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:31.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5980b275]
2026-01-19T10:23:31.783+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:23:31.783+07:00  INFO 40172 --- [http-nio-8080-exec-4] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:23:31.783+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:23:31.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:31.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2069665177<open>)]
2026-01-19T10:23:31.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:31.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2069665177<open>)] for JPA transaction
2026-01-19T10:23:31.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:31.785+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@700c5155]
2026-01-19T10:23:31.785+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:23:31.785+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:23:31.785+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:31.785+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2069665177<open>)]
2026-01-19T10:23:31.786+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:31.786+07:00  INFO 40172 --- [http-nio-8080-exec-4] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:23:31.787+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:31.787+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:23:31.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:31.791+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:23:31.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:31.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:31.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:31.794+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:31.794+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.795+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:31.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:31.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:31.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:31.798+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.799+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:31.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:31.802+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:31.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:31.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:31.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:31.885+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:31.885+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.888+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:31.888+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:31.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:31.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:31.889+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.892+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:31.892+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:31.893+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:31.894+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:31.895+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.895+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:31.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:31.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:31.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:31.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:31.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:31.899+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:31.899+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:31.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:31.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:31.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:36.674+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:23:36.674+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:23:36.674+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:23:36.675+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:36.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:36.678+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:36.678+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:36.678+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:36.678+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:36.678+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:36.679+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:36.679+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:36.683+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:36.683+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:36.683+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:36.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(161825367<open>)] for JPA transaction
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1066076263<open>)] for JPA transaction
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:36.685+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:36.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@481d73b8]
2026-01-19T10:23:36.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41260f62]
2026-01-19T10:23:36.686+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:36.686+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:36.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1066076263<open>)] for JPA transaction
2026-01-19T10:23:36.686+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:36.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:36.686+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:36.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:36.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:36.688+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:36.688+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:36.688+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(161825367<open>)]
2026-01-19T10:23:36.689+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:36.689+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:36.689+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:36.689+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:36.689+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:36.689+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:36.690+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1066076263<open>)]
2026-01-19T10:23:36.690+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:36.690+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:36.690+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:36.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:36.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:36.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:36.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:36.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:36.693+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:36.693+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:36.693+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.693+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:36.693+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:36.693+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:36.694+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:36.694+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:36.694+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:36.694+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:36.696+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:36.697+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(681357148<open>)] for JPA transaction
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:36.698+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:36.699+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:36.699+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1494701309<open>)] for JPA transaction
2026-01-19T10:23:36.699+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67aab78c]
2026-01-19T10:23:36.699+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:36.699+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:36.699+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:36.700+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@47c459f0]
2026-01-19T10:23:36.700+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:36.700+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1494701309<open>)] for JPA transaction
2026-01-19T10:23:36.700+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:36.700+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:36.700+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:36.702+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:36.702+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:36.702+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(681357148<open>)]
2026-01-19T10:23:36.702+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:36.702+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:36.702+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:36.703+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:36.703+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:36.704+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:36.704+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:36.704+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:36.704+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1494701309<open>)]
2026-01-19T10:23:36.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:36.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:36.705+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:36.706+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:37.780+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending
2026-01-19T10:23:37.780+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending
2026-01-19T10:23:37.781+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:37.781+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.781+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.782+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.782+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:37.782+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:37.782+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:37.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending
2026-01-19T10:23:37.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:37.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending
2026-01-19T10:23:37.783+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:37.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:37.784+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:37.784+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:37.786+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:37.787+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:37.787+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:37.788+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending", parameters={}
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingSubmissions()
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1034416512<open>)] for JPA transaction
2026-01-19T10:23:37.789+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:37.790+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.790+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1897483451<open>)] for JPA transaction
2026-01-19T10:23:37.790+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:37.790+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6309937b]
2026-01-19T10:23:37.790+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:37.790+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:37.791+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1211c337]
2026-01-19T10:23:37.791+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:37.791+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:37.791+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByStatusOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:23:37.792+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:37.792+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:37.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1034416512<open>)]
2026-01-19T10:23:37.793+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:37.794+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:37.794+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:37.794+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:23:37.794+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:37.796+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:37.796+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.796+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.797+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:37.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:37.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:37.797+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1897483451<open>)]
2026-01-19T10:23:37.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:37.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:37.798+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:37.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:37.798+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true, count=0}]
2026-01-19T10:23:37.799+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:37.799+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:37.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending
2026-01-19T10:23:37.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:37.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending
2026-01-19T10:23:37.801+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:37.802+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:37.802+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:37.802+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:37.802+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:37.802+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:37.803+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.803+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:37.803+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:37.803+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.804+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.804+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:37.804+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(847925295<open>)] for JPA transaction
2026-01-19T10:23:37.804+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:37.806+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@39a7b688]
2026-01-19T10:23:37.806+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:37.806+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:37.806+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:37.806+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:37.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending
2026-01-19T10:23:37.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:37.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:37.807+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending", parameters={}
2026-01-19T10:23:37.807+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingSubmissions()
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(847925295<open>)]
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(801093140<open>)] for JPA transaction
2026-01-19T10:23:37.808+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:37.809+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:37.809+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@441c081a]
2026-01-19T10:23:37.809+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:37.809+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:37.809+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByStatusOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:23:37.809+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:37.809+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:23:37.811+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:37.811+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:37.811+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(801093140<open>)]
2026-01-19T10:23:37.812+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:37.812+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:37.812+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true, count=0}]
2026-01-19T10:23:37.813+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:42.482+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:42.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:42.486+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:42.486+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:42.487+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:42.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:42.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.491+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:42.491+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/notifications/mark-all-read", parameters={}
2026-01-19T10:23:42.491+07:00  WARN 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /api/admin/notifications/mark-all-read
2026-01-19T10:23:42.491+07:00  WARN 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No endpoint POST /api/admin/notifications/mark-all-read.
2026-01-19T10:23:42.491+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint POST /api/admin/notifications/mark-all-read.]
2026-01-19T10:23:42.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:23:42.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:23:42.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:23:43.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:23:43.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:23:43.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:23:43.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:23:43.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-19T10:23:43.844+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1986230502<open>)] for JPA transaction
2026-01-19T10:23:43.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:43.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e672842]
2026-01-19T10:23:43.849+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:23:43.849+07:00  INFO 40172 --- [http-nio-8080-exec-5] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:23:43.849+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:23:43.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:43.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1986230502<open>)]
2026-01-19T10:23:43.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:43.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1986230502<open>)] for JPA transaction
2026-01-19T10:23:43.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:43.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5afd1a68]
2026-01-19T10:23:43.850+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:23:43.851+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:23:43.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:43.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1986230502<open>)]
2026-01-19T10:23:43.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:43.852+07:00  INFO 40172 --- [http-nio-8080-exec-5] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-19T09:18:29
2026-01-19T10:23:43.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:43.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-19T10:23:43.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:43.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:23:43.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:43.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:43.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:43.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:43.860+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.861+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.864+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:43.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:43.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:43.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:43.865+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:43.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:43.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:43.930+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:43.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:43.932+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:43.932+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:43.933+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.934+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:43.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:43.938+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.939+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.941+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:43.941+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:43.942+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:43.943+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:23:43.944+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.944+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.944+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:23:43.944+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:43.945+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:43.945+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.946+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.949+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:43.949+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:23:43.949+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:23:43.949+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:43.950+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:23:43.950+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:23:43.950+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:43.951+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:43.954+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:43.954+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-19T10:23:43.955+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:50.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:23:50.842+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-19T10:23:50.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:23:50.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-19T10:23:50.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:50.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:50.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:50.845+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:50.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:50.846+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:50.846+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:50.846+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:50.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:50.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:50.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(291173941<open>)] for JPA transaction
2026-01-19T10:23:50.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1951539594<open>)] for JPA transaction
2026-01-19T10:23:50.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:50.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:50.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@47146b02]
2026-01-19T10:23:50.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5cac2ac5]
2026-01-19T10:23:50.853+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:50.853+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:50.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1951539594<open>)] for JPA transaction
2026-01-19T10:23:50.853+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:50.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:50.854+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:50.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:50.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:50.855+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:50.856+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:50.856+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(291173941<open>)]
2026-01-19T10:23:50.856+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:50.856+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:50.857+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:50.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:50.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:50.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:50.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1951539594<open>)]
2026-01-19T10:23:50.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:50.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:50.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:50.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:50.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:50.860+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:50.861+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:50.861+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:50.861+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:50.862+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:50.864+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:50.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(998964113<open>)] for JPA transaction
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1066110134<open>)] for JPA transaction
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:50.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:50.867+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f9b867e]
2026-01-19T10:23:50.867+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@709b769c]
2026-01-19T10:23:50.867+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:50.867+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:50.867+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1066110134<open>)] for JPA transaction
2026-01-19T10:23:50.867+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:50.867+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:50.868+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:50.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:50.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:50.869+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:50.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:50.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(998964113<open>)]
2026-01-19T10:23:50.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:50.870+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:50.870+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1066110134<open>)]
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:50.871+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:50.872+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:50.872+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:50.873+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:53.107+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:53.107+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:53.107+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:53.108+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:53.109+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:53.109+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:53.109+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:53.109+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:53.110+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:53.110+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:53.114+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:53.115+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2093509611<open>)] for JPA transaction
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(400197473<open>)] for JPA transaction
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1691e7c1]
2026-01-19T10:23:53.116+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17e31114]
2026-01-19T10:23:53.116+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:53.116+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:53.117+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2093509611<open>)] for JPA transaction
2026-01-19T10:23:53.117+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:53.117+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:53.117+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:53.117+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:53.118+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:53.118+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:53.119+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:53.119+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(400197473<open>)]
2026-01-19T10:23:53.119+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:53.119+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:53.119+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:53.119+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:53.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:53.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:53.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2093509611<open>)]
2026-01-19T10:23:53.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:53.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:53.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:53.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:53.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:53.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:53.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:53.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:53.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:53.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:53.123+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:53.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:53.123+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:53.124+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:53.124+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:53.127+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:53.127+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:53.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(416303728<open>)] for JPA transaction
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(535210141<open>)] for JPA transaction
2026-01-19T10:23:53.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:53.130+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5dd4c644]
2026-01-19T10:23:53.130+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69e8741a]
2026-01-19T10:23:53.130+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:53.130+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:53.130+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:53.130+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(535210141<open>)] for JPA transaction
2026-01-19T10:23:53.130+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:53.130+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:53.131+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:53.131+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:53.132+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:53.133+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:53.133+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(416303728<open>)]
2026-01-19T10:23:53.133+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:53.133+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:53.134+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:53.134+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:53.134+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:53.134+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:53.134+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(535210141<open>)]
2026-01-19T10:23:53.134+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:53.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:53.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:53.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:53.136+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.368+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:54.368+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.368+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.368+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.369+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.370+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.370+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.370+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.370+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.370+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.370+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.374+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.375+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(432846323<open>)] for JPA transaction
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1386399070<open>)] for JPA transaction
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ba034d1]
2026-01-19T10:23:54.376+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6a752bc0]
2026-01-19T10:23:54.377+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:54.377+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.377+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1386399070<open>)] for JPA transaction
2026-01-19T10:23:54.377+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:54.377+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:54.377+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:54.377+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:54.378+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:54.378+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.379+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.379+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(432846323<open>)]
2026-01-19T10:23:54.380+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.380+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.380+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:54.380+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:54.380+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:54.381+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.381+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1386399070<open>)]
2026-01-19T10:23:54.381+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.381+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.382+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.382+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:54.382+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.382+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.383+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.383+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.383+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.383+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.383+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-19T10:23:54.384+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:54.384+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.384+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.384+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.384+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-19T10:23:54.384+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.385+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.385+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.385+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.385+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.388+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.388+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.388+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:54.389+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1112385599<open>)] for JPA transaction
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(418751696<open>)] for JPA transaction
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:23:54.390+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.391+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@310f6eec]
2026-01-19T10:23:54.391+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:54.391+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f61c1c0]
2026-01-19T10:23:54.391+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1112385599<open>)] for JPA transaction
2026-01-19T10:23:54.391+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.391+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-19T10:23:54.391+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:54.391+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:54.392+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:54.392+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-19T10:23:54.393+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.393+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.394+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(418751696<open>)]
2026-01-19T10:23:54.394+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-19T10:23:54.394+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.394+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-19T10:23:54.394+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.395+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.395+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1112385599<open>)]
2026-01-19T10:23:54.395+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:54.395+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.395+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.396+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.396+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-19T10:23:54.397+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending
2026-01-19T10:23:54.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending
2026-01-19T10:23:54.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.876+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.876+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.876+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending
2026-01-19T10:23:54.876+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:54.876+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.877+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending
2026-01-19T10:23:54.877+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.877+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.877+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.877+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.880+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.880+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.880+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.880+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending", parameters={}
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.881+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingSubmissions()
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1316786685<open>)] for JPA transaction
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1095578575<open>)] for JPA transaction
2026-01-19T10:23:54.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9605fbc]
2026-01-19T10:23:54.883+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@400c4021]
2026-01-19T10:23:54.883+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:54.883+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:54.883+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByStatusOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:23:54.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:54.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:23:54.885+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.885+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.885+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:54.885+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1316786685<open>)]
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1095578575<open>)]
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.886+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.887+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:54.887+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true, count=0}]
2026-01-19T10:23:54.887+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.887+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:23:54.891+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.891+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-19T10:23:54.891+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.891+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:23:54.892+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.892+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:23:54.895+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.895+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-19T10:23:54.895+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending", parameters={}
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-19T10:23:54.896+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingSubmissions()
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingSubmissions(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1496265143<open>)] for JPA transaction
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.897+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(576505166<open>)] for JPA transaction
2026-01-19T10:23:54.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:23:54.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@767ca811]
2026-01-19T10:23:54.898+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.898+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@572cb3f8]
2026-01-19T10:23:54.898+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-19T10:23:54.898+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:54.899+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByStatusOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:23:54.899+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-19T10:23:54.899+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:23:54.900+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1496265143<open>)]
2026-01-19T10:23:54.901+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingSubmissions]
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(576505166<open>)]
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:23:54.901+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:23:54.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:23:54.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=[], success=true, count=0}]
2026-01-19T10:23:54.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:23:54.902+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:03.190+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:24:03.192+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:24:03.193+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:24:03.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:24:03.194+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:24:03.195+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T10:24:03.195+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.196+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.199+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(838161760<open>)] for JPA transaction
2026-01-19T10:24:03.199+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:24:03.199+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c4c0403]
2026-01-19T10:24:03.199+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:24:03.199+07:00  INFO 40172 --- [http-nio-8080-exec-4] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:24:03.200+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:24:03.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:03.200+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(838161760<open>)]
2026-01-19T10:24:03.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:03.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(838161760<open>)] for JPA transaction
2026-01-19T10:24:03.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:24:03.201+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1425db40]
2026-01-19T10:24:03.201+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:24:03.201+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:24:03.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:03.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(838161760<open>)]
2026-01-19T10:24:03.202+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:03.202+07:00  INFO 40172 --- [http-nio-8080-exec-4] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T10:24:03.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:03.203+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T10:24:03.204+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:03.209+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:24:03.211+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:24:03.211+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.212+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.212+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:24:03.212+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:03.212+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:03.213+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.214+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:24:03.217+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:24:03.218+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.219+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.221+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:03.221+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:24:03.222+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:03.304+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:24:03.305+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.305+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.305+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:24:03.306+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:03.306+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:03.306+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.308+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:03.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:24:03.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:24:03.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:24:03.312+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.313+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:03.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:24:03.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:03.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:24:03.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:24:03.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:03.320+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:03.320+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.321+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:24:03.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:24:03.325+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:03.326+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:03.328+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:03.328+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:24:03.329+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:06.855+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:24:06.855+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:24:06.857+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:06.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:06.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:06.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:06.859+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:06.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:06.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:06.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:06.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:06.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:06.864+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:06.864+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:06.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:06.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1702087164<open>)] for JPA transaction
2026-01-19T10:24:06.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:06.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fd2b678]
2026-01-19T10:24:06.866+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:06.866+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:06.867+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:06.870+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:06.872+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:06.873+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:06.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:06.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1702087164<open>)]
2026-01-19T10:24:06.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:06.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:06.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:06.876+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:06.877+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:06.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:06.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:06.878+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:06.879+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:06.880+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:06.882+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:06.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:06.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:06.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:06.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:06.883+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:06.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:06.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:06.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1019716727<open>)] for JPA transaction
2026-01-19T10:24:06.884+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:06.885+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ec91bd0]
2026-01-19T10:24:06.885+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:06.885+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:06.885+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:06.887+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:06.887+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:06.888+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:06.888+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:06.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1019716727<open>)]
2026-01-19T10:24:06.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:06.889+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:06.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:06.890+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:07.992+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:07.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:07.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:07.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:07.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:07.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:07.994+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:07.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:07.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:07.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:07.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:07.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:07.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:07.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:07.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:07.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(67918339<open>)] for JPA transaction
2026-01-19T10:24:08.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:08.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22b54265]
2026-01-19T10:24:08.000+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.000+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:08.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:08.003+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:08.003+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:08.004+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.005+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:08.005+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(67918339<open>)]
2026-01-19T10:24:08.005+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:08.006+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:08.006+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:08.006+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:08.008+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.008+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.008+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:08.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:08.009+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:08.010+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:08.013+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:08.013+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.013+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.013+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.013+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:08.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:08.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.015+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(460607821<open>)] for JPA transaction
2026-01-19T10:24:08.015+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:08.015+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3418f472]
2026-01-19T10:24:08.016+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.016+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:08.016+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:08.018+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:08.018+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:08.019+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.019+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:08.019+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(460607821<open>)]
2026-01-19T10:24:08.020+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:08.020+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:08.020+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:08.021+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:08.022+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.022+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.022+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.023+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.023+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:08.023+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:08.023+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:08.024+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:08.027+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:08.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1665495564<open>)] for JPA transaction
2026-01-19T10:24:08.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:08.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a213387]
2026-01-19T10:24:08.029+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.029+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:08.030+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:08.031+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:08.032+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:08.033+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.033+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:08.033+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1665495564<open>)]
2026-01-19T10:24:08.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:08.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:08.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:08.035+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:08.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.037+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:08.037+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:08.037+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:08.038+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:08.041+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:08.041+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:24:08.041+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:24:08.041+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:08.042+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:24:08.042+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:24:08.042+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.042+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:08.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1401499434<open>)] for JPA transaction
2026-01-19T10:24:08.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:08.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@543583e6]
2026-01-19T10:24:08.043+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.043+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:08.044+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:08.046+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:24:08.046+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:24:08.047+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:24:08.047+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:08.047+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1401499434<open>)]
2026-01-19T10:24:08.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:08.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:08.049+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:24:08.049+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:12.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:24:12.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:24:12.494+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:24:12.494+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:24:12.495+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:12.495+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:24:12.495+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:12.495+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:12.496+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:12.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:24:12.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:24:12.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:12.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:12.502+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1637091880<open>)] for JPA transaction
2026-01-19T10:24:12.502+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:12.502+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63003a4f]
2026-01-19T10:24:12.502+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:24:12.502+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:12.503+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:12.505+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:24:12.506+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:24:12.508+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:24:12.508+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:12.508+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1637091880<open>)]
2026-01-19T10:24:12.508+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:12.509+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:12.509+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, data=[]}]
2026-01-19T10:24:12.509+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:24:12.511+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:24:12.511+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:24:12.511+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:12.511+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:24:12.512+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:24:12.512+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:24:12.512+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:24:12.513+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:24:12.516+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:24:12.516+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:24:12.516+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:24:12.516+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:24:12.517+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:24:12.517+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:24:12.517+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:12.517+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:24:12.518+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1060236915<open>)] for JPA transaction
2026-01-19T10:24:12.518+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:24:12.518+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11decff2]
2026-01-19T10:24:12.518+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:24:12.518+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:24:12.519+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:24:12.520+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:24:12.521+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:24:12.522+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:24:12.522+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:24:12.522+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1060236915<open>)]
2026-01-19T10:24:12.523+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:24:12.523+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:24:12.523+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, data=[]}]
2026-01-19T10:24:12.524+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:38.910+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:26:38.911+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:26:38.912+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:26:38.913+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:38.913+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.913+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:26:38.913+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:38.914+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:38.914+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.915+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.918+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:38.918+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:26:38.918+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:38.918+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.918+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:26:38.919+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:26:38.919+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.920+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.922+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:38.923+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:26:38.923+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:38.925+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:26:38.925+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:38.925+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.926+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:26:38.926+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:38.926+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:38.926+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.927+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.930+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:38.930+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:26:38.930+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:38.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:26:38.931+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:26:38.931+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.932+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.937+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:38.938+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:26:38.939+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:38.968+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:26:38.968+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:26:38.970+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.970+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.970+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.970+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.970+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:38.971+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:38.971+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.972+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.975+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:38.976+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.976+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.976+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.976+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:38.977+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:38.977+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.977+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.977+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1959187383<open>)] for JPA transaction
2026-01-19T10:26:38.977+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:38.978+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44cf9da6]
2026-01-19T10:26:38.978+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:38.978+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:38.979+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:38.980+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:38.980+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:38.981+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:38.981+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:38.981+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1959187383<open>)]
2026-01-19T10:26:38.982+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:38.982+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:38.982+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:38.982+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:38.983+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:38.984+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:38.984+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.985+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.986+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1308042998<open>)] for JPA transaction
2026-01-19T10:26:38.988+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:38.988+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9b7fcc1]
2026-01-19T10:26:38.988+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:38.988+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:38.988+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:38.989+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:38.990+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:38.990+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:38.990+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:38.991+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1308042998<open>)]
2026-01-19T10:26:38.991+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:38.991+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:38.991+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:38.992+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:38.993+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:38.994+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:38.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:38.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:38.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:38.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1087298161<open>)] for JPA transaction
2026-01-19T10:26:38.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:38.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@45d23989]
2026-01-19T10:26:38.997+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:38.997+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:38.998+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:38.999+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:38.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:39.000+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:39.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:39.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1087298161<open>)]
2026-01-19T10:26:39.000+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:39.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:39.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:39.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:43.026+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:26:43.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:26:43.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:26:43.028+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:26:43.029+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:26:43.030+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T10:26:43.030+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.031+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1272301680<open>)] for JPA transaction
2026-01-19T10:26:43.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:26:43.034+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@914081a]
2026-01-19T10:26:43.034+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:26:43.034+07:00  INFO 40172 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:26:43.034+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:26:43.035+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:43.035+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1272301680<open>)]
2026-01-19T10:26:43.035+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:43.035+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1272301680<open>)] for JPA transaction
2026-01-19T10:26:43.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:26:43.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2132e2df]
2026-01-19T10:26:43.036+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:26:43.036+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:26:43.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:43.036+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1272301680<open>)]
2026-01-19T10:26:43.037+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:43.037+07:00  INFO 40172 --- [http-nio-8080-exec-6] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T10:26:43.038+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:43.038+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T10:26:43.039+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:43.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:26:43.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:26:43.043+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:43.044+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:43.044+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.045+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:26:43.048+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:26:43.049+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.049+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.051+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:43.051+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:26:43.052+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:43.120+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:26:43.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:26:43.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:43.121+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:43.121+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.122+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:43.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:26:43.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.123+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:26:43.124+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:26:43.124+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.125+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.126+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:43.127+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:26:43.127+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:43.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:26:43.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.128+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:26:43.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:43.129+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:43.129+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.130+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:26:43.132+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:26:43.133+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:43.133+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:43.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:43.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:26:43.135+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:46.664+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:26:46.664+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:26:46.666+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:46.667+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.667+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:46.667+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.667+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:46.667+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:46.668+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:46.669+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:46.671+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:46.672+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:46.672+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.672+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:46.672+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:46.673+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:46.673+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:46.673+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:46.673+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1602625740<open>)] for JPA transaction
2026-01-19T10:26:46.674+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:46.674+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41ba64fa]
2026-01-19T10:26:46.674+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:46.674+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:46.675+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:46.677+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:46.677+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:46.678+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:46.679+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:46.679+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1602625740<open>)]
2026-01-19T10:26:46.679+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:46.680+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:46.680+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:46.680+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:46.682+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:46.682+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.682+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:46.682+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.682+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:46.683+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:46.683+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:46.684+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:46.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:46.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:46.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:46.686+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:46.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:46.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:46.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:46.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:46.687+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(75538700<open>)] for JPA transaction
2026-01-19T10:26:46.688+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:46.688+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1303ea26]
2026-01-19T10:26:46.688+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:46.688+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:46.688+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:46.690+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:46.690+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:46.691+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:46.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:46.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(75538700<open>)]
2026-01-19T10:26:46.691+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:46.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:46.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:46.692+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:47.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:47.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:47.829+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:47.831+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:47.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:47.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:47.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:47.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(433132498<open>)] for JPA transaction
2026-01-19T10:26:47.835+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:47.836+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78a7c3df]
2026-01-19T10:26:47.836+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.836+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:47.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:47.838+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:47.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:47.840+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.840+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:47.840+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(433132498<open>)]
2026-01-19T10:26:47.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:47.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:47.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:47.841+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:47.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.843+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:47.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:47.844+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:47.844+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:47.847+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1898848055<open>)] for JPA transaction
2026-01-19T10:26:47.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:47.848+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1afe6ad1]
2026-01-19T10:26:47.848+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.849+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:47.849+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:47.850+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:47.850+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:47.851+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:47.851+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1898848055<open>)]
2026-01-19T10:26:47.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:47.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:47.852+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:47.853+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:47.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.854+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.855+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.855+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:47.855+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:47.855+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:47.856+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:47.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:47.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.858+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:47.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:47.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(62193021<open>)] for JPA transaction
2026-01-19T10:26:47.859+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:47.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5217a49f]
2026-01-19T10:26:47.860+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.860+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:47.860+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:47.861+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:47.862+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:47.862+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.862+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:47.862+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(62193021<open>)]
2026-01-19T10:26:47.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:47.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:47.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:47.863+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:47.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.865+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:47.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:47.866+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:47.866+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:47.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:47.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:26:47.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:26:47.868+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:47.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:26:47.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:26:47.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:26:47.869+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(162373111<open>)] for JPA transaction
2026-01-19T10:26:47.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:26:47.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b6827ac]
2026-01-19T10:26:47.870+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.870+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:26:47.870+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:26:47.872+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:26:47.872+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:26:47.873+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:26:47.873+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:26:47.873+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(162373111<open>)]
2026-01-19T10:26:47.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:26:47.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:26:47.874+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:26:47.875+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:26:49.820+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/user/mini-test/submissions
2026-01-19T10:26:49.820+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/api/user/mini-test/submissions
2026-01-19T10:26:49.822+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.823+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.823+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:49.823+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.823+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:49.824+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:49.824+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:49.825+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:49.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:49.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:49.828+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/api/user/mini-test/submissions", parameters={}
2026-01-19T10:26:49.829+07:00  WARN 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.829+07:00  WARN 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/user/mini-test/submissions.
2026-01-19T10:26:49.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/user/mini-test/submissions.]
2026-01-19T10:26:49.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:26:49.829+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:26:49.830+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:26:49.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:49.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.832+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:26:49.833+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:26:49.833+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:26:49.834+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:26:49.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:26:49.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/api/user/mini-test/submissions
2026-01-19T10:26:49.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:26:49.837+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/api/user/mini-test/submissions", parameters={}
2026-01-19T10:26:49.838+07:00  WARN 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /api/api/user/mini-test/submissions
2026-01-19T10:26:49.838+07:00  WARN 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No endpoint GET /api/api/user/mini-test/submissions.
2026-01-19T10:26:49.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/api/user/mini-test/submissions.]
2026-01-19T10:26:49.838+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-19T10:26:49.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-19T10:26:49.839+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:27:18.625+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-19T10:27:18.627+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-19T10:27:18.628+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-19T10:27:18.629+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-19T10:27:18.629+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.630+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.633+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(645936648<open>)] for JPA transaction
2026-01-19T10:27:18.633+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:27:18.633+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53fd5e64]
2026-01-19T10:27:18.633+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:27:18.634+07:00  INFO 40172 --- [http-nio-8080-exec-3] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-19T10:27:18.634+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-19T10:27:18.634+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:18.634+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(645936648<open>)]
2026-01-19T10:27:18.635+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:18.635+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(645936648<open>)] for JPA transaction
2026-01-19T10:27:18.635+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-19T10:27:18.636+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@c16640d]
2026-01-19T10:27:18.636+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:27:18.636+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-19T10:27:18.636+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:18.636+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(645936648<open>)]
2026-01-19T10:27:18.637+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:18.637+07:00  INFO 40172 --- [http-nio-8080-exec-3] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-19T09:18:13
2026-01-19T10:27:18.638+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:18.638+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-19T10:27:18.639+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:18.642+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-19T10:27:18.644+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:27:18.644+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.644+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.644+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:27:18.645+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:18.645+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:18.645+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.646+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.647+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:18.647+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:27:18.647+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.648+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.648+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:27:18.648+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:27:18.648+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.649+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.650+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:18.650+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:27:18.651+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:18.737+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:27:18.737+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.737+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.738+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:27:18.738+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:18.738+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:18.738+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.739+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.741+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:18.742+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:27:18.742+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.742+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.742+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:27:18.742+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:27:18.742+07:00 TRACE 40172 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.743+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.745+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:18.745+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:27:18.746+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:18.747+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:18.747+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.748+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.750+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:18.750+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-19T10:27:18.750+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-19T10:27:18.751+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:18.751+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-19T10:27:18.751+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-19T10:27:18.751+07:00 TRACE 40172 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:18.752+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:18.753+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:18.754+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-19T10:27:18.754+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:22.292+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:27:22.292+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:27:22.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:22.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:22.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:22.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:22.296+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:22.297+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:22.300+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:22.300+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:22.300+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.300+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:22.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:22.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:22.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:22.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:22.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(335728328<open>)] for JPA transaction
2026-01-19T10:27:22.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:22.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67283b43]
2026-01-19T10:27:22.302+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:22.302+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:22.303+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:22.305+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:22.306+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:22.307+07:00 TRACE 40172 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:22.307+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:22.307+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(335728328<open>)]
2026-01-19T10:27:22.308+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:22.308+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:22.308+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:22.309+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:22.310+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:22.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:22.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:22.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:22.312+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:22.313+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:22.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:22.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:22.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:22.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(515376066<open>)] for JPA transaction
2026-01-19T10:27:22.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:22.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21c5503e]
2026-01-19T10:27:22.318+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:22.318+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:22.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:22.321+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:22.321+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:22.323+07:00 TRACE 40172 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:22.323+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:22.323+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(515376066<open>)]
2026-01-19T10:27:22.323+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:22.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:22.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:22.324+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:23.453+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.454+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.454+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.454+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.454+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:23.455+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:23.455+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:23.456+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:23.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:23.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.459+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:23.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:23.460+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(641902643<open>)] for JPA transaction
2026-01-19T10:27:23.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:23.461+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f4b4dbd]
2026-01-19T10:27:23.462+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.462+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:23.462+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:23.464+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:23.464+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:23.465+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.465+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:23.466+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(641902643<open>)]
2026-01-19T10:27:23.466+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:23.466+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:23.467+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:23.467+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:23.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.469+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:23.470+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:23.470+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:23.471+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:23.473+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:23.473+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.473+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:23.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:23.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.474+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1323989238<open>)] for JPA transaction
2026-01-19T10:27:23.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:23.475+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e8e031]
2026-01-19T10:27:23.475+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.475+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:23.476+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:23.477+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:23.477+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:23.478+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:23.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1323989238<open>)]
2026-01-19T10:27:23.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:23.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:23.478+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:23.479+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:23.480+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.480+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.480+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.480+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.480+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:23.481+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:23.481+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:23.482+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:23.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:23.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.483+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:23.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:23.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.484+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(287507247<open>)] for JPA transaction
2026-01-19T10:27:23.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:23.485+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72c9859a]
2026-01-19T10:27:23.485+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.486+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:23.486+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:23.488+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:23.488+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:23.489+07:00 TRACE 40172 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.489+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:23.489+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(287507247<open>)]
2026-01-19T10:27:23.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:23.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:23.490+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:23.491+07:00 DEBUG 40172 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:23.492+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.493+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.493+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.493+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.493+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:23.494+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:23.494+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:23.495+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:23.497+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:23.498+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.498+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:23.498+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(300348650<open>)] for JPA transaction
2026-01-19T10:27:23.498+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:23.498+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@501d2904]
2026-01-19T10:27:23.498+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.498+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:23.499+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:23.500+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:23.500+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:23.501+07:00 TRACE 40172 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:23.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:23.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(300348650<open>)]
2026-01-19T10:27:23.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:23.501+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:23.502+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:23.502+07:00 DEBUG 40172 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:24.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:27:24.987+07:00 DEBUG 40172 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-19T10:27:24.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:27:24.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:27:24.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:24.989+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:27:24.990+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:24.990+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:24.990+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:24.991+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:24.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:24.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:27:24.994+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:27:24.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:24.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:27:24.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:27:24.995+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:24.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:24.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1131148342<open>)] for JPA transaction
2026-01-19T10:27:24.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:24.996+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3407b450]
2026-01-19T10:27:24.997+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:27:24.997+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:24.997+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:24.999+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:27:24.999+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:27:25.000+07:00 TRACE 40172 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:27:25.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:25.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1131148342<open>)]
2026-01-19T10:27:25.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:25.001+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:25.002+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, data=[]}]
2026-01-19T10:27:25.002+07:00 DEBUG 40172 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:25.003+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-19T10:27:25.004+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:27:25.004+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:25.004+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-19T10:27:25.004+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:25.005+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:25.005+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:25.006+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:25.008+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:25.008+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:25.009+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:25.010+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1392275754<open>)] for JPA transaction
2026-01-19T10:27:25.010+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:25.010+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@30181112]
2026-01-19T10:27:25.010+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:27:25.010+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:25.011+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:25.012+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-19T10:27:25.012+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-19T10:27:25.013+07:00 TRACE 40172 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserSubmissions]
2026-01-19T10:27:25.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:25.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1392275754<open>)]
2026-01-19T10:27:25.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:25.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:25.014+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, data=[]}]
2026-01-19T10:27:25.015+07:00 DEBUG 40172 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:29.292+07:00 DEBUG 40172 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:27:29.292+07:00 DEBUG 40172 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-19T10:27:29.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:29.295+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:29.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:29.296+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:29.296+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:29.298+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:29.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:29.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:29.301+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:29.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:29.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:29.302+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:29.303+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:29.303+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2147442192<open>)] for JPA transaction
2026-01-19T10:27:29.303+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:29.304+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6de19dd1]
2026-01-19T10:27:29.304+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:29.304+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:29.305+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:29.307+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:29.308+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:29.309+07:00 TRACE 40172 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:29.309+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:29.309+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2147442192<open>)]
2026-01-19T10:27:29.309+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:29.310+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:29.310+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:29.311+07:00 DEBUG 40172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:27:29.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-19T10:27:29.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:29.312+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.313+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-19T10:27:29.313+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-19T10:27:29.313+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-19T10:27:29.314+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-19T10:27:29.316+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-19T10:27:29.317+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:29.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-19T10:27:29.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1731370546<open>)] for JPA transaction
2026-01-19T10:27:29.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-19T10:27:29.318+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@47dc24b]
2026-01-19T10:27:29.318+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:29.318+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-19T10:27:29.319+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-19T10:27:29.320+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-19T10:27:29.320+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-19T10:27:29.321+07:00 TRACE 40172 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getUserFeedbackCount]
2026-01-19T10:27:29.321+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-19T10:27:29.321+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1731370546<open>)]
2026-01-19T10:27:29.322+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-19T10:27:29.322+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-19T10:27:29.322+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0, success=true}]
2026-01-19T10:27:29.322+07:00 DEBUG 40172 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-19T10:28:47.919+07:00  INFO 40172 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-19T10:28:47.954+07:00  INFO 40172 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-19T10:28:47.958+07:00  INFO 40172 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-19T10:28:47.960+07:00  INFO 40172 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-19T10:28:47.965+07:00  INFO 40172 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
