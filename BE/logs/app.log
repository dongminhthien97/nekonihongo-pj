2026-01-27T09:05:13.544+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 8964 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:05:13.547+07:00 DEBUG 8964 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:05:13.548+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:05:13.581+07:00  INFO 8964 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27T09:05:13.582+07:00  INFO 8964 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27T09:05:14.088+07:00  INFO 8964 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:05:14.144+07:00  INFO 8964 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 16 JPA repository interfaces.
2026-01-27T09:05:14.630+07:00  INFO 8964 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:05:14.644+07:00  INFO 8964 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:05:14.645+07:00  INFO 8964 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:05:14.682+07:00  INFO 8964 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1100 ms
2026-01-27T09:05:14.816+07:00  INFO 8964 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:05:14.874+07:00  INFO 8964 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-27T09:05:15.107+07:00  INFO 8964 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:05:15.123+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-27T09:05:15.194+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5953ef8
2026-01-27T09:05:15.194+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-27T09:05:15.222+07:00  WARN 8964 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:05:15.225+07:00  INFO 8964 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:05:15.835+07:00  INFO 8964 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:05:15.864+07:00  INFO 8964 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:05:15.919+07:00  INFO 8964 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27T09:05:16.300+07:00 DEBUG 8964 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:05:16.924+07:00  WARN 8964 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:05:16.966+07:00  INFO 8964 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:05:17.050+07:00 DEBUG 8964 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:05:17.140+07:00 DEBUG 8964 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:05:17.152+07:00 DEBUG 8964 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:05:17.158+07:00 DEBUG 8964 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:05:17.175+07:00 DEBUG 8964 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:05:17.200+07:00 DEBUG 8964 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:05:17.295+07:00  INFO 8964 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:05:17.299+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 4.014 seconds (process running for 4.278)
2026-01-27T09:05:21.650+07:00  INFO 8964 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27T09:05:21.650+07:00  INFO 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-27T09:05:21.650+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-27T09:05:21.650+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-27T09:05:21.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@13c6704c
2026-01-27T09:05:21.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3974135c
2026-01-27T09:05:21.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27T09:05:21.651+07:00  INFO 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-27T09:05:21.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:05:21.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:05:21.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:05:21.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:05:21.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:21.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:05:21.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:21.721+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:21.722+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:21.778+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:21.785+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:21.785+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:05:21.785+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:05:21.785+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:21.785+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:05:21.801+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:05:21.803+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:21.803+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:21.819+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:21.819+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:05:21.852+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:21.853+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:05:21.853+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:05:21.853+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:21.861+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:21.861+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:21.861+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:05:21.861+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:22.789+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:05:22.789+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:05:22.789+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:05:22.789+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.792+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:05:22.793+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:22.793+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:22.793+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:22.793+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:22.793+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:22.793+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:22.794+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:22.794+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.797+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:22.798+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:22.803+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:22.803+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:22.804+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(41819404<open>)] for JPA transaction
2026-01-27T09:05:22.804+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(612432588<open>)] for JPA transaction
2026-01-27T09:05:22.804+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:22.804+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:22.806+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b98457a]
2026-01-27T09:05:22.806+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3569a6e6]
2026-01-27T09:05:22.806+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:22.806+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:05:22.807+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:05:22.807+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(41819404<open>)] for JPA transaction
2026-01-27T09:05:22.807+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:22.808+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:05:22.810+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:05:22.812+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:22.812+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:22.812+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(612432588<open>)]
2026-01-27T09:05:22.813+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:22.813+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:22.814+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:05:22.815+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:05:22.816+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:22.817+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:05:22.818+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.818+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:05:22.818+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.818+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:05:22.818+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:22.818+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.819+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(41819404<open>)]
2026-01-27T09:05:22.819+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:22.820+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:22.820+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:22.821+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:22.824+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:22.824+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:05:22.824+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:22.825+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.825+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:05:22.825+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:05:22.825+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:22.825+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1462937631<open>)] for JPA transaction
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:05:22.826+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@484c3313]
2026-01-27T09:05:22.827+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:22.827+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:05:22.827+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:05:22.827+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:22.828+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:22.828+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:22.829+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1462937631<open>)]
2026-01-27T09:05:22.829+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:05:22.829+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:05:22.829+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:22.829+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:22.830+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:22.830+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:22.832+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:22.834+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:22.834+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:05:22.834+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:05:22.834+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:22.835+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:05:22.835+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:05:22.835+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:22.835+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:22.836+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1819669971<open>)] for JPA transaction
2026-01-27T09:05:22.836+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:22.836+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69926ac]
2026-01-27T09:05:22.836+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:05:22.837+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1819669971<open>)] for JPA transaction
2026-01-27T09:05:22.837+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:22.837+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:05:22.838+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:05:22.840+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:05:22.840+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:05:22.840+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:22.840+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1819669971<open>)]
2026-01-27T09:05:22.841+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:22.841+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:22.841+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:05:22.842+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.930+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:05:23.930+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:05:23.930+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:05:23.930+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.930+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.931+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.931+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.931+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.931+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.931+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:05:23.932+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:05:23.932+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.932+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:05:23.932+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.932+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.933+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.933+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.934+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.935+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.935+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:05:23.935+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.935+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.936+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(282599502<open>)] for JPA transaction
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34a1f52d]
2026-01-27T09:05:23.937+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:23.937+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:05:23.938+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:05:23.938+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:05:23.939+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:23.939+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.939+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(282599502<open>)]
2026-01-27T09:05:23.940+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.940+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:23.940+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:05:23.941+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.942+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:05:23.942+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.943+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.943+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.943+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.943+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.943+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.944+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.944+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.944+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(794549503<open>)] for JPA transaction
2026-01-27T09:05:23.944+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:23.945+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.945+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@26211c91]
2026-01-27T09:05:23.945+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:05:23.946+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:05:23.947+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:05:23.948+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:05:23.949+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.949+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.949+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(584252458<open>)] for JPA transaction
2026-01-27T09:05:23.950+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:23.950+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1cf5adba]
2026-01-27T09:05:23.951+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:23.951+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:05:23.951+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:05:23.952+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:05:23.952+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:05:23.952+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.952+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(584252458<open>)]
2026-01-27T09:05:23.953+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.953+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:23.953+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:05:23.954+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.954+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.954+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.955+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:05:23.955+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:05:23.956+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.957+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.958+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.959+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:05:23.960+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.961+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.962+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.963+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.963+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.963+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:05:23.963+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.963+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(794549503<open>)]
2026-01-27T09:05:23.964+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.964+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:23.967+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:05:23.972+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.973+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:05:23.973+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:05:23.973+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.973+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:05:23.973+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.974+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:05:23.974+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:05:23.974+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.974+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.975+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.976+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:05:23.976+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:05:23.976+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.977+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.978+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.978+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:05:23.978+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:05:23.979+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.979+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.979+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:05:23.979+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:23.979+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1829058227<open>)] for JPA transaction
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:05:23.981+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@227e53f1]
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:05:23.982+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:23.982+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:05:23.982+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:05:23.983+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:05:23.983+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:23.983+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(885573364<open>)] for JPA transaction
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1569557642<open>)] for JPA transaction
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:23.984+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72af03b0]
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48c59efa]
2026-01-27T09:05:23.985+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.985+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1569557642<open>)] for JPA transaction
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(885573364<open>)] for JPA transaction
2026-01-27T09:05:23.985+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:05:23.986+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.986+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.986+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.987+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:05:23.988+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.990+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.990+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.991+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:23.991+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.991+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:23.991+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1569557642<open>)]
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(885573364<open>)]
2026-01-27T09:05:23.991+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:05:23.992+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:05:23.993+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.994+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:05:23.995+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:23.995+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1829058227<open>)]
2026-01-27T09:05:23.996+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:23.996+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:05:23.997+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:05:23.997+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:05:24.000+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:24.001+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:05:24.001+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:24.001+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:05:24.001+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:24.001+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:05:24.002+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:24.002+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:24.005+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:24.006+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1373095475<open>)] for JPA transaction
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1810374750<open>)] for JPA transaction
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@53f1836]
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d8854d2]
2026-01-27T09:05:24.007+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:24.007+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1373095475<open>)] for JPA transaction
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1810374750<open>)] for JPA transaction
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:24.007+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:05:24.008+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:24.008+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:24.008+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:05:24.008+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:05:24.010+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:24.010+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:24.010+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:24.010+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1810374750<open>)]
2026-01-27T09:05:24.010+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:05:24.010+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:05:24.010+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:05:24.010+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:24.010+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1373095475<open>)]
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:05:24.011+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:24.012+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:05:26.347+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:26.348+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:05:26.349+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:05:26.350+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:05:26.352+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:05:26.353+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:05:26.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:05:53.409+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:53.409+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:53.409+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:53.409+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:05:53.410+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:05:53.411+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:05:53.411+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:05:53.412+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:05:53.412+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:05:53.412+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:06:02.487+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:06:24.230+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:24.230+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:24.231+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:24.231+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:24.231+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:06:24.231+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:06:24.231+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:06:24.232+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:24.232+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:24.232+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:24.232+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:06:24.233+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:06:24.233+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:06:24.234+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:06:24.234+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:06:44.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:06:44.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:44.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:06:44.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:06:44.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T09:06:44.690+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T09:06:44.690+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T09:06:44.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@685340b4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T09:06:44.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T09:07:43.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:07:43.362+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:07:43.363+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:07:43.364+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:07:43.364+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:43.364+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:07:43.364+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:43.365+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:43.365+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:43.366+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:43.368+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:43.368+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:07:43.368+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:07:43.368+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:43.369+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:07:43.369+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:07:43.369+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:43.370+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:43.372+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:43.373+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:07:43.373+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:43.374+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:07:43.374+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:07:43.375+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:43.375+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:07:43.375+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:43.376+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:43.376+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:43.376+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:43.379+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:43.379+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:07:43.379+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:07:43.379+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:43.379+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:07:43.380+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:07:43.380+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:43.381+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:43.383+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:43.383+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:07:43.383+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:44.262+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:44.262+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:44.262+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1854865942<open>)] for JPA transaction
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(736785442<open>)] for JPA transaction
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f77c15e]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@43a23321]
2026-01-27T09:07:44.271+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:07:44.271+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(736785442<open>)] for JPA transaction
2026-01-27T09:07:44.271+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:44.271+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:07:44.271+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:07:44.276+07:00 TRACE 8964 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1854865942<open>)]
2026-01-27T09:07:44.276+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:44.276+07:00 TRACE 8964 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:07:44.276+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(736785442<open>)]
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.278+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.281+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:44.281+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:07:44.282+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:44.282+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:44.282+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:44.282+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:44.282+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1986624658<open>)] for JPA transaction
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:44.283+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1643590443<open>)] for JPA transaction
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@85755a]
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@c47973a]
2026-01-27T09:07:44.287+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:44.287+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:07:44.287+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1643590443<open>)] for JPA transaction
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:44.287+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:07:44.287+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:07:44.289+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:07:44.289+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:44.290+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1986624658<open>)]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:44.291+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:44.291+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1643590443<open>)]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:07:44.291+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.648+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:07:45.648+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:07:45.648+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:07:45.649+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.649+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.649+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.650+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.650+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.650+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:07:45.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.651+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:07:45.652+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.653+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:07:45.653+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.653+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.653+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.654+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.654+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.654+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:07:45.655+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.655+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.655+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(691555659<open>)] for JPA transaction
2026-01-27T09:07:45.656+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e03644a]
2026-01-27T09:07:45.657+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:07:45.657+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:45.657+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:07:45.658+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.658+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:07:45.658+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.658+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2146776581<open>)] for JPA transaction
2026-01-27T09:07:45.658+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:45.659+07:00 TRACE 8964 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:45.659+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.659+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12e7426]
2026-01-27T09:07:45.659+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(691555659<open>)]
2026-01-27T09:07:45.659+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:07:45.659+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:07:45.659+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.659+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:07:45.660+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:45.660+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:07:45.661+07:00 DEBUG 8964 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.662+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:07:45.662+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:07:45.662+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.663+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:07:45.664+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:07:45.664+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:07:45.665+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.665+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.665+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.665+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.666+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.667+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.668+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1089391856<open>)] for JPA transaction
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ffe1a87]
2026-01-27T09:07:45.669+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.670+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.670+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.670+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:07:45.671+07:00 TRACE 8964 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1089391856<open>)]
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.671+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:07:45.672+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.672+07:00 TRACE 8964 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:07:45.673+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.673+07:00 DEBUG 8964 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.673+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2146776581<open>)]
2026-01-27T09:07:45.673+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.673+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:45.674+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:07:45.675+07:00 DEBUG 8964 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.676+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:07:45.677+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.678+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.679+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.679+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:07:45.679+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:07:45.680+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:07:45.680+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:07:45.680+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.680+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.681+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.681+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.681+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.682+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2106374083<open>)] for JPA transaction
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.685+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b3541d4]
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:07:45.686+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:07:45.686+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.686+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.687+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.687+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(775790468<open>)] for JPA transaction
2026-01-27T09:07:45.687+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(807880872<open>)] for JPA transaction
2026-01-27T09:07:45.687+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:45.687+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@580f3b53]
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2364268a]
2026-01-27T09:07:45.688+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.688+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(775790468<open>)] for JPA transaction
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(807880872<open>)] for JPA transaction
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:45.688+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:45.688+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:07:45.688+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:07:45.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:07:45.689+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.690+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.690+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:07:45.691+07:00 TRACE 8964 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(775790468<open>)]
2026-01-27T09:07:45.691+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.691+07:00 TRACE 8964 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.691+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(807880872<open>)]
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:45.692+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.693+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.694+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.695+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.696+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:07:45.697+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:07:45.698+07:00 TRACE 8964 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:07:45.698+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.698+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2106374083<open>)]
2026-01-27T09:07:45.698+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.698+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:07:45.699+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:07:45.700+07:00 DEBUG 8964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:07:45.702+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.703+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:07:45.703+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.703+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:07:45.703+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.703+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:07:45.704+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.704+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:07:45.706+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:07:45.707+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2063210251<open>)] for JPA transaction
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(754633403<open>)] for JPA transaction
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22888f78]
2026-01-27T09:07:45.708+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.708+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27483866]
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2063210251<open>)] for JPA transaction
2026-01-27T09:07:45.709+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(754633403<open>)] for JPA transaction
2026-01-27T09:07:45.709+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:07:45.709+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:07:45.709+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:07:45.711+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.711+07:00 TRACE 8964 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.711+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.711+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:07:45.711+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2063210251<open>)]
2026-01-27T09:07:45.711+07:00 TRACE 8964 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(754633403<open>)]
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:07:45.712+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:07:45.713+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:07:45.713+07:00 DEBUG 8964 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:07:45.713+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:07:45.713+07:00 DEBUG 8964 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:02.396+07:00  INFO 8964 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-27T09:13:02.405+07:00  INFO 8964 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:13:02.440+07:00  INFO 8964 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:13:02.444+07:00  INFO 8964 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:13:02.450+07:00  INFO 8964 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-27T09:13:02.453+07:00  INFO 8964 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-27T09:13:02.498+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 8964 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:13:02.498+07:00 DEBUG 8964 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:13:02.498+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:13:02.620+07:00  INFO 8964 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:13:02.646+07:00  INFO 8964 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 16 JPA repository interfaces.
2026-01-27T09:13:02.695+07:00  INFO 8964 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:13:02.696+07:00  INFO 8964 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:13:02.696+07:00  INFO 8964 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:13:02.706+07:00  INFO 8964 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 207 ms
2026-01-27T09:13:02.723+07:00  INFO 8964 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:13:02.745+07:00  INFO 8964 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:13:02.745+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-27T09:13:02.748+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74d6f150
2026-01-27T09:13:02.748+07:00  INFO 8964 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-27T09:13:02.749+07:00  WARN 8964 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:13:02.750+07:00  INFO 8964 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:13:02.878+07:00  INFO 8964 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:13:02.884+07:00  INFO 8964 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:13:02.907+07:00 DEBUG 8964 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:13:03.049+07:00  WARN 8964 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:13:03.061+07:00  INFO 8964 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:13:03.081+07:00 DEBUG 8964 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:13:03.102+07:00 DEBUG 8964 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:13:03.105+07:00 DEBUG 8964 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:13:03.106+07:00 DEBUG 8964 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:13:03.108+07:00 DEBUG 8964 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:13:03.111+07:00 DEBUG 8964 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:13:03.125+07:00  INFO 8964 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:13:03.130+07:00  INFO 8964 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.643 seconds (process running for 470.109)
2026-01-27T09:13:03.131+07:00  INFO 8964 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-27T09:13:05.989+07:00  INFO 17516 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 17516 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:13:05.989+07:00 DEBUG 17516 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:13:05.989+07:00  INFO 17516 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:13:06.019+07:00  INFO 17516 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27T09:13:06.019+07:00  INFO 17516 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27T09:13:06.453+07:00  INFO 17516 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:13:06.501+07:00  INFO 17516 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 16 JPA repository interfaces.
2026-01-27T09:13:06.927+07:00  INFO 17516 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:13:06.946+07:00  INFO 17516 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:13:06.946+07:00  INFO 17516 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:13:06.995+07:00  INFO 17516 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 976 ms
2026-01-27T09:13:07.109+07:00  INFO 17516 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:13:07.183+07:00  INFO 17516 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-27T09:13:07.460+07:00  INFO 17516 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:13:07.464+07:00  INFO 17516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-27T09:13:07.548+07:00  INFO 17516 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e6e86ca
2026-01-27T09:13:07.549+07:00  INFO 17516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-27T09:13:07.568+07:00  WARN 17516 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:13:07.578+07:00  INFO 17516 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:13:08.168+07:00  INFO 17516 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:13:08.195+07:00  INFO 17516 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:13:08.241+07:00  INFO 17516 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27T09:13:08.603+07:00 DEBUG 17516 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:13:09.221+07:00  WARN 17516 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:13:09.263+07:00  INFO 17516 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:13:09.329+07:00 DEBUG 17516 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:13:09.412+07:00 DEBUG 17516 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:13:09.425+07:00 DEBUG 17516 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:13:09.431+07:00 DEBUG 17516 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:13:09.447+07:00 DEBUG 17516 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:13:09.470+07:00 DEBUG 17516 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:13:09.555+07:00  INFO 17516 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:13:09.559+07:00  INFO 17516 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.816 seconds (process running for 4.064)
2026-01-27T09:13:12.849+07:00  INFO 17516 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27T09:13:12.849+07:00  INFO 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-27T09:13:12.849+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-27T09:13:12.849+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-27T09:13:12.850+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3a609266
2026-01-27T09:13:12.851+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@496f29cc
2026-01-27T09:13:12.851+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27T09:13:12.851+07:00  INFO 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-27T09:13:12.856+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:13:12.856+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:13:12.872+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:13:12.873+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:13:12.873+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:12.873+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:13:12.873+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:12.926+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:12.927+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:12.988+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:13.005+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:13.006+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:13:13.007+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:13:13.007+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:13.008+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:13:13.012+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:13:13.020+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:13.021+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:13.037+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:13.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:13:13.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:13.066+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:13:13.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:13:13.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:13.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:13:13.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:13.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:13.068+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:13.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:13.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:13.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:13:13.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:13:13.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:13.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:13:13.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:13:13.073+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:13.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:13.077+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:13.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:13:13.079+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:14.123+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:13:14.123+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:13:14.123+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:13:14.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:13:14.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:13:14.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:13:14.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:13:14.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:13:14.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:14.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:14.130+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:14.130+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:14.130+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:14.130+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:14.132+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:14.132+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:14.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:14.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:14.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:13:14.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:13:14.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:13:14.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:13:14.138+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:14.138+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:14.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:14.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:14.143+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1502343742<open>)] for JPA transaction
2026-01-27T09:13:14.143+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(157100077<open>)] for JPA transaction
2026-01-27T09:13:14.143+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:14.144+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:14.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@517017cd]
2026-01-27T09:13:14.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4dad96a0]
2026-01-27T09:13:14.145+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:14.145+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:13:14.146+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:13:14.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1502343742<open>)] for JPA transaction
2026-01-27T09:13:14.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:14.147+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:13:14.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:13:14.151+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:14.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:14.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(157100077<open>)]
2026-01-27T09:13:14.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:14.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:14.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:13:14.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:13:14.156+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:14.157+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:13:14.157+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1502343742<open>)]
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.158+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:14.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:14.159+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:14.161+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:14.163+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:14.163+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:14.163+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:14.163+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:13:14.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:14.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:13:14.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:13:14.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:13:14.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:14.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:14.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:14.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1437401255<open>)] for JPA transaction
2026-01-27T09:13:14.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:14.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61c2b325]
2026-01-27T09:13:14.167+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:14.167+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:13:14.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:13:14.168+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:13:14.168+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:13:14.168+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.169+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:13:14.169+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:14.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:14.170+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:14.170+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:14.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:14.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1437401255<open>)]
2026-01-27T09:13:14.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:14.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:14.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:14.172+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:13:14.173+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:14.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:14.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:13:14.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:13:14.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:14.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1471565043<open>)] for JPA transaction
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:14.175+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b83cbed]
2026-01-27T09:13:14.177+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:13:14.177+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1471565043<open>)] for JPA transaction
2026-01-27T09:13:14.177+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:14.177+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:13:14.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:13:14.181+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:13:14.181+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:13:14.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:14.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1471565043<open>)]
2026-01-27T09:13:14.182+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:14.182+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:14.183+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:13:14.184+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.079+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:13:15.079+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:13:15.079+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:13:15.080+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.080+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.081+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.081+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.082+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:13:15.083+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:13:15.083+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.083+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:13:15.083+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.084+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.085+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.085+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.086+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:13:15.088+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.089+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.089+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:13:15.089+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:13:15.089+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1708624528<open>)] for JPA transaction
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:15.090+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.091+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:13:15.091+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34bf5a77]
2026-01-27T09:13:15.091+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:13:15.091+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:15.091+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:13:15.092+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:13:15.093+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:15.093+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.093+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1708624528<open>)]
2026-01-27T09:13:15.094+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.094+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:15.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:13:15.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.097+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:13:15.097+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.098+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.098+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.098+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.098+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.099+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.099+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.099+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.100+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1801576140<open>)] for JPA transaction
2026-01-27T09:13:15.100+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:15.101+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@951a9]
2026-01-27T09:13:15.101+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.101+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:13:15.102+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:13:15.103+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.103+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:13:15.104+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:13:15.104+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:13:15.105+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.105+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:13:15.105+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:13:15.105+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.106+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.106+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1953634686<open>)] for JPA transaction
2026-01-27T09:13:15.106+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:15.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7805bd2e]
2026-01-27T09:13:15.107+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:15.107+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:13:15.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:13:15.108+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:13:15.108+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:13:15.108+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.109+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1953634686<open>)]
2026-01-27T09:13:15.109+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.109+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:15.109+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:13:15.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.114+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.115+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.115+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.115+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.115+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.116+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.120+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:13:15.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1801576140<open>)]
2026-01-27T09:13:15.121+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.121+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:15.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:13:15.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.130+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:13:15.130+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:13:15.131+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.131+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:13:15.131+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.132+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.132+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:13:15.132+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.132+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:13:15.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:13:15.136+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:13:15.137+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:13:15.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:13:15.138+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.138+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.139+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:13:15.139+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(213876127<open>)] for JPA transaction
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22427897]
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:13:15.140+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:13:15.140+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:13:15.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(74370775<open>)] for JPA transaction
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1757837794<open>)] for JPA transaction
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@499a9013]
2026-01-27T09:13:15.142+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29ac940d]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(74370775<open>)] for JPA transaction
2026-01-27T09:13:15.142+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1757837794<open>)] for JPA transaction
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:13:15.142+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.142+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:13:15.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.145+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.146+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:13:15.147+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.149+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.149+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.149+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.149+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.150+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.150+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.150+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.150+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1757837794<open>)]
2026-01-27T09:13:15.150+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(74370775<open>)]
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:15.151+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.152+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.153+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:13:15.154+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.154+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(213876127<open>)]
2026-01-27T09:13:15.155+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.155+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:13:15.155+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:13:15.156+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.159+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.160+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:13:15.160+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.161+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:13:15.161+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.161+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:13:15.164+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:13:15.165+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1081118394<open>)] for JPA transaction
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1770981415<open>)] for JPA transaction
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:15.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27ec623]
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21b56bac]
2026-01-27T09:13:15.167+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.167+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1770981415<open>)] for JPA transaction
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1081118394<open>)] for JPA transaction
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:15.167+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:13:15.167+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.167+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.168+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:13:15.168+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:13:15.170+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.170+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.170+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:13:15.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.170+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:13:15.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1770981415<open>)]
2026-01-27T09:13:15.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:13:15.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1081118394<open>)]
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:13:15.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:13:15.172+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:15.172+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:13:40.610+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:13:40.610+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:13:40.610+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:13:40.611+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T09:13:40.611+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T09:13:40.611+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T09:13:40.611+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:14:32.470+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:14:32.470+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:14:32.470+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:14:32.470+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:14:32.479+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:14:32.479+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:32.479+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:32.479+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:32.480+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:32.481+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:32.481+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:32.481+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:32.481+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:32.482+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:32.482+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:32.487+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:32.487+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:32.487+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:32.487+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:14:32.487+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:32.488+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:14:32.489+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:32.489+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:32.489+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:32.489+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:32.489+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(803397112<open>)] for JPA transaction
2026-01-27T09:14:32.490+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(839823194<open>)] for JPA transaction
2026-01-27T09:14:32.490+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:32.490+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:32.490+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2aad29e3]
2026-01-27T09:14:32.490+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d0f4158]
2026-01-27T09:14:32.490+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:32.491+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:32.491+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(839823194<open>)] for JPA transaction
2026-01-27T09:14:32.491+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:32.491+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:32.491+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:32.491+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:32.492+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:14:32.493+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:32.493+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:32.494+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(803397112<open>)]
2026-01-27T09:14:32.494+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:32.495+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:32.495+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:32.495+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:32.495+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:32.495+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:32.495+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(839823194<open>)]
2026-01-27T09:14:32.496+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:32.497+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:32.497+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:32.497+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:14:32.497+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:32.497+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:32.498+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.498+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.498+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.498+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:32.498+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:14:32.499+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:32.499+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:32.499+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.499+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:32.499+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:14:32.499+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:32.500+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:32.500+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:32.500+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:32.501+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:14:32.503+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(139827799<open>)] for JPA transaction
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1641425704<open>)] for JPA transaction
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:32.504+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:32.505+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5307bddc]
2026-01-27T09:14:32.505+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5468db2a]
2026-01-27T09:14:32.505+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:32.505+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:32.505+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1641425704<open>)] for JPA transaction
2026-01-27T09:14:32.505+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:32.505+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:32.505+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:32.505+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:32.506+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:14:32.507+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:32.508+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:32.508+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(139827799<open>)]
2026-01-27T09:14:32.508+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:32.508+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:32.508+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:32.508+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:32.509+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:32.509+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:32.509+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1641425704<open>)]
2026-01-27T09:14:32.509+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:32.509+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:32.510+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:32.510+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:14:32.511+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:14:33.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:33.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:14:33.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.172+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.172+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.172+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:14:33.173+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:33.173+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.173+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:14:33.173+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.174+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.175+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.176+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.177+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:33.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:33.178+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.179+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.180+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(444461850<open>)] for JPA transaction
2026-01-27T09:14:33.180+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:14:33.180+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:33.180+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@449941ab]
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.181+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.181+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1584478273<open>)] for JPA transaction
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:33.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:33.182+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67d76e23]
2026-01-27T09:14:33.182+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:33.183+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:33.184+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.184+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:14:33.184+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(444461850<open>)]
2026-01-27T09:14:33.184+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:14:33.184+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.185+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:33.185+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:33.186+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.187+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:14:33.187+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.187+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.188+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.189+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.189+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.190+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.191+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.191+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.191+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.192+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:33.193+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(799483240<open>)] for JPA transaction
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@41386213]
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.196+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.196+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:33.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.197+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:14:33.197+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.197+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.198+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.198+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(799483240<open>)]
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1584478273<open>)]
2026-01-27T09:14:33.198+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:14:33.199+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.200+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.201+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:14:33.202+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:33.202+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.202+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:14:33.202+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.203+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.203+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:14:33.203+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:14:33.203+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.204+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.205+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:14:33.205+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:14:33.205+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:14:33.206+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.207+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.207+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.207+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.207+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.207+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.207+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:14:33.208+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:33.208+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.208+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.208+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:14:33.208+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.209+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:14:33.210+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.210+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(739278408<open>)] for JPA transaction
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:14:33.211+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cf28653]
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.212+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:14:33.212+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:14:33.212+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.213+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:33.213+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:14:33.213+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.213+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.214+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1935812835<open>)] for JPA transaction
2026-01-27T09:14:33.214+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.214+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1202258162<open>)] for JPA transaction
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@36fdfc4]
2026-01-27T09:14:33.215+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1935812835<open>)] for JPA transaction
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@791ee15d]
2026-01-27T09:14:33.215+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:33.216+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.216+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:14:33.216+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.216+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1202258162<open>)] for JPA transaction
2026-01-27T09:14:33.216+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.216+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:33.216+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:33.217+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.217+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.218+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:14:33.218+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:33.218+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.218+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.219+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.219+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.219+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.219+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.219+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.220+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1935812835<open>)]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.220+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1202258162<open>)]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.220+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.222+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:14:33.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.224+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:33.225+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:33.225+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(739278408<open>)]
2026-01-27T09:14:33.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:33.227+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:14:33.227+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.230+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:14:33.230+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.231+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:33.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:33.232+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.232+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:33.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1469596938<open>)] for JPA transaction
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1053629107<open>)] for JPA transaction
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@180d977d]
2026-01-27T09:14:33.237+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5db499cd]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1469596938<open>)] for JPA transaction
2026-01-27T09:14:33.237+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1053629107<open>)] for JPA transaction
2026-01-27T09:14:33.237+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.237+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:33.238+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.238+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:33.238+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:33.239+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.240+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.240+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1469596938<open>)]
2026-01-27T09:14:33.240+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1053629107<open>)]
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:33.240+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:33.241+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:33.241+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:14:33.241+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:14:33.241+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:33.241+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:39.115+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-27T09:14:39.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-27T09:14:39.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:14:39.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:14:39.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:14:39.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-27T09:14:39.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:14:39.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:14:39.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-27T09:14:39.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-27T09:14:39.143+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-27T09:14:39.164+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.166+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.169+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(999217531<open>)] for JPA transaction
2026-01-27T09:14:39.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:39.170+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76a914f9]
2026-01-27T09:14:39.170+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:14:39.170+07:00  INFO 17516 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : 🔥 User 1 đăng nhập liên tiếp → streak +1 = 2
2026-01-27T09:14:39.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(999217531<open>)] for JPA transaction
2026-01-27T09:14:39.171+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:39.171+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:14:39.175+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:14:39.175+07:00  INFO 17516 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : ✅ Updated login streak cho user 1: streak=2, longest=5
2026-01-27T09:14:39.175+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:14:39.176+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:39.176+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(999217531<open>)]
2026-01-27T09:14:39.181+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    update
        users 
    set
        avatar_url=?,
        email=?,
        full_name=?,
        last_login_date=?,
        level=?,
        longest_streak=?,
        password=?,
        points=?,
        role=?,
        status=?,
        streak=?,
        username=? 
    where
        id=?
2026-01-27T09:14:39.194+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:39.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(999217531<open>)] for JPA transaction
2026-01-27T09:14:39.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:39.195+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63d6471e]
2026-01-27T09:14:39.195+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:14:39.196+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:14:39.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:39.196+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(999217531<open>)]
2026-01-27T09:14:39.197+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:39.197+07:00  INFO 17516 --- [http-nio-8080-exec-1] c.n.backend.service.AuthService          : 🔥 User 1 đăng nhập → streak = 2, longestStreak = 5, lastLoginDate = 2026-01-27T09:14:39.171438200
2026-01-27T09:14:39.218+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:39.219+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-27T09:14:39.221+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:39.223+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:14:39.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:14:39.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:14:39.226+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:39.227+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:39.227+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.228+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:39.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:14:39.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.232+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:14:39.233+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:14:39.233+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.234+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.236+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:39.236+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:14:39.236+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:39.317+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:14:39.318+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.318+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.319+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:14:39.319+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:39.320+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:39.320+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.322+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.325+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:39.325+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:14:39.325+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.325+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.326+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:14:39.326+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:14:39.326+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.328+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.331+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:39.331+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:14:39.332+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:39.333+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:14:39.334+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.334+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.334+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:14:39.334+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:39.335+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:39.335+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.337+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.340+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:39.341+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:14:39.341+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:14:39.341+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:39.342+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:14:39.342+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:14:39.342+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:39.343+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:39.346+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:39.346+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:14:39.347+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:45.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:14:45.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:14:45.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:14:45.107+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:14:45.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:45.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:14:45.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:45.110+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:14:45.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:45.111+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:45.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:45.112+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:45.112+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:45.112+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:45.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:45.113+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:45.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:45.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:45.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:45.117+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:14:45.118+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1543816216<open>)] for JPA transaction
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(880447036<open>)] for JPA transaction
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:45.119+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:45.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c6ec0f3]
2026-01-27T09:14:45.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2bb975a6]
2026-01-27T09:14:45.120+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:45.120+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:45.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1543816216<open>)] for JPA transaction
2026-01-27T09:14:45.120+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:45.120+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:45.120+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:45.121+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:45.121+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:14:45.122+07:00 TRACE 17516 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:45.122+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:45.123+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(880447036<open>)]
2026-01-27T09:14:45.123+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:45.123+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:45.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:45.124+07:00 TRACE 17516 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:45.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:45.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:45.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1543816216<open>)]
2026-01-27T09:14:45.124+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:45.125+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:45.125+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:45.125+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:14:45.126+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:45.126+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:14:45.127+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:45.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:45.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:14:45.128+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:45.128+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:45.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:45.129+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:45.129+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:45.130+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:14:45.133+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:45.134+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(296689711<open>)] for JPA transaction
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1604714789<open>)] for JPA transaction
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:45.135+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:45.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11f5b280]
2026-01-27T09:14:45.136+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:45.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2fa895c1]
2026-01-27T09:14:45.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(296689711<open>)] for JPA transaction
2026-01-27T09:14:45.136+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:45.136+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:45.136+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:45.136+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:45.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:45.137+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:14:45.138+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:45.139+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:45.139+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1604714789<open>)]
2026-01-27T09:14:45.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:45.140+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:14:45.140+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:14:45.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:45.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:45.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(296689711<open>)]
2026-01-27T09:14:45.140+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:45.141+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:45.141+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:45.141+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:45.141+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:14:45.142+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.016+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:14:46.016+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:14:46.016+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:46.016+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.017+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.017+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.017+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.017+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.018+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.018+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:14:46.018+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:46.019+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.019+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:14:46.019+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.019+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.019+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.021+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.023+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.023+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.023+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:46.024+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.024+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.024+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:46.024+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:46.024+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(707067751<open>)] for JPA transaction
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:14:46.025+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:46.026+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:14:46.026+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a8fc690]
2026-01-27T09:14:46.026+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.027+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:46.027+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.027+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:46.027+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1331594265<open>)] for JPA transaction
2026-01-27T09:14:46.027+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:46.027+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:46.028+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f5d23c8]
2026-01-27T09:14:46.028+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:46.028+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:14:46.029+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:14:46.029+07:00 TRACE 17516 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:46.029+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.030+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(707067751<open>)]
2026-01-27T09:14:46.031+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.031+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:46.031+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:14:46.032+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:14:46.033+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:14:46.034+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.035+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.035+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.036+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.037+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.038+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:14:46.039+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.040+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(744445431<open>)] for JPA transaction
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:46.041+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b7f3b67]
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.042+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:14:46.042+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:14:46.042+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.043+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.043+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.043+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:14:46.043+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.043+07:00 TRACE 17516 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:46.044+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.044+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1331594265<open>)]
2026-01-27T09:14:46.044+07:00 TRACE 17516 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:14:46.044+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.044+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(744445431<open>)]
2026-01-27T09:14:46.044+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.045+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:46.045+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.046+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:46.046+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:14:46.046+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:14:46.046+07:00 DEBUG 17516 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.046+07:00 DEBUG 17516 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.047+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:14:46.048+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:46.048+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.048+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:14:46.048+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.049+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.049+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.049+07:00 DEBUG 17516 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:14:46.049+07:00 DEBUG 17516 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:14:46.050+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.051+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:14:46.051+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:14:46.052+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:46.052+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:46.052+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.052+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.052+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.053+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.054+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.054+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.054+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:14:46.054+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:14:46.054+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.054+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:14:46.055+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:14:46.055+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.055+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.055+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.058+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:14:46.058+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.058+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1879693885<open>)] for JPA transaction
2026-01-27T09:14:46.058+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:14:46.058+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f46c14f]
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:46.059+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.059+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:46.059+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:14:46.060+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:14:46.060+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.060+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:14:46.060+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:46.060+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.061+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.061+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(976305826<open>)] for JPA transaction
2026-01-27T09:14:46.062+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:46.062+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.062+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(756518438<open>)] for JPA transaction
2026-01-27T09:14:46.062+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6012da3a]
2026-01-27T09:14:46.062+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:46.062+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.063+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(976305826<open>)] for JPA transaction
2026-01-27T09:14:46.063+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@31a29743]
2026-01-27T09:14:46.063+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:46.063+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.063+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(756518438<open>)] for JPA transaction
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:46.064+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.065+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.065+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:14:46.065+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.065+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.065+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.065+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.066+07:00 TRACE 17516 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.066+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.066+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:46.066+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.066+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(976305826<open>)]
2026-01-27T09:14:46.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:14:46.067+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.068+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.068+07:00 TRACE 17516 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:14:46.068+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(756518438<open>)]
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.069+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.070+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.072+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:14:46.073+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.074+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:14:46.075+07:00 TRACE 17516 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.075+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1879693885<open>)]
2026-01-27T09:14:46.076+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.077+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:14:46.077+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.078+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.082+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:14:46.083+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.083+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:14:46.084+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.084+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1446332079<open>)] for JPA transaction
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(633266067<open>)] for JPA transaction
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@610ccf2e]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4782306b]
2026-01-27T09:14:46.087+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.087+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1446332079<open>)] for JPA transaction
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(633266067<open>)] for JPA transaction
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:46.087+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:14:46.087+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.087+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.092+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:46.092+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:14:46.094+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.094+07:00 TRACE 17516 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1446332079<open>)]
2026-01-27T09:14:46.095+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.095+07:00 TRACE 17516 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(633266067<open>)]
2026-01-27T09:14:46.095+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:46.096+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:14:46.096+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:14:46.096+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:14:46.096+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:14:46.096+07:00 DEBUG 17516 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:14:46.097+07:00 DEBUG 17516 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:25.319+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37124 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:22:25.320+07:00 DEBUG 37124 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:22:25.321+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:22:25.348+07:00  INFO 37124 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27T09:22:25.349+07:00  INFO 37124 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27T09:22:25.817+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:22:25.865+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 16 JPA repository interfaces.
2026-01-27T09:22:26.330+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:22:26.345+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:22:26.345+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:22:26.394+07:00  INFO 37124 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 1045 ms
2026-01-27T09:22:26.525+07:00  INFO 37124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:22:26.561+07:00  INFO 37124 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-27T09:22:26.874+07:00  INFO 37124 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:22:26.879+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-27T09:22:26.963+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@332ac259
2026-01-27T09:22:26.963+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-27T09:22:26.981+07:00  WARN 37124 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:22:26.995+07:00  INFO 37124 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:22:27.580+07:00  INFO 37124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:22:27.610+07:00  INFO 37124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:22:27.652+07:00  INFO 37124 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27T09:22:27.993+07:00 DEBUG 37124 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:22:28.600+07:00  WARN 37124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:22:28.648+07:00  INFO 37124 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:22:28.725+07:00 DEBUG 37124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:22:28.817+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:22:28.833+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:22:28.844+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:22:28.863+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:22:28.885+07:00 DEBUG 37124 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:22:28.975+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:22:28.980+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.902 seconds (process running for 4.138)
2026-01-27T09:22:31.931+07:00  INFO 37124 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27T09:22:31.931+07:00  INFO 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-27T09:22:31.931+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-27T09:22:31.931+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-27T09:22:31.932+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3c424e25
2026-01-27T09:22:31.932+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4574ee76
2026-01-27T09:22:31.933+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27T09:22:31.933+07:00  INFO 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-27T09:22:31.938+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:22:31.938+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:22:31.951+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:22:31.953+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:31.953+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:31.953+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:22:31.953+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:22:31.994+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:22:31.994+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:32.066+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:22:32.077+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:22:32.097+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:32.098+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:32.111+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:32.111+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:22:32.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:32.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:22:32.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:32.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:32.145+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:22:32.145+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:22:32.145+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:22:32.146+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:32.147+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:32.149+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:22:32.150+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:22:32.150+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:32.150+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:32.150+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:22:32.151+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:22:32.151+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:32.152+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:32.155+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:32.155+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:22:32.156+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:34.478+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-27T09:22:34.481+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-27T09:22:34.482+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:22:34.482+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:22:34.482+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:22:34.483+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-27T09:22:34.483+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:22:34.483+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:22:34.483+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-27T09:22:34.484+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-27T09:22:34.500+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-27T09:22:34.514+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.516+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.518+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1832239854<open>)] for JPA transaction
2026-01-27T09:22:34.519+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:22:34.520+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@535df61a]
2026-01-27T09:22:34.521+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:22:34.521+07:00  INFO 37124 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : 👤 User 1 đã đăng nhập hôm nay → streak giữ nguyên = 2
2026-01-27T09:22:34.521+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:22:34.521+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:22:34.521+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1832239854<open>)]
2026-01-27T09:22:34.527+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:22:34.528+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1832239854<open>)] for JPA transaction
2026-01-27T09:22:34.528+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:22:34.528+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b04b538]
2026-01-27T09:22:34.528+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:22:34.531+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:22:34.532+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:22:34.532+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1832239854<open>)]
2026-01-27T09:22:34.532+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:22:34.532+07:00  INFO 37124 --- [http-nio-8080-exec-7] c.n.backend.service.AuthService          : 🔥 User 1 đăng nhập → streak = 2, longestStreak = 5, lastLoginDate = 2026-01-27T09:14:39
2026-01-27T09:22:34.543+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:34.544+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-27T09:22:34.545+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:34.548+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:22:34.548+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.549+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.549+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:22:34.549+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:22:34.550+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:22:34.550+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.551+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.553+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:22:34.554+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:22:34.554+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.554+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.554+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:22:34.554+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:22:34.554+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.555+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.557+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:34.557+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:22:34.558+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:34.642+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:22:34.643+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.643+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.643+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:22:34.643+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:22:34.644+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:22:34.644+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.645+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.648+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:22:34.649+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:22:34.649+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.649+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.649+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:22:34.649+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:22:34.650+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.651+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.653+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:34.653+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:22:34.654+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:22:34.655+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:22:34.656+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.656+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.656+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:22:34.656+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:22:34.657+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:22:34.657+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.658+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.660+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:22:34.661+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:22:34.661+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:22:34.661+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:22:34.661+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:22:34.661+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:22:34.662+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:22:34.663+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:22:34.665+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:22:34.665+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:22:34.666+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:39.825+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:26:39.825+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:26:39.827+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:26:39.827+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:26:39.827+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:39.827+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:26:39.827+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:39.828+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:39.828+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:39.829+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:39.831+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:39.832+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:26:39.832+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:26:39.832+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:39.832+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:26:39.832+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:26:39.833+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:39.833+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:39.835+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:39.835+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:26:39.836+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:39.837+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:26:39.838+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:26:39.838+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:39.838+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:26:39.838+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:39.838+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:39.839+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:39.840+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:39.842+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:39.842+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:26:39.842+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:26:39.842+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:39.843+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:26:39.843+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:26:39.843+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:39.844+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:39.846+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:39.846+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:26:39.847+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:40.358+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:26:40.358+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:26:40.358+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:26:40.358+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:26:40.360+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:26:40.360+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:40.361+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:40.362+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:40.362+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:40.362+07:00 TRACE 37124 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:40.362+07:00 TRACE 37124 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:40.364+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:40.364+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:40.367+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:40.367+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:26:40.368+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:26:40.369+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.369+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:26:40.369+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:26:40.369+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:26:40.370+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:40.370+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1814336701<open>)] for JPA transaction
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1094762149<open>)] for JPA transaction
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:40.375+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:40.376+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67e10cc5]
2026-01-27T09:26:40.376+07:00 TRACE 37124 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:26:40.377+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1094762149<open>)] for JPA transaction
2026-01-27T09:26:40.377+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:40.377+07:00 TRACE 37124 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:26:40.377+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@24f1beb]
2026-01-27T09:26:40.377+07:00 TRACE 37124 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:40.378+07:00 TRACE 37124 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:26:40.383+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:26:40.384+07:00 TRACE 37124 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:40.384+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:40.384+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1814336701<open>)]
2026-01-27T09:26:40.385+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:40.385+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:26:40.385+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:40.386+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:26:40.387+07:00 TRACE 37124 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:26:40.387+07:00 TRACE 37124 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:26:40.387+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:40.387+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1094762149<open>)]
2026-01-27T09:26:40.388+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:40.388+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:40.388+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:40.389+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:26:40.389+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:26:40.390+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:40.390+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.390+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.390+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.390+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:40.391+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:26:40.391+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:40.392+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:40.392+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:40.392+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:40.393+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:40.394+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:40.395+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(274150371<open>)] for JPA transaction
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:40.396+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15ef89ec]
2026-01-27T09:26:40.397+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:40.397+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:40.397+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1049079852<open>)] for JPA transaction
2026-01-27T09:26:40.397+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:26:40.397+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:40.397+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2069dce7]
2026-01-27T09:26:40.397+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:26:40.397+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:26:40.398+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1049079852<open>)] for JPA transaction
2026-01-27T09:26:40.398+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:40.398+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:26:40.398+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:40.398+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:40.398+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(274150371<open>)]
2026-01-27T09:26:40.399+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:26:40.399+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:40.400+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:40.400+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:26:40.401+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:26:40.401+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:40.401+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:26:40.401+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:40.401+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1049079852<open>)]
2026-01-27T09:26:40.402+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:40.402+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:40.402+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:26:40.403+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.132+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:26:42.132+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:26:42.135+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:26:42.135+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:26:42.135+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:26:42.136+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.137+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.137+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.137+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.137+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.139+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.139+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.142+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.142+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:26:42.143+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1448074931<open>)] for JPA transaction
2026-01-27T09:26:42.144+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:42.145+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f53913e]
2026-01-27T09:26:42.145+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:42.145+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:26:42.146+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:26:42.147+07:00 TRACE 37124 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:42.147+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.147+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1448074931<open>)]
2026-01-27T09:26:42.148+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.148+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.148+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:42.148+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.148+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:26:42.149+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(599893406<open>)] for JPA transaction
2026-01-27T09:26:42.149+07:00 DEBUG 37124 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.149+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:42.150+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4567cbee]
2026-01-27T09:26:42.150+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:26:42.151+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:26:42.151+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:26:42.151+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.151+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.152+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.152+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.152+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.153+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.153+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:26:42.154+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.156+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:26:42.156+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.156+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:26:42.156+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.157+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1093735707<open>)] for JPA transaction
2026-01-27T09:26:42.158+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:42.158+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@115c97ba]
2026-01-27T09:26:42.158+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:42.158+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:26:42.158+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.158+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.158+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.159+07:00 TRACE 37124 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1093735707<open>)]
2026-01-27T09:26:42.159+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.160+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.161+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.162+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.163+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.164+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.165+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.166+07:00 TRACE 37124 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:26:42.166+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.166+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(599893406<open>)]
2026-01-27T09:26:42.166+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.167+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:42.170+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:26:42.174+07:00 DEBUG 37124 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.175+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:26:42.175+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:26:42.175+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.175+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:26:42.175+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.176+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.176+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.177+07:00 DEBUG 37124 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:26:42.177+07:00 DEBUG 37124 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:26:42.177+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.179+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.180+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.180+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.180+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:26:42.181+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:26:42.181+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.181+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.181+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.182+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:26:42.183+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(640120456<open>)] for JPA transaction
2026-01-27T09:26:42.183+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:26:42.184+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27cf897d]
2026-01-27T09:26:42.184+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:26:42.184+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:26:42.185+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:26:42.186+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:26:42.186+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.186+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.186+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:26:42.186+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:26:42.187+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:26:42.187+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:26:42.187+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.187+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.187+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1897032056<open>)] for JPA transaction
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1320357092<open>)] for JPA transaction
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:42.188+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1c145561]
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@347b2aee]
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.189+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.189+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1897032056<open>)] for JPA transaction
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1320357092<open>)] for JPA transaction
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:42.189+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.190+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.190+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:26:42.190+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.191+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.192+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:26:42.193+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.194+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.194+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.194+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:26:42.195+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.195+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:26:42.195+07:00 TRACE 37124 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.195+07:00 TRACE 37124 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1320357092<open>)]
2026-01-27T09:26:42.195+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1897032056<open>)]
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:26:42.196+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:26:42.197+07:00 TRACE 37124 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.197+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(640120456<open>)]
2026-01-27T09:26:42.198+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.198+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:26:42.198+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:26:42.199+07:00 DEBUG 37124 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.202+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:26:42.202+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.203+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:26:42.204+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.204+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:26:42.204+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.204+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:26:42.207+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:26:42.208+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.208+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.208+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.208+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:26:42.208+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(799577537<open>)] for JPA transaction
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(506550897<open>)] for JPA transaction
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@153d9f06]
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@678eccdc]
2026-01-27T09:26:42.209+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.209+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(799577537<open>)] for JPA transaction
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(506550897<open>)] for JPA transaction
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:42.209+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:26:42.209+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.209+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.210+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:26:42.210+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:26:42.211+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.211+07:00 TRACE 37124 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.211+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.212+07:00 TRACE 37124 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(799577537<open>)]
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(506550897<open>)]
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:42.212+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:26:42.213+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:26:42.213+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:26:42.213+07:00 DEBUG 37124 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:26:42.213+07:00 DEBUG 37124 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:27:41.603+07:00  INFO 37124 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-27T09:27:41.605+07:00  INFO 37124 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:27:41.629+07:00  INFO 37124 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:27:41.631+07:00  INFO 37124 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:41.631+07:00  INFO 37124 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-27T09:27:41.638+07:00  INFO 37124 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-27T09:27:41.680+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37124 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:27:41.680+07:00 DEBUG 37124 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:27:41.680+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:27:41.812+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:27:41.835+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 16 JPA repository interfaces.
2026-01-27T09:27:41.896+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:27:41.899+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:27:41.899+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:27:41.906+07:00  INFO 37124 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 226 ms
2026-01-27T09:27:41.935+07:00  INFO 37124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:27:41.978+07:00  INFO 37124 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:27:41.979+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-27T09:27:41.982+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@251dd6a1
2026-01-27T09:27:41.983+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-27T09:27:41.984+07:00  WARN 37124 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:27:41.984+07:00  INFO 37124 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:27:42.147+07:00  INFO 37124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:27:42.153+07:00  INFO 37124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:42.184+07:00 DEBUG 37124 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:27:42.343+07:00  WARN 37124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:27:42.355+07:00  INFO 37124 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:27:42.377+07:00 DEBUG 37124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:27:42.398+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:27:42.402+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:27:42.402+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:27:42.405+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:27:42.409+07:00 DEBUG 37124 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:27:42.430+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:27:42.432+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.763 seconds (process running for 317.589)
2026-01-27T09:27:42.433+07:00  INFO 37124 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-27T09:27:43.863+07:00  INFO 37124 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-27T09:27:43.864+07:00  INFO 37124 --- [Thread-5] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:27:43.895+07:00  INFO 37124 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:27:43.897+07:00  INFO 37124 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:43.897+07:00  INFO 37124 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-27T09:27:43.898+07:00  INFO 37124 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-27T09:27:43.951+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37124 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:27:43.951+07:00 DEBUG 37124 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:27:43.951+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:27:44.041+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:27:44.059+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 16 JPA repository interfaces.
2026-01-27T09:27:44.101+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:27:44.101+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:27:44.101+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:27:44.110+07:00  INFO 37124 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 158 ms
2026-01-27T09:27:44.126+07:00  INFO 37124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:27:44.147+07:00  INFO 37124 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:27:44.148+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-27T09:27:44.150+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@162a49b0
2026-01-27T09:27:44.150+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-27T09:27:44.151+07:00  WARN 37124 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:27:44.152+07:00  INFO 37124 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:27:44.283+07:00  INFO 37124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:27:44.290+07:00  INFO 37124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:44.311+07:00 DEBUG 37124 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:27:44.454+07:00  WARN 37124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:27:44.465+07:00  INFO 37124 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:27:44.487+07:00 DEBUG 37124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:27:44.509+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:27:44.514+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:27:44.514+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:27:44.518+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:27:44.521+07:00 DEBUG 37124 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:27:44.538+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:27:44.539+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.597 seconds (process running for 319.695)
2026-01-27T09:27:44.539+07:00  INFO 37124 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-27T09:27:51.068+07:00  INFO 37124 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-27T09:27:51.072+07:00  INFO 37124 --- [Thread-9] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:27:51.116+07:00  INFO 37124 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:27:51.117+07:00  INFO 37124 --- [Thread-9] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:51.118+07:00  INFO 37124 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-27T09:27:51.119+07:00  INFO 37124 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-27T09:27:51.177+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37124 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:27:51.177+07:00 DEBUG 37124 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:27:51.177+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:27:51.260+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:27:51.276+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 16 JPA repository interfaces.
2026-01-27T09:27:51.313+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:27:51.313+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:27:51.313+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:27:51.322+07:00  INFO 37124 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 144 ms
2026-01-27T09:27:51.335+07:00  INFO 37124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:27:51.349+07:00  INFO 37124 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:27:51.350+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-27T09:27:51.351+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@306d31b4
2026-01-27T09:27:51.351+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-27T09:27:51.352+07:00  WARN 37124 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:27:51.352+07:00  INFO 37124 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:27:51.452+07:00  INFO 37124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:27:51.458+07:00  INFO 37124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:51.479+07:00 DEBUG 37124 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:27:51.612+07:00  WARN 37124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:27:51.622+07:00  INFO 37124 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:27:51.637+07:00 DEBUG 37124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:27:51.656+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:27:51.663+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:27:51.663+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:27:51.663+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:27:51.669+07:00 DEBUG 37124 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:27:51.685+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:27:51.686+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.52 seconds (process running for 326.843)
2026-01-27T09:27:51.686+07:00  INFO 37124 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-27T09:27:53.149+07:00  INFO 37124 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-27T09:27:53.158+07:00  INFO 37124 --- [Thread-13] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:27:53.189+07:00  INFO 37124 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:27:53.190+07:00  INFO 37124 --- [Thread-13] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:53.191+07:00  INFO 37124 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-27T09:27:53.192+07:00  INFO 37124 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-27T09:27:53.251+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 37124 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:27:53.251+07:00 DEBUG 37124 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:27:53.251+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:27:53.336+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:27:53.350+07:00  INFO 37124 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 16 JPA repository interfaces.
2026-01-27T09:27:53.384+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:27:53.384+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:27:53.384+07:00  INFO 37124 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:27:53.393+07:00  INFO 37124 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 140 ms
2026-01-27T09:27:53.405+07:00  INFO 37124 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:27:53.422+07:00  INFO 37124 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:27:53.422+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-27T09:27:53.425+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5537e3f4
2026-01-27T09:27:53.425+07:00  INFO 37124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-27T09:27:53.426+07:00  WARN 37124 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:27:53.426+07:00  INFO 37124 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:27:53.505+07:00  INFO 37124 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:27:53.507+07:00  INFO 37124 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:53.530+07:00 DEBUG 37124 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:27:53.649+07:00  WARN 37124 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:27:53.661+07:00  INFO 37124 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:27:53.681+07:00 DEBUG 37124 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:27:53.699+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:27:53.701+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:27:53.701+07:00 DEBUG 37124 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:27:53.705+07:00 DEBUG 37124 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:27:53.708+07:00 DEBUG 37124 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:27:53.721+07:00  INFO 37124 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:27:53.721+07:00  INFO 37124 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.48 seconds (process running for 328.883)
2026-01-27T09:27:53.721+07:00  INFO 37124 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-27T09:27:57.641+07:00  INFO 37124 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T09:27:57.668+07:00  INFO 37124 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T09:27:57.669+07:00  INFO 37124 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:27:57.670+07:00  INFO 37124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2026-01-27T09:27:57.670+07:00  INFO 37124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2026-01-27T09:27:58.306+07:00  INFO 19644 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 19644 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-27T09:27:58.311+07:00 DEBUG 19644 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-27T09:27:58.311+07:00  INFO 19644 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-27T09:27:58.338+07:00  INFO 19644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27T09:27:58.338+07:00  INFO 19644 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27T09:27:58.771+07:00  INFO 19644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27T09:27:58.823+07:00  INFO 19644 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 16 JPA repository interfaces.
2026-01-27T09:27:59.269+07:00  INFO 19644 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-27T09:27:59.285+07:00  INFO 19644 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-27T09:27:59.285+07:00  INFO 19644 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-27T09:27:59.320+07:00  INFO 19644 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 981 ms
2026-01-27T09:27:59.427+07:00  INFO 19644 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27T09:27:59.474+07:00  INFO 19644 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-27T09:27:59.792+07:00  INFO 19644 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27T09:27:59.808+07:00  INFO 19644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-27T09:27:59.878+07:00  INFO 19644 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c3671e3
2026-01-27T09:27:59.879+07:00  INFO 19644 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-27T09:27:59.901+07:00  WARN 19644 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27T09:27:59.908+07:00  INFO 19644 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-27T09:28:00.494+07:00  INFO 19644 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27T09:28:00.521+07:00  INFO 19644 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T09:28:00.566+07:00  INFO 19644 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-27T09:28:00.929+07:00 DEBUG 19644 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-27T09:28:01.520+07:00  WARN 19644 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27T09:28:01.560+07:00  INFO 19644 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-27T09:28:01.636+07:00 DEBUG 19644 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-27T09:28:01.722+07:00 DEBUG 19644 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 72 mappings in 'requestMappingHandlerMapping'
2026-01-27T09:28:01.731+07:00 DEBUG 19644 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-27T09:28:01.739+07:00 DEBUG 19644 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27T09:28:01.756+07:00 DEBUG 19644 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27T09:28:01.778+07:00 DEBUG 19644 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27T09:28:01.857+07:00  INFO 19644 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-27T09:28:01.861+07:00  INFO 19644 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.81 seconds (process running for 4.048)
2026-01-27T09:28:11.487+07:00  INFO 19644 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-27T09:28:11.487+07:00  INFO 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-27T09:28:11.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-27T09:28:11.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-27T09:28:11.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@78af8d4a
2026-01-27T09:28:11.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@428dd49
2026-01-27T09:28:11.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27T09:28:11.489+07:00  INFO 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-27T09:28:11.493+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-27T09:28:11.504+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-27T09:28:11.511+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-27T09:28:11.512+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-27T09:28:11.548+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-27T09:28:11.564+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:11.635+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-27T09:28:11.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1259690550<open>)] for JPA transaction
2026-01-27T09:28:11.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:11.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a80f9d2]
2026-01-27T09:28:11.663+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:28:11.663+07:00  INFO 19644 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : 👤 User 1 đã đăng nhập hôm nay → streak giữ nguyên = 2
2026-01-27T09:28:11.663+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-27T09:28:11.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:11.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1259690550<open>)]
2026-01-27T09:28:11.680+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:11.680+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1259690550<open>)] for JPA transaction
2026-01-27T09:28:11.680+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:11.680+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@44de13c3]
2026-01-27T09:28:11.680+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:28:11.688+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-27T09:28:11.688+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:11.688+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1259690550<open>)]
2026-01-27T09:28:11.688+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:11.688+07:00  INFO 19644 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : 🔥 User 1 đăng nhập → streak = 2, longestStreak = 5, lastLoginDate = 2026-01-27T09:14:39
2026-01-27T09:28:11.796+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:11.796+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-27T09:28:11.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:11.830+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T09:28:11.831+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:28:11.831+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:11.831+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:11.831+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:28:11.831+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:11.870+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:11.870+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:11.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:11.904+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:11.904+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:28:11.904+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:11.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:11.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:28:11.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:28:11.907+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:11.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:11.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:11.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:28:11.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:11.996+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:28:11.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:11.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:11.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:28:11.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:11.999+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:11.999+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:12.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:12.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:12.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:28:12.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:12.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:12.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:28:12.006+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:28:12.006+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:12.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:12.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:12.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:28:12.012+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:12.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T09:28:12.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:12.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:12.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T09:28:12.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:12.017+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:12.017+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:12.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:12.022+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:12.022+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T09:28:12.022+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T09:28:12.022+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:12.022+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T09:28:12.023+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T09:28:12.023+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:12.025+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:12.027+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:12.028+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T09:28:12.029+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:16.733+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:28:16.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:28:16.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T09:28:16.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T09:28:16.737+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:28:16.737+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:16.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:16.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:16.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:16.739+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:16.739+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:16.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:16.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:16.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:16.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:28:16.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:28:16.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:28:16.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:28:16.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:28:16.747+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:16.747+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:16.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:16.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:16.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(386377252<open>)] for JPA transaction
2026-01-27T09:28:16.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:16.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(763022638<open>)] for JPA transaction
2026-01-27T09:28:16.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:16.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4187b714]
2026-01-27T09:28:16.755+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:28:16.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(763022638<open>)] for JPA transaction
2026-01-27T09:28:16.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:16.756+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:28:16.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@26ec0a1c]
2026-01-27T09:28:16.756+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:16.757+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:28:16.763+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:28:16.765+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:16.765+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:16.765+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(386377252<open>)]
2026-01-27T09:28:16.766+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:16.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:16.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:28:16.770+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:28:16.770+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:16.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:28:16.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:16.773+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:28:16.774+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:28:16.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:16.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:16.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(763022638<open>)]
2026-01-27T09:28:16.774+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:16.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:16.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:16.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:16.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:28:16.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:16.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:16.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:28:16.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:16.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:28:16.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:28:16.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:16.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T09:28:16.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:16.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2144956018<open>)] for JPA transaction
2026-01-27T09:28:16.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:28:16.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:16.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T09:28:16.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:16.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6354d535]
2026-01-27T09:28:16.783+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:16.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:16.783+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:28:16.783+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:16.784+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:28:16.785+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:16.786+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:16.786+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:16.786+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2144956018<open>)]
2026-01-27T09:28:16.787+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:16.788+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:16.788+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:28:16.788+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:16.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T09:28:16.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:16.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T09:28:16.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:16.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T09:28:16.790+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T09:28:16.790+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:16.790+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:16.791+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(208189450<open>)] for JPA transaction
2026-01-27T09:28:16.791+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:16.792+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5365a67e]
2026-01-27T09:28:16.792+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:28:16.792+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(208189450<open>)] for JPA transaction
2026-01-27T09:28:16.792+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:16.792+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:28:16.793+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T09:28:16.796+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T09:28:16.797+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T09:28:16.797+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:16.797+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(208189450<open>)]
2026-01-27T09:28:16.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:16.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:16.799+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T09:28:16.800+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:28:17.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:28:17.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T09:28:17.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.746+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.747+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:28:17.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:28:17.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.749+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:28:17.749+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.750+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.750+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.752+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:28:17.752+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.753+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.753+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:28:17.753+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(958016642<open>)] for JPA transaction
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:17.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:28:17.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@609fb8dd]
2026-01-27T09:28:17.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:28:17.755+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:17.755+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:28:17.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:28:17.757+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:17.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(958016642<open>)]
2026-01-27T09:28:17.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:17.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:28:17.759+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.759+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.759+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.760+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T09:28:17.760+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1828733347<open>)] for JPA transaction
2026-01-27T09:28:17.760+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:17.761+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.761+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.761+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.761+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.762+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cea0427]
2026-01-27T09:28:17.762+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:28:17.762+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.762+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:28:17.762+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.763+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.764+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:28:17.766+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.766+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T09:28:17.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T09:28:17.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T09:28:17.767+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T09:28:17.768+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.768+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.769+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1101731088<open>)] for JPA transaction
2026-01-27T09:28:17.769+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:17.769+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:28:17.769+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13dbd587]
2026-01-27T09:28:17.769+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:17.769+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T09:28:17.770+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T09:28:17.771+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T09:28:17.771+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.771+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1101731088<open>)]
2026-01-27T09:28:17.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:17.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.772+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T09:28:17.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:28:17.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.773+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:28:17.774+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.775+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.776+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.777+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.778+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:28:17.779+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.780+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.781+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:28:17.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.782+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.782+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:28:17.783+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.783+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1828733347<open>)]
2026-01-27T09:28:17.784+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.784+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:17.789+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:28:17.796+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.797+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T09:28:17.797+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:28:17.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T09:28:17.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T09:28:17.798+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T09:28:17.799+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.799+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.800+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:28:17.800+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:28:17.800+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.801+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:28:17.801+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:28:17.801+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.802+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.802+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:28:17.802+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:28:17.802+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.802+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.803+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.803+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.803+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.803+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.803+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.804+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.805+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T09:28:17.807+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.807+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1265011425<open>)] for JPA transaction
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:28:17.808+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:28:17.809+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@532a8578]
2026-01-27T09:28:17.809+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.809+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:28:17.809+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:28:17.809+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T09:28:17.809+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:28:17.810+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T09:28:17.810+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:28:17.810+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.811+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.811+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.811+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.811+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(949167052<open>)] for JPA transaction
2026-01-27T09:28:17.812+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(65546240<open>)] for JPA transaction
2026-01-27T09:28:17.812+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:17.812+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:17.812+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7fbe3a0d]
2026-01-27T09:28:17.812+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.812+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f92f828]
2026-01-27T09:28:17.812+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(949167052<open>)] for JPA transaction
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(65546240<open>)] for JPA transaction
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:17.813+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.813+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T09:28:17.813+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.814+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T09:28:17.815+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.816+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:28:17.817+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.819+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.819+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.819+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.820+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.820+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.820+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.820+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.820+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(949167052<open>)]
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(65546240<open>)]
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.821+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.822+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.823+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T09:28:17.824+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.824+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.824+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.824+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T09:28:17.824+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T09:28:17.825+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.825+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1265011425<open>)]
2026-01-27T09:28:17.826+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.826+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T09:28:17.827+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T09:28:17.829+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T09:28:17.834+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.835+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.835+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T09:28:17.835+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T09:28:17.835+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.835+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T09:28:17.836+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.836+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T09:28:17.837+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.837+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T09:28:17.842+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T09:28:17.842+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T09:28:17.842+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:28:17.842+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1146719024<open>)] for JPA transaction
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1619826396<open>)] for JPA transaction
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:17.843+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T09:28:17.844+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75aa42d2]
2026-01-27T09:28:17.844+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@65c4981d]
2026-01-27T09:28:17.844+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.844+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.844+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1146719024<open>)] for JPA transaction
2026-01-27T09:28:17.844+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:17.844+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1619826396<open>)] for JPA transaction
2026-01-27T09:28:17.845+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T09:28:17.845+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:28:17.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T09:28:17.847+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.848+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.848+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.848+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1146719024<open>)]
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1619826396<open>)]
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T09:28:17.849+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:17.849+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T09:28:17.849+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T09:28:17.849+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T09:28:17.850+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T09:28:17.850+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:03:00.979+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=35m30s287ms424µs400ns).
2026-01-27T11:05:01.651+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:05:01.651+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:05:01.653+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:05:01.654+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:01.654+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:01.654+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:05:01.654+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:01.654+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:01.655+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:01.656+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:01.659+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:01.659+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:05:01.659+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:01.659+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:01.659+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:05:01.660+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:05:01.660+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:01.661+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:01.662+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:01.662+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:05:01.663+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:01.664+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:05:01.664+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:01.665+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:01.665+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:05:01.665+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:01.665+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:01.665+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:01.666+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:01.668+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:01.668+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:05:01.668+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:01.668+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:01.668+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:05:01.669+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:05:01.669+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:01.670+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:01.671+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:01.671+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:05:01.672+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.063+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:05:30.063+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.063+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:05:30.071+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.075+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.075+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.075+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:05:30.076+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:05:30.076+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.694+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T11:05:30.694+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T11:05:30.695+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T11:05:30.695+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T11:05:30.696+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.697+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.698+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.698+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.698+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.698+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.698+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.700+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.700+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.703+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.703+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.703+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T11:05:30.703+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:05:30.703+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T11:05:30.704+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1745975801<open>)] for JPA transaction
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1688877485<open>)] for JPA transaction
2026-01-27T11:05:30.705+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:30.706+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:30.706+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e6aa8ed]
2026-01-27T11:05:30.707+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1122f062]
2026-01-27T11:05:30.707+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:05:30.707+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:30.707+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1745975801<open>)] for JPA transaction
2026-01-27T11:05:30.707+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:05:30.707+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:30.707+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:05:30.707+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:05:30.707+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T11:05:30.708+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:30.708+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:30.708+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1688877485<open>)]
2026-01-27T11:05:30.709+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:30.709+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:05:30.709+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:30.709+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:05:30.710+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:05:30.710+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:30.710+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1745975801<open>)]
2026-01-27T11:05:30.710+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.710+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:30.711+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:30.711+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.712+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.713+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T11:05:30.713+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.713+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:05:30.713+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.713+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.713+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T11:05:30.714+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:30.714+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:30.714+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:30.714+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.715+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:30.717+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:05:30.718+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:30.719+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(10234420<open>)] for JPA transaction
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1710669335<open>)] for JPA transaction
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f754114]
2026-01-27T11:05:30.720+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56e6b9c]
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(10234420<open>)] for JPA transaction
2026-01-27T11:05:30.720+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:30.720+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:30.721+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:05:30.721+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:05:30.721+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:05:30.722+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T11:05:30.722+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:30.723+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:30.723+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1710669335<open>)]
2026-01-27T11:05:30.724+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:30.724+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(10234420<open>)]
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:05:30.724+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:30.725+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:30.725+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:30.725+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T11:05:30.725+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T11:05:31.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T11:05:31.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:05:31.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.334+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T11:05:31.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.337+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:05:31.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:05:31.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:05:31.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1875433192<open>)] for JPA transaction
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3bd21e5]
2026-01-27T11:05:31.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T11:05:31.341+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:31.342+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:05:31.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:05:31.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1648851897<open>)] for JPA transaction
2026-01-27T11:05:31.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:31.343+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:31.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1875433192<open>)]
2026-01-27T11:05:31.344+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4caf6ff5]
2026-01-27T11:05:31.344+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:05:31.344+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T11:05:31.344+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.344+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T11:05:31.344+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:31.345+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:05:31.345+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.349+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:05:31.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:05:31.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1132231090<open>)] for JPA transaction
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@297a2abf]
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T11:05:31.355+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:31.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.356+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.356+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1648851897<open>)]
2026-01-27T11:05:31.357+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1132231090<open>)]
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:31.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:05:31.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T11:05:31.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.360+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T11:05:31.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T11:05:31.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T11:05:31.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T11:05:31.364+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.364+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T11:05:31.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T11:05:31.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1861843677<open>)] for JPA transaction
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:05:31.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@fa1109b]
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.368+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:05:31.368+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1922633755<open>)] for JPA transaction
2026-01-27T11:05:31.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(506623141<open>)] for JPA transaction
2026-01-27T11:05:31.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:31.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7a21b748]
2026-01-27T11:05:31.370+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a8e41e4]
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1922633755<open>)] for JPA transaction
2026-01-27T11:05:31.370+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(506623141<open>)] for JPA transaction
2026-01-27T11:05:31.370+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:31.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.371+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:05:31.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T11:05:31.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:05:31.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.373+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.373+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.373+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1922633755<open>)]
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T11:05:31.373+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(506623141<open>)]
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:31.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T11:05:31.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:05:31.378+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:05:31.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1861843677<open>)]
2026-01-27T11:05:31.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:05:31.380+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T11:05:31.380+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.382+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T11:05:31.382+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T11:05:31.382+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:31.383+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:31.384+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.384+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:31.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:31.386+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T11:05:31.387+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1967944509<open>)] for JPA transaction
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1053629107<open>)] for JPA transaction
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:05:31.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@8d67638]
2026-01-27T11:05:31.389+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5db499cd]
2026-01-27T11:05:31.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1967944509<open>)] for JPA transaction
2026-01-27T11:05:31.389+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:31.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1053629107<open>)] for JPA transaction
2026-01-27T11:05:31.390+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:05:31.390+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:05:31.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:05:31.391+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.391+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.391+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1967944509<open>)]
2026-01-27T11:05:31.391+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1053629107<open>)]
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:31.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:32.883+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.884+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.884+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:32.884+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.884+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:32.885+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:32.885+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:32.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:32.889+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:32.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:32.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:05:32.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:05:32.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:05:32.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:05:32.892+07:00  INFO 19644 --- [http-nio-8080-exec-2] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:05:32.892+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:05:32.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:05:32.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:32.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:05:32.903+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:05:32.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:32.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:05:32.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:05:32.912+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:05:32.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:05:32.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:05:32.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:05:32.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:05:32.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:05:32.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:05:32.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:05:32.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:05:32.917+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:05:32.917+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:05:32.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:05:32.919+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:05:32.919+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:05:32.919+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:21:59.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:21:59.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:21:59.348+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:21:59.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:21:59.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:21:59.353+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:21:59.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:21:59.358+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:21:59.358+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:21:59.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:21:59.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:21:59.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:21:59.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:03.731+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:22:03.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:22:03.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:03.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:22:03.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:03.733+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:03.733+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:03.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:03.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:03.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:22:03.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:22:03.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:03.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:22:03.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:22:03.737+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:03.737+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:03.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:03.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:22:03.740+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:03.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T11:22:03.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:22:03.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:03.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T11:22:03.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:03.742+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:03.742+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:03.743+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:03.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:03.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T11:22:03.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T11:22:03.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:03.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T11:22:03.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T11:22:03.745+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:03.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:03.747+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:03.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T11:22:03.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:04.464+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T11:22:04.465+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T11:22:04.465+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T11:22:04.465+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T11:22:04.467+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T11:22:04.467+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:22:04.467+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:04.468+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:04.469+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:04.469+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:04.469+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:04.469+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:04.470+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:04.470+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:04.473+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:22:04.474+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1607026561<open>)] for JPA transaction
2026-01-27T11:22:04.475+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(515939254<open>)] for JPA transaction
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@30005465]
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17f917d2]
2026-01-27T11:22:04.476+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:22:04.476+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(515939254<open>)] for JPA transaction
2026-01-27T11:22:04.476+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:22:04.476+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:04.477+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:22:04.477+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:22:04.477+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T11:22:04.478+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:04.478+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:04.478+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1607026561<open>)]
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:04.479+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:22:04.479+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(515939254<open>)]
2026-01-27T11:22:04.479+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:04.480+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:04.480+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:04.480+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.481+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:04.482+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:04.482+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T11:22:04.482+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:04.482+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:22:04.482+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.482+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T11:22:04.483+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:04.483+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:04.483+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:04.484+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:04.485+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:04.485+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:04.486+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:22:04.486+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:04.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:22:04.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:22:04.487+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1825068047<open>)] for JPA transaction
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T11:22:04.488+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@695d4a9c]
2026-01-27T11:22:04.489+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:04.489+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:22:04.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:04.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:04.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:22:04.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2029237938<open>)] for JPA transaction
2026-01-27T11:22:04.489+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:04.490+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d35c56e]
2026-01-27T11:22:04.490+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:04.490+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:22:04.490+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:04.490+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2029237938<open>)] for JPA transaction
2026-01-27T11:22:04.490+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1825068047<open>)]
2026-01-27T11:22:04.491+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:04.491+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:22:04.491+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:04.491+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:04.491+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:22:04.492+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T11:22:04.492+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:04.493+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T11:22:04.494+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T11:22:04.494+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:04.494+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2029237938<open>)]
2026-01-27T11:22:04.494+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:04.495+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:04.495+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T11:22:04.496+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.244+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T11:22:05.245+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:22:05.245+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T11:22:05.245+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.245+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.247+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.247+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T11:22:05.247+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:22:05.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T11:22:05.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.250+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(754075810<open>)] for JPA transaction
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4cc15e61]
2026-01-27T11:22:05.253+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T11:22:05.253+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:22:05.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(516951137<open>)] for JPA transaction
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d302b5e]
2026-01-27T11:22:05.257+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:22:05.257+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:05.257+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(754075810<open>)]
2026-01-27T11:22:05.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T11:22:05.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T11:22:05.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.264+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1008295043<open>)] for JPA transaction
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@724337a6]
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.269+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:05.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.269+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.271+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.271+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(516951137<open>)]
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1008295043<open>)]
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:05.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:05.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T11:22:05.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T11:22:05.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T11:22:05.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:22:05.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T11:22:05.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.275+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T11:22:05.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T11:22:05.277+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T11:22:05.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.279+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.279+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T11:22:05.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2121110085<open>)] for JPA transaction
2026-01-27T11:22:05.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10b3ff4f]
2026-01-27T11:22:05.284+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.284+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T11:22:05.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:22:05.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T11:22:05.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T11:22:05.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1488991865<open>)] for JPA transaction
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(732070003<open>)] for JPA transaction
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@68bf357b]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3d12c468]
2026-01-27T11:22:05.286+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T11:22:05.286+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1488991865<open>)] for JPA transaction
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(732070003<open>)] for JPA transaction
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:05.286+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.286+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T11:22:05.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:22:05.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T11:22:05.291+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1488991865<open>)]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(732070003<open>)]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T11:22:05.291+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2121110085<open>)]
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T11:22:05.297+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T11:22:05.298+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T11:22:05.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:05.300+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.300+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1987236511<open>)] for JPA transaction
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(336329017<open>)] for JPA transaction
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e9424c0]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29b7d23c]
2026-01-27T11:22:05.304+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.304+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(336329017<open>)] for JPA transaction
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1987236511<open>)] for JPA transaction
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T11:22:05.304+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.304+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:22:05.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T11:22:05.308+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.308+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.308+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.308+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(336329017<open>)]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1987236511<open>)]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:05.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:06.982+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:06.983+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:06.983+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:06.983+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:06.983+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:06.984+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:06.984+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:06.985+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:06.988+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:06.988+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:06.988+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:06.988+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:06.989+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:22:06.989+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:22:06.989+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:06.990+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:06.990+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:22:06.990+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:22:06.990+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:22:06.993+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:06.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:22:06.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:07.001+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:07.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:07.007+07:00  INFO 19644 --- [http-nio-8080-exec-8] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:22:07.007+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:22:07.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:22:20.924+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:20.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:20.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:20.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:20.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:22:20.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:22:20.926+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:22:20.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:22:20.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:22:20.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:20.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:22:20.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:22:20.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:22:20.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:22:20.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:20.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:22:20.932+07:00  INFO 19644 --- [http-nio-8080-exec-6] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:22:20.932+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:22:20.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:22:20.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:22:20.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:22:20.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:26:07.684+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:07.684+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:07.685+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:07.685+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:07.685+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:26:07.685+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:26:07.685+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:26:07.687+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:26:07.690+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:26:07.690+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:07.690+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:07.690+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:07.690+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:26:07.691+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:26:07.691+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:07.692+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:07.692+07:00  INFO 19644 --- [http-nio-8080-exec-3] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:26:07.692+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:26:07.692+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:26:07.694+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:26:07.695+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:26:07.695+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:26:10.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:10.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:10.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:10.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:10.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:26:10.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:26:10.938+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:26:10.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:26:10.941+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:26:10.941+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:10.941+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:10.942+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:10.942+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:26:10.942+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:26:10.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:10.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:10.943+07:00  INFO 19644 --- [http-nio-8080-exec-2] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:26:10.943+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:26:10.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:26:10.945+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:26:10.946+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:26:10.946+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:26:25.726+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:25.726+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:25.726+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:25.726+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:25.726+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:26:25.727+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:26:25.727+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:26:25.728+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:26:25.730+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:26:25.730+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:25.730+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:26:25.731+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:26:25.731+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:26:25.731+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:26:25.731+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:25.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:26:25.732+07:00  INFO 19644 --- [http-nio-8080-exec-10] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:26:25.732+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:26:25.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:26:25.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:26:25.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:26:25.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:28:59.621+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:28:59.621+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:28:59.621+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:28:59.621+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:28:59.622+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:28:59.622+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:28:59.623+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:28:59.624+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:28:59.626+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:28:59.627+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:28:59.627+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:28:59.627+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:28:59.627+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:28:59.628+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:28:59.628+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:28:59.628+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:28:59.628+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:28:59.629+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:28:59.629+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:28:59.632+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:28:59.632+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:28:59.633+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:29:08.839+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:08.839+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:08.839+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:08.840+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:08.840+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:29:08.841+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:29:08.841+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:29:08.842+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:29:08.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:29:08.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:08.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:08.845+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:08.846+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:29:08.846+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:29:08.847+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:08.847+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:08.847+07:00  INFO 19644 --- [http-nio-8080-exec-8] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:29:08.847+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:29:08.848+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:29:08.850+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:29:08.850+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:29:08.851+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:29:18.750+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:18.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:18.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:18.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:18.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:29:18.752+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:29:18.753+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:29:18.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:29:18.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:29:18.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:18.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:18.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:18.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:29:18.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:29:18.759+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:18.759+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:18.759+07:00  INFO 19644 --- [http-nio-8080-exec-6] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:29:18.759+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:29:18.760+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:29:18.762+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:29:18.762+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:29:18.763+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:29:41.345+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:41.345+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:29:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:29:41.347+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:29:41.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:29:41.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:29:41.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:41.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:41.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:41.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:29:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:29:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:41.351+07:00  INFO 19644 --- [http-nio-8080-exec-1] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:29:41.352+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:29:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:29:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:29:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:29:41.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:29:43.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:43.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:43.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:43.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:43.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:29:43.928+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:29:43.928+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:29:43.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:29:43.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:29:43.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:43.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:29:43.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:29:43.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:29:43.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:29:43.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:43.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:29:43.934+07:00  INFO 19644 --- [http-nio-8080-exec-7] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:29:43.934+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:29:43.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:29:43.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:29:43.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:29:43.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T11:37:09.072+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:37:09.073+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:37:09.073+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:37:09.073+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:37:09.073+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T11:37:09.074+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T11:37:09.074+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T11:37:09.074+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T11:37:09.078+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T11:37:09.078+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:37:09.079+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T11:37:09.079+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T11:37:09.079+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T11:37:09.079+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T11:37:09.080+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:37:09.080+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T11:37:09.080+07:00  INFO 19644 --- [http-nio-8080-exec-5] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T11:37:09.081+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T11:37:09.081+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T11:37:09.083+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T11:37:09.084+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T11:37:09.084+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:06:18.792+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h5m47s84ms142µs600ns).
2026-01-27T13:07:50.733+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T13:07:50.733+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T13:07:50.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T13:07:50.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T13:07:50.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:07:50.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T13:07:50.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:07:50.736+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:07:50.736+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:07:50.737+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:07:50.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:07:50.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T13:07:50.739+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T13:07:50.740+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:07:50.740+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T13:07:50.740+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T13:07:50.740+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:07:50.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:07:50.743+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:07:50.743+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T13:07:50.744+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:07:50.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T13:07:50.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T13:07:50.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:07:50.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T13:07:50.745+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:07:50.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:07:50.746+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:07:50.746+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:07:50.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:07:50.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T13:07:50.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T13:07:50.748+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:07:50.749+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T13:07:50.749+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T13:07:50.749+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:07:50.750+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:07:50.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:07:50.751+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T13:07:50.752+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.374+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.374+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T13:22:48.388+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.389+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1537054439<open>)] for JPA transaction
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1348255501<open>)] for JPA transaction
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5381dd2e]
2026-01-27T13:22:48.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48c2d262]
2026-01-27T13:22:48.391+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T13:22:48.391+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1348255501<open>)] for JPA transaction
2026-01-27T13:22:48.391+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T13:22:48.391+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.392+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T13:22:48.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T13:22:48.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T13:22:48.392+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1537054439<open>)]
2026-01-27T13:22:48.393+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T13:22:48.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.393+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T13:22:48.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1348255501<open>)]
2026-01-27T13:22:48.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T13:22:48.394+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.394+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.394+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.394+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T13:22:48.395+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.395+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.397+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.397+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.397+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.398+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.398+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.400+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.400+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T13:22:48.400+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.400+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T13:22:48.401+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(461454728<open>)] for JPA transaction
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(939027976<open>)] for JPA transaction
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.402+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@605281ed]
2026-01-27T13:22:48.403+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T13:22:48.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@715a3c9e]
2026-01-27T13:22:48.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(461454728<open>)] for JPA transaction
2026-01-27T13:22:48.403+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.403+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T13:22:48.403+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T13:22:48.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T13:22:48.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T13:22:48.404+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.405+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.405+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(939027976<open>)]
2026-01-27T13:22:48.406+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T13:22:48.406+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.406+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T13:22:48.406+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.406+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.406+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(461454728<open>)]
2026-01-27T13:22:48.406+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T13:22:48.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T13:22:48.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.893+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T13:22:48.893+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T13:22:48.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.895+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.895+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.895+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T13:22:48.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T13:22:48.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T13:22:48.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.897+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.900+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1560895100<open>)] for JPA transaction
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T13:22:48.901+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@596eadf]
2026-01-27T13:22:48.902+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.902+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T13:22:48.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T13:22:48.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1814628063<open>)] for JPA transaction
2026-01-27T13:22:48.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.903+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.903+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@526e29e1]
2026-01-27T13:22:48.903+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.903+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T13:22:48.903+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1560895100<open>)]
2026-01-27T13:22:48.904+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T13:22:48.904+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T13:22:48.904+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T13:22:48.906+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.906+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.907+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.909+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.912+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T13:22:48.913+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(438583396<open>)] for JPA transaction
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@603c4a49]
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.915+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.916+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T13:22:48.916+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T13:22:48.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1814628063<open>)]
2026-01-27T13:22:48.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T13:22:48.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.917+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T13:22:48.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(438583396<open>)]
2026-01-27T13:22:48.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T13:22:48.917+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T13:22:48.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.920+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T13:22:48.920+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T13:22:48.920+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.920+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T13:22:48.921+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.921+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.921+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.922+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T13:22:48.922+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T13:22:48.922+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.924+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T13:22:48.924+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T13:22:48.925+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T13:22:48.926+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.926+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T13:22:48.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(610729<open>)] for JPA transaction
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@657b68da]
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T13:22:48.929+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T13:22:48.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.930+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T13:22:48.930+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(364174831<open>)] for JPA transaction
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(223012716<open>)] for JPA transaction
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7d14c5bc]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.932+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@670d115b]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(364174831<open>)] for JPA transaction
2026-01-27T13:22:48.932+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(223012716<open>)] for JPA transaction
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.932+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.932+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T13:22:48.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T13:22:48.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.934+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T13:22:48.934+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.934+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(364174831<open>)]
2026-01-27T13:22:48.934+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.934+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(223012716<open>)]
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T13:22:48.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T13:22:48.937+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T13:22:48.938+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T13:22:48.939+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.939+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(610729<open>)]
2026-01-27T13:22:48.940+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.940+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T13:22:48.940+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T13:22:48.941+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.943+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.944+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:48.944+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.944+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:48.945+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.945+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:48.947+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(350859325<open>)] for JPA transaction
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(514270918<open>)] for JPA transaction
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T13:22:48.948+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@24ac034]
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f2c9d3f]
2026-01-27T13:22:48.949+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.949+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(350859325<open>)] for JPA transaction
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.949+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(514270918<open>)] for JPA transaction
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T13:22:48.949+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T13:22:48.949+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.950+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T13:22:48.950+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.950+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(350859325<open>)]
2026-01-27T13:22:48.951+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T13:22:48.951+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(514270918<open>)]
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T13:22:48.951+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:48.952+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T13:22:48.952+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:48.952+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:50.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:50.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:50.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:50.343+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:50.344+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:50.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:50.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:50.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T13:22:50.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T13:22:50.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T13:22:50.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T13:22:50.349+07:00  INFO 19644 --- [http-nio-8080-exec-1] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T13:22:50.349+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T13:22:50.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T13:22:50.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:50.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T13:22:50.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T13:22:50.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:50.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T13:22:50.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T13:22:50.363+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T13:22:50.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T13:22:50.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T13:22:50.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T13:22:50.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T13:22:50.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T13:22:50.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T13:22:50.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T13:22:50.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T13:22:50.368+07:00  INFO 19644 --- [http-nio-8080-exec-6] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T13:22:50.368+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T13:22:50.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T13:22:50.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T13:22:50.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T13:22:50.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T14:06:45.089+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.090+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.090+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:06:45.090+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.090+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T14:06:45.091+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T14:06:45.091+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T14:06:45.092+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T14:06:45.094+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T14:06:45.094+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.095+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.095+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:06:45.095+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T14:06:45.095+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T14:06:45.096+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:06:45.096+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:06:45.097+07:00  INFO 19644 --- [http-nio-8080-exec-10] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T14:06:45.097+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T14:06:45.097+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T14:06:45.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T14:06:45.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T14:06:45.100+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T14:06:45.106+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T14:06:45.107+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T14:06:45.108+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T14:06:45.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T14:06:45.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:06:45.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:06:45.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T14:06:45.111+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T14:06:45.111+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:06:45.112+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:06:45.112+07:00  INFO 19644 --- [http-nio-8080-exec-5] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T14:06:45.112+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T14:06:45.112+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T14:06:45.114+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T14:06:45.115+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T14:06:45.115+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T14:21:56.093+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.093+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.093+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:21:56.094+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.094+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T14:21:56.095+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T14:21:56.095+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T14:21:56.096+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T14:21:56.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T14:21:56.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:21:56.099+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T14:21:56.100+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T14:21:56.100+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:21:56.100+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:21:56.100+07:00  INFO 19644 --- [http-nio-8080-exec-8] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T14:21:56.101+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T14:21:56.101+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T14:21:56.103+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T14:21:56.103+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T14:21:56.104+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T14:21:56.108+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.108+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.108+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:21:56.109+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.109+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T14:21:56.109+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T14:21:56.109+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T14:21:56.110+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T14:21:56.112+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T14:21:56.112+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.112+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T14:21:56.113+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T14:21:56.113+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T14:21:56.113+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T14:21:56.113+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:21:56.114+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T14:21:56.114+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T14:21:56.114+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T14:21:56.114+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T14:21:56.116+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T14:21:56.116+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T14:21:56.117+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T15:03:06.487+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m46s694ms795µs).
2026-01-27T15:16:25.091+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m48s861ms578µs700ns).
2026-01-27T16:08:14.760+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m19s481ms830µs100ns).
2026-01-27T16:47:33.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T16:47:33.732+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T16:47:33.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T16:47:33.734+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:33.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:33.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T16:47:33.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:33.735+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:33.736+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:33.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T16:47:33.741+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:33.741+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T16:47:33.741+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:33.741+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:33.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:33.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T16:47:33.756+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:57.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T16:47:57.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T16:47:57.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:57.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:57.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T16:47:57.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:57.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:57.363+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:57.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:57.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:57.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T16:47:57.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:57.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:57.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T16:47:57.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T16:47:57.367+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:57.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:57.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:57.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T16:47:57.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:57.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T16:47:57.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:57.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:57.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T16:47:57.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:57.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:57.372+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:57.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T16:47:57.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T16:47:57.375+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:57.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:57.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:57.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T16:47:57.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:59.166+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T16:47:59.166+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T16:47:59.166+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T16:47:59.166+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T16:47:59.168+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T16:47:59.168+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T16:47:59.168+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T16:47:59.168+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:59.169+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:59.169+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:59.170+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:59.171+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:59.171+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:59.173+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:59.173+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:59.173+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T16:47:59.174+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:47:59.175+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:47:59.175+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:47:59.175+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:47:59.175+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(214207629<open>)] for JPA transaction
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1432689364<open>)] for JPA transaction
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29fd40e7]
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56730fec]
2026-01-27T16:47:59.176+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T16:47:59.176+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:47:59.176+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1432689364<open>)] for JPA transaction
2026-01-27T16:47:59.177+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T16:47:59.177+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:47:59.177+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T16:47:59.177+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T16:47:59.177+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T16:47:59.178+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:47:59.178+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:47:59.178+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(214207629<open>)]
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:47:59.179+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T16:47:59.179+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1432689364<open>)]
2026-01-27T16:47:59.179+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:59.180+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:47:59.180+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:59.180+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T16:47:59.180+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:59.181+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T16:47:59.181+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.181+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.181+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.182+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T16:47:59.182+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:47:59.183+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:47:59.183+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:47:59.183+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:59.184+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:47:59.186+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:59.186+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T16:47:59.186+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:47:59.186+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:47:59.187+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(216103790<open>)] for JPA transaction
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1144895247<open>)] for JPA transaction
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5421ba8e]
2026-01-27T16:47:59.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b6f92b9]
2026-01-27T16:47:59.188+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T16:47:59.189+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:47:59.189+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1144895247<open>)] for JPA transaction
2026-01-27T16:47:59.189+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T16:47:59.189+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:47:59.189+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T16:47:59.189+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T16:47:59.190+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T16:47:59.190+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:47:59.190+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:47:59.191+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(216103790<open>)]
2026-01-27T16:47:59.191+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T16:47:59.191+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:47:59.191+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T16:47:59.191+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:47:59.191+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:47:59.191+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1144895247<open>)]
2026-01-27T16:47:59.192+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T16:47:59.192+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:47:59.192+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:47:59.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:47:59.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T16:47:59.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.384+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T16:48:00.384+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T16:48:00.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T16:48:00.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.390+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.391+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.392+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(778972715<open>)] for JPA transaction
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@100e8501]
2026-01-27T16:48:00.393+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T16:48:00.393+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T16:48:00.393+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.396+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(391184820<open>)] for JPA transaction
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(778972715<open>)]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e215920]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.396+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:48:00.396+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T16:48:00.396+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.399+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.399+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T16:48:00.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.403+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(680207<open>)] for JPA transaction
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3936597c]
2026-01-27T16:48:00.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.408+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T16:48:00.408+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T16:48:00.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T16:48:00.409+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(680207<open>)]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.409+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(391184820<open>)]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.409+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T16:48:00.409+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.409+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T16:48:00.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(941156448<open>)] for JPA transaction
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@73eb9e2]
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T16:48:00.419+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T16:48:00.419+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1122331546<open>)] for JPA transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1833207208<open>)] for JPA transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f8c1492]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:48:00.420+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1122331546<open>)] for JPA transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@20bf49bf]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.420+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.420+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1833207208<open>)] for JPA transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T16:48:00.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.420+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T16:48:00.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T16:48:00.423+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.423+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.424+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1122331546<open>)]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.424+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1833207208<open>)]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T16:48:00.426+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(941156448<open>)]
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:00.426+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.426+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.426+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1541702962<open>)] for JPA transaction
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(177204799<open>)] for JPA transaction
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@181ba749]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75c54d2f]
2026-01-27T16:48:00.435+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.435+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1541702962<open>)] for JPA transaction
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(177204799<open>)] for JPA transaction
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T16:48:00.435+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.435+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T16:48:00.435+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T16:48:00.440+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.440+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.440+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.440+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T16:48:00.440+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(177204799<open>)]
2026-01-27T16:48:00.440+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T16:48:00.440+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1541702962<open>)]
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:00.441+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:01.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:01.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:01.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:01.910+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:01.911+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:01.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:01.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:01.914+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T16:48:01.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T16:48:01.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:48:01.915+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:48:01.915+07:00  INFO 19644 --- [http-nio-8080-exec-5] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T16:48:01.916+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T16:48:01.916+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T16:48:01.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:01.918+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T16:48:01.919+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:48:01.926+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:01.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:48:01.927+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:48:01.928+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:48:01.929+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:48:01.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:48:01.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.931+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:48:01.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:48:01.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T16:48:01.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T16:48:01.932+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:48:01.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:48:01.933+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T16:48:01.933+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T16:48:01.933+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T16:48:01.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:48:01.935+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T16:48:01.936+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:49:37.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:37.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:37.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:37.188+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:37.189+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:49:37.189+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:49:37.189+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:49:37.190+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:49:37.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:49:37.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:37.193+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:37.194+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:37.194+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T16:49:37.194+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T16:49:37.194+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:37.195+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:37.195+07:00  INFO 19644 --- [http-nio-8080-exec-2] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T16:49:37.195+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T16:49:37.195+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T16:49:37.197+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:49:37.198+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T16:49:37.198+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:49:38.738+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:49:38.738+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:49:38.753+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:49:38.753+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:38.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:38.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:38.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T16:49:38.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T16:49:38.754+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:38.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:38.755+07:00  INFO 19644 --- [http-nio-8080-exec-6] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T16:49:38.755+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T16:49:38.755+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T16:49:38.757+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:49:38.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T16:49:38.758+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T16:49:39.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:39.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:39.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:39.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:39.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T16:49:39.349+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T16:49:39.349+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T16:49:39.350+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T16:49:39.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T16:49:39.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:39.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T16:49:39.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T16:49:39.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T16:49:39.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T16:49:39.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:39.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T16:49:39.355+07:00  INFO 19644 --- [http-nio-8080-exec-10] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T16:49:39.355+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T16:49:39.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T16:49:39.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T16:49:39.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T16:49:39.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:42:18.900+07:00  WARN 19644 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=39m33s553ms98µs500ns).
2026-01-27T17:46:01.223+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:46:01.225+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:46:01.227+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:46:01.228+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:46:01.228+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:01.228+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:46:01.228+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:01.228+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:01.228+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:01.230+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:01.231+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:01.232+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:46:01.232+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:46:01.232+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:01.232+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:46:01.232+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:46:01.232+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:01.233+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:01.234+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:01.235+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:46:01.235+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:01.237+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:46:01.237+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:46:01.237+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:01.237+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:46:01.238+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:01.238+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:01.238+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:01.238+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:46:01.240+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:46:01.240+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:01.241+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:01.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:01.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:46:01.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:02.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:46:02.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:46:02.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:46:02.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:46:02.355+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:02.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:02.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:02.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:02.356+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:02.356+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:02.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:02.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:02.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:02.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:46:02.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:02.359+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:46:02.360+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1596388488<open>)] for JPA transaction
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1609874325<open>)] for JPA transaction
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:02.361+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:02.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61c8bd89]
2026-01-27T17:46:02.362+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3566e2e0]
2026-01-27T17:46:02.362+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:46:02.362+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:02.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1609874325<open>)] for JPA transaction
2026-01-27T17:46:02.363+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:46:02.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:02.363+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:46:02.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:46:02.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:46:02.363+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:02.363+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:02.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1596388488<open>)]
2026-01-27T17:46:02.364+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:46:02.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:02.364+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:46:02.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:02.364+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:02.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:46:02.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1609874325<open>)]
2026-01-27T17:46:02.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:02.365+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:02.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:02.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:46:02.366+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:02.367+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.368+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:02.368+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:02.369+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:02.369+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:02.370+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:02.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:02.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:46:02.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:02.371+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:46:02.372+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2138539444<open>)] for JPA transaction
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d6d96f8]
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(14998709<open>)] for JPA transaction
2026-01-27T17:46:02.373+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:02.373+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:02.374+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:46:02.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@45aa8387]
2026-01-27T17:46:02.374+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:46:02.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:46:02.374+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(14998709<open>)] for JPA transaction
2026-01-27T17:46:02.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:02.375+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:46:02.375+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:02.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:02.375+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2138539444<open>)]
2026-01-27T17:46:02.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:46:02.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:02.376+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:02.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:46:02.377+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:46:02.377+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:02.378+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:46:02.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:02.378+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(14998709<open>)]
2026-01-27T17:46:02.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:02.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:02.379+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:46:02.380+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:46:03.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:46:03.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:46:03.243+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.244+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.244+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.244+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.244+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.244+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.245+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:46:03.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:03.246+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.247+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:46:03.247+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.247+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.247+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.248+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:46:03.249+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(787448158<open>)] for JPA transaction
2026-01-27T17:46:03.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:03.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.250+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@308fb54]
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:46:03.251+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:03.251+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:46:03.251+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.252+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(12084179<open>)] for JPA transaction
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(787448158<open>)]
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@376a067e]
2026-01-27T17:46:03.252+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.252+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:03.253+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:46:03.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:03.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:46:03.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:46:03.253+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.254+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:46:03.254+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.255+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.256+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.256+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.257+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.258+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(217402872<open>)] for JPA transaction
2026-01-27T17:46:03.259+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ee2986e]
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.260+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.260+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:46:03.260+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.261+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.261+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(217402872<open>)]
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.262+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(12084179<open>)]
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.262+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:46:03.263+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:03.263+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.263+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:46:03.264+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:46:03.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:03.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:46:03.265+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.266+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T17:46:03.266+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T17:46:03.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:46:03.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:46:03.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:46:03.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:46:03.270+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.270+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1717251843<open>)] for JPA transaction
2026-01-27T17:46:03.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.271+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:03.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1aab0ce3]
2026-01-27T17:46:03.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.272+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:03.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:46:03.272+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:46:03.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.272+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:46:03.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(67964673<open>)] for JPA transaction
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1808683615<open>)] for JPA transaction
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33b1b158]
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11bf7d4c]
2026-01-27T17:46:03.275+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.275+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(67964673<open>)] for JPA transaction
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1808683615<open>)] for JPA transaction
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:03.276+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:46:03.276+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:46:03.276+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.277+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.278+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:46:03.278+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.279+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(67964673<open>)]
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.279+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1808683615<open>)]
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:03.280+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.281+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.282+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.283+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:03.284+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.284+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1717251843<open>)]
2026-01-27T17:46:03.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:03.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:46:03.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.288+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:46:03.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:46:03.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:03.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:03.289+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.289+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:03.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(358962938<open>)] for JPA transaction
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(425848549<open>)] for JPA transaction
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3ddd6519]
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1dfcdaa]
2026-01-27T17:46:03.293+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.293+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(358962938<open>)] for JPA transaction
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(425848549<open>)] for JPA transaction
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:03.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:46:03.294+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.294+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:46:03.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:46:03.295+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.295+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.296+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(358962938<open>)]
2026-01-27T17:46:03.296+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(425848549<open>)]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:46:03.296+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:46:03.297+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:03.297+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:46:09.404+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:46:09.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:46:09.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:09.407+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:09.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:46:09.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:46:09.408+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:46:09.408+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:46:09.409+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:46:09.412+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:46:09.412+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:46:09.412+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:46:09.413+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:46:09.413+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:46:09.413+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:46:09.413+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:09.414+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:46:09.414+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(951849287<open>)] for JPA transaction
2026-01-27T17:46:09.414+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:46:09.415+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c3f0e62]
2026-01-27T17:46:09.415+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:09.415+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:46:09.415+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:46:09.417+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:46:09.417+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.417+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.417+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.418+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:09.419+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.420+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:46:09.421+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:46:09.422+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:46:09.423+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(951849287<open>)]
2026-01-27T17:46:09.423+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:46:09.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:46:09.424+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:46:09.425+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:51:53.977+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.977+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.977+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.978+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:51:53.979+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:51:53.979+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:51:53.980+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:51:53.981+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@68df2618 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T17:51:53.982+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T17:51:53.993+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.993+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: false
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - No Bearer token found, skipping authentication
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:51:53.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:51:53.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:51:53.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:51:53.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:51:53.996+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@68df2618 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('ADMIN')]
2026-01-27T17:51:53.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.security.authorization.AuthorizationDeniedException: Access Denied
2026-01-27T17:52:32.002+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:52:32.002+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:52:32.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:52:32.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:52:32.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:32.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:32.005+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:52:32.005+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:32.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:52:32.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:32.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:32.013+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:32.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:52:32.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:52:32.016+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:32.017+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:32.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:32.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:52:32.019+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:40.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:52:40.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:52:40.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:52:40.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:52:40.556+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:52:40.556+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:40.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:40.558+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:40.558+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:40.558+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:40.558+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:40.559+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:40.559+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:40.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(91673866<open>)] for JPA transaction
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1509549837<open>)] for JPA transaction
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@275ba9e2]
2026-01-27T17:52:40.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77bb51ce]
2026-01-27T17:52:40.564+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:52:40.564+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:40.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(91673866<open>)] for JPA transaction
2026-01-27T17:52:40.565+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:52:40.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:40.565+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:52:40.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:52:40.566+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:52:40.566+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:40.566+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:40.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1509549837<open>)]
2026-01-27T17:52:40.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:40.567+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:52:40.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:40.567+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:52:40.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(91673866<open>)]
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:40.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:52:40.569+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:40.569+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:40.570+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:40.571+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:40.571+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:40.571+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:40.572+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:40.572+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:52:40.575+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2017373554<open>)] for JPA transaction
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1727216431<open>)] for JPA transaction
2026-01-27T17:52:40.576+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:40.577+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:40.577+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b4b9c32]
2026-01-27T17:52:40.577+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e857b20]
2026-01-27T17:52:40.577+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:52:40.577+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:40.577+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1727216431<open>)] for JPA transaction
2026-01-27T17:52:40.577+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:52:40.577+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:40.577+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:52:40.578+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:52:40.578+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:52:40.579+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:40.579+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:40.579+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2017373554<open>)]
2026-01-27T17:52:40.580+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:40.580+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:52:40.580+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:52:40.580+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:40.580+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:40.581+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:52:40.581+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1727216431<open>)]
2026-01-27T17:52:40.581+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:40.581+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:40.582+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:40.582+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:52:40.582+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:52:41.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:52:41.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:52:41.293+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.293+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.295+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.296+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.297+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.297+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.298+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:52:41.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:52:41.299+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:52:41.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(153421204<open>)] for JPA transaction
2026-01-27T17:52:41.300+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:41.301+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.301+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:52:41.301+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@11e1cb9b]
2026-01-27T17:52:41.301+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:52:41.301+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:41.301+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.301+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:52:41.302+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:52:41.302+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:52:41.302+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:52:41.302+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.303+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.303+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(292507912<open>)] for JPA transaction
2026-01-27T17:52:41.303+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:41.303+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:41.303+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.303+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(153421204<open>)]
2026-01-27T17:52:41.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3275fec2]
2026-01-27T17:52:41.304+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:52:41.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.304+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:52:41.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:41.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:52:41.304+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:52:41.305+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.308+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.309+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.312+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:52:41.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.314+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1322669638<open>)] for JPA transaction
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9a6bdcc]
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.315+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:41.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.315+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:52:41.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.316+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:52:41.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(292507912<open>)]
2026-01-27T17:52:41.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:52:41.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:41.317+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:52:41.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:52:41.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1322669638<open>)]
2026-01-27T17:52:41.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:41.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:52:41.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.319+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:52:41.319+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:52:41.319+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:52:41.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.320+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.321+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T17:52:41.321+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T17:52:41.321+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:52:41.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.324+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.324+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:52:41.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.325+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:52:41.325+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:52:41.325+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.325+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.325+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1287186589<open>)] for JPA transaction
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:52:41.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63722cf3]
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:52:41.329+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.329+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:52:41.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:52:41.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1447383501<open>)] for JPA transaction
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(949444270<open>)] for JPA transaction
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@766288a6]
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:41.331+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:52:41.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1447383501<open>)] for JPA transaction
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50319377]
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:41.332+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.332+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(949444270<open>)] for JPA transaction
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:52:41.332+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:52:41.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.334+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:52:41.335+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.335+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.335+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.335+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.335+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.335+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1447383501<open>)]
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.336+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(949444270<open>)]
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.336+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.337+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.338+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:52:41.339+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.340+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:52:41.341+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.341+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1287186589<open>)]
2026-01-27T17:52:41.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:52:41.342+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:52:41.343+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:52:41.346+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:52:41.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.347+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:52:41.347+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.347+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:52:41.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.348+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:52:41.351+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.352+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1279700220<open>)] for JPA transaction
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(312599537<open>)] for JPA transaction
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b107d0a]
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d5e4d2d]
2026-01-27T17:52:41.353+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.353+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.353+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1279700220<open>)] for JPA transaction
2026-01-27T17:52:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(312599537<open>)] for JPA transaction
2026-01-27T17:52:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:52:41.354+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.354+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:52:41.354+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:52:41.356+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.356+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.356+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1279700220<open>)]
2026-01-27T17:52:41.357+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:52:41.357+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(312599537<open>)]
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:41.357+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:52:41.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:52:41.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:52:41.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:52:41.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:52:41.358+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:46.994+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:53:46.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:53:46.995+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:46.995+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:46.996+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:46.996+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:53:46.996+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:46.997+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:46.998+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:46.998+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:46.998+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:46.999+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:46.999+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:53:46.999+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:46.999+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:53:47.000+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:47.000+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:53:47.001+07:00  INFO 19644 --- [http-nio-8080-exec-3] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:47.001+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:53:47.001+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:47.002+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:53:47.002+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1677166772<open>)] for JPA transaction
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:53:47.003+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:47.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(340448688<open>)] for JPA transaction
2026-01-27T17:53:47.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:47.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@314e7bc1]
2026-01-27T17:53:47.004+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:47.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:47.004+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f03b65]
2026-01-27T17:53:47.004+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:53:47.004+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:47.005+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:53:47.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:53:47.005+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:53:47.006+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:47.006+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:47.006+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(340448688<open>)]
2026-01-27T17:53:47.006+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:53:47.006+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:53:47.007+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.008+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:47.009+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.010+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:47.011+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.011+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:53:47.012+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:53:47.012+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:47.012+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.012+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:53:47.013+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:47.014+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:47.015+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1677166772<open>)]
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:47.015+07:00  INFO 19644 --- [http-nio-8080-exec-9] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:53:47.015+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:47.015+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:53:47.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:47.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:53:47.016+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:53:47.017+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:47.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:47.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:53:47.018+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:54.551+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:53:54.551+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-27T17:53:54.553+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:53:54.553+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:53:54.553+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:54.553+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:53:54.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:54.554+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:54.554+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:54.555+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:54.556+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:54.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:53:54.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:53:54.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:54.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:53:54.557+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:53:54.557+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:54.558+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:54.559+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:54.560+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:53:54.560+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:54.561+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-27T17:53:54.561+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:53:54.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:54.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-27T17:53:54.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:54.562+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:54.562+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:54.563+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:54.564+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:54.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-27T17:53:54.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-27T17:53:54.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:54.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-27T17:53:54.565+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-27T17:53:54.565+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:54.566+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:54.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:54.567+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-27T17:53:54.568+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:53:55.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:53:55.307+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-27T17:53:55.308+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-27T17:53:55.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:53:55.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:53:55.310+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.311+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.311+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.312+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.313+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.315+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:53:55.316+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(406973605<open>)] for JPA transaction
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(651467788<open>)] for JPA transaction
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54b300a1]
2026-01-27T17:53:55.317+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f6fa43]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(406973605<open>)] for JPA transaction
2026-01-27T17:53:55.317+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.317+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.318+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:53:55.318+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:53:55.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:53:55.318+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:53:55.319+07:00 TRACE 19644 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.319+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.319+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(651467788<open>)]
2026-01-27T17:53:55.319+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:53:55.319+07:00 TRACE 19644 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(406973605<open>)]
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.320+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.321+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:53:55.321+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.322+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-27T17:53:55.323+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.323+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.323+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.324+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.326+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(598144701<open>)] for JPA transaction
2026-01-27T17:53:55.327+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@62f8cad9]
2026-01-27T17:53:55.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.328+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(224740974<open>)] for JPA transaction
2026-01-27T17:53:55.328+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:53:55.328+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:53:55.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6167bb06]
2026-01-27T17:53:55.329+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:53:55.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(224740974<open>)] for JPA transaction
2026-01-27T17:53:55.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.329+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.329+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:53:55.329+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(598144701<open>)]
2026-01-27T17:53:55.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-27T17:53:55.330+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.331+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:53:55.331+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-27T17:53:55.331+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-27T17:53:55.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(224740974<open>)]
2026-01-27T17:53:55.332+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.333+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy danh sách user thành công!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-27T17:53:55.334+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.856+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:53:55.856+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/submissions
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.857+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.858+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.858+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:53:55.858+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.858+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.858+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.860+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.860+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1836292876<open>)] for JPA transaction
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(809690437<open>)] for JPA transaction
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33a759d]
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22405495]
2026-01-27T17:53:55.862+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.862+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:55.862+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:53:55.862+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:53:55.862+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:53:55.867+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1836292876<open>)]
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.867+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.870+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.871+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.871+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.873+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:53:55.873+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.874+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.875+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getPendingCount()
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.876+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1431854500<open>)] for JPA transaction
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.877+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(809690437<open>)]
2026-01-27T17:53:55.877+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76e09c62]
2026-01-27T17:53:55.877+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.878+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-27T17:53:55.878+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.878+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.878+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-27T17:53:55.878+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:53:55.879+07:00 TRACE 19644 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getPendingCount]
2026-01-27T17:53:55.879+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.879+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.879+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1431854500<open>)]
2026-01-27T17:53:55.880+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.880+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.880+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, count=1}]
2026-01-27T17:53:55.880+07:00 DEBUG 19644 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.881+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/submissions
2026-01-27T17:53:55.881+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:55.881+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.881+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/submissions
2026-01-27T17:53:55.881+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.882+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.882+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.883+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.883+07:00 DEBUG 19644 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/2
2026-01-27T17:53:55.883+07:00 DEBUG 19644 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users/3
2026-01-27T17:53:55.885+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.885+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/submissions
2026-01-27T17:53:55.885+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/submissions
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/submissions", parameters={}
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminMiniTestController#getAllSubmissions(int, int, String, String)
2026-01-27T17:53:55.886+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.887+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.887+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.887+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.887+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.887+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.887+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.888+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminMiniTestController.getAllSubmissions(int,int,java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.AdminMiniTestController]
2026-01-27T17:53:55.888+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2016495759<open>)] for JPA transaction
2026-01-27T17:53:55.888+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-27T17:53:55.888+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.888+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.889+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@243ad1d1]
2026-01-27T17:53:55.889+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:55.890+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllByOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-27T17:53:55.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.score,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.time_spent,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    order by
        mts1_0.submitted_at desc
2026-01-27T17:53:55.890+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)"]}
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 14 answers
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sd", "ads", "sdd", "aa", "a"], "8": ["a", "v", "v", "v"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(133612837<open>)] for JPA transaction
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1493105883<open>)] for JPA transaction
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sd
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@59a5f496]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e04dadd]
2026-01-27T17:53:55.891+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["1", "1", "a", "s", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.891+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.891+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(133612837<open>)] for JPA transaction
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1493105883<open>)] for JPA transaction
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.894+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.894+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=1
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:53:55.894+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.895+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.895+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.896+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["b", "b", "b", "b"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.896+07:00 TRACE 19644 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.896+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.896+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(133612837<open>)]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1493105883<open>)]
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "あなた", "新聞(しんぶん)", "だれ"]}
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.896+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "b", "b", "b", "b"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.897+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["aa", "aa", "aa", "aaa", "aa"], "8": ["b", "b", "b", "b"], "9": ["何(なん)", "わたし", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=aa
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["sss", "aa", "s", "ba", "a"], "8": ["a", "a", "a", "aaa"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "だれ"]}
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=sss
2026-01-27T17:53:55.898+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "bb", "bbb"], "9": ["だれ", "わたしの", "それ", "あなた", "何(なん)", "だれ"]}
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["b", "a", "a", "b", "a"], "8": ["a", "a", "b", "a"], "9": ["だれ", "わたし", "その", "あなた", "新聞(しんぶん)", "何(なに)"]}
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=b
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Parsing answers JSON (first 200 chars): {"7": ["a", "a", "a", "a", "a"], "8": ["a", "a", "a", "a"], "9": ["だれ", "わたし", "それ", "わたし", "何(なん)", "何(なに)"]}
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : JSON Node Type - isArray: false, isObject: true, size: 3
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Detected OBJECT format với mảng giá trị
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Successfully parsed 15 answers
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.backend.service.MiniTestService      : Sample answer: questionId=1, answer=a
2026-01-27T17:53:55.899+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestService.getAllSubmissions]
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2016495759<open>)]
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json]
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalItems=12, data=[MiniTestSubmissionDTO(id=14, userId=2, userName=null, userEmail=null, lessonId (truncated)...]
2026-01-27T17:53:55.899+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/2
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users/3
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/2
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users/3
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:55.902+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.902+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.902+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/2
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/2
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users/3
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/2", parameters={}
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users/3
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users/3", parameters={}
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getUser(Long)
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.905+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getUser(java.lang.Long); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1332041641<open>)] for JPA transaction
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1149505778<open>)] for JPA transaction
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f3647eb]
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@440b28b0]
2026-01-27T17:53:55.908+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.908+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1332041641<open>)] for JPA transaction
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1149505778<open>)] for JPA transaction
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.908+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-27T17:53:55.909+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.909+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:53:55.909+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2026-01-27T17:53:55.910+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.910+07:00 TRACE 19644 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.910+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1332041641<open>)]
2026-01-27T17:53:55.910+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findById]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1149505778<open>)]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=Lấy thông tin user thành công, data=UserResponse(id=3, email=user2 (truncated)...]
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:55.910+07:00 DEBUG 19644 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:57.267+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:57.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.268+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:57.269+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:57.269+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:57.270+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:57.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:57.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.273+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:57.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:53:57.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:53:57.274+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:57.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:57.275+07:00  INFO 19644 --- [http-nio-8080-exec-8] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:53:57.275+07:00 TRACE 19644 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:53:57.275+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:53:57.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:57.278+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:53:57.279+07:00 DEBUG 19644 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:53:57.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:57.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.285+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:53:57.286+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:53:57.286+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:53:57.287+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:53:57.289+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:53:57.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:53:57.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:53:57.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:53:57.290+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:53:57.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:57.291+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:53:57.291+07:00  INFO 19644 --- [http-nio-8080-exec-4] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:53:57.291+07:00 TRACE 19644 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:53:57.292+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:53:57.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:53:57.294+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:53:57.295+07:00 DEBUG 19644 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:55:30.516+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.516+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.516+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:30.517+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.517+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:55:30.518+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:55:30.518+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:55:30.519+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:30.522+07:00  INFO 19644 --- [http-nio-8080-exec-7] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:55:30.522+07:00 TRACE 19644 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:55:30.522+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:55:30.522+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:55:30.538+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:55:30.538+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.538+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:30.538+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:30.538+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:55:30.539+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:55:30.539+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:30.540+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:30.540+07:00  INFO 19644 --- [http-nio-8080-exec-1] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:55:30.540+07:00 TRACE 19644 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:55:30.540+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:55:30.543+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:55:30.543+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:55:30.544+07:00 DEBUG 19644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:55:32.041+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:32.042+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:32.042+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:32.043+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:32.043+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-27T17:55:32.043+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-27T17:55:32.044+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-27T17:55:32.045+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-27T17:55:32.047+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-27T17:55:32.048+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:32.048+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/questions/lesson/1/correct-answers
2026-01-27T17:55:32.048+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-27T17:55:32.048+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/questions/lesson/1/correct-answers", parameters={}
2026-01-27T17:55:32.048+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AdminQuestionController#getCorrectAnswersByLesson(Integer)
2026-01-27T17:55:32.049+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:32.049+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.AdminQuestionController.getCorrectAnswersByLesson(java.lang.Integer); target is of class [com.nekonihongo.backend.controller.AdminQuestionController]
2026-01-27T17:55:32.049+07:00  INFO 19644 --- [http-nio-8080-exec-6] c.n.b.c.AdminQuestionController          : Getting correct answers for lesson: 1
2026-01-27T17:55:32.049+07:00 TRACE 19644 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByLessonId]: This method is not transactional.
2026-01-27T17:55:32.049+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gq1_0.id,
        gq1_0.correct_answer,
        gq1_0.created_at,
        gq1_0.example,
        gq1_0.explanation,
        gq1_0.lesson_id,
        gq1_0.options,
        gq1_0.points,
        gq1_0.text,
        gq1_0.type,
        gq1_0.updated_at 
    from
        grammar_questions gq1_0 
    where
        gq1_0.lesson_id=?
2026-01-27T17:55:32.052+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2026-01-27T17:55:32.052+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=3, success=true, data=[{answerParts=[は, も, は, は, の], numParts=5, lessonId=1, id=7, text=１）A：サ (truncated)...]
2026-01-27T17:55:32.053+07:00 DEBUG 19644 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-27T17:59:12.896+07:00  INFO 19644 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-27T17:59:12.933+07:00  INFO 19644 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-27T17:59:12.936+07:00  INFO 19644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27T17:59:12.938+07:00  INFO 19644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-27T17:59:12.940+07:00  INFO 19644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
