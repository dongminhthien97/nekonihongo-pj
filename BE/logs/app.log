2026-01-14T11:26:49.664+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T11:26:49.669+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T11:26:49.670+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T11:26:49.701+07:00  INFO 13692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T11:26:49.701+07:00  INFO 13692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T11:26:50.076+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T11:26:50.133+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 15 JPA repository interfaces.
2026-01-14T11:26:50.561+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T11:26:50.576+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T11:26:50.576+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T11:26:50.617+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 915 ms
2026-01-14T11:26:50.743+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T11:26:50.793+07:00  INFO 13692 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T11:26:51.114+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T11:26:51.130+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T11:26:51.208+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72c63779
2026-01-14T11:26:51.209+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T11:26:51.231+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T11:26:51.239+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T11:26:51.919+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T11:26:51.947+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T11:26:51.983+07:00  INFO 13692 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T11:26:52.355+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T11:26:52.877+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T11:26:52.933+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T11:26:52.999+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T11:26:53.071+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2026-01-14T11:26:53.094+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T11:26:53.108+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T11:26:53.130+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T11:26:53.186+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T11:26:53.190+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.769 seconds (process running for 4.014)
2026-01-14T11:27:06.058+07:00  INFO 13692 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T11:27:06.059+07:00  INFO 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T11:27:06.059+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T11:27:06.059+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T11:27:06.060+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ab0a6b1
2026-01-14T11:27:06.060+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d02d708
2026-01-14T11:27:06.060+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T11:27:06.060+07:00  INFO 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-14T11:27:06.065+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T11:27:06.065+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T11:27:06.078+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T11:27:06.079+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:27:06.079+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:27:06.080+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T11:27:06.080+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:27:06.129+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Invalid token format: JWT expired 62970128 milliseconds ago at 2026-01-13T10:57:36.000Z. Current time: 2026-01-14T04:27:06.128Z. Allowed clock skew: 0 milliseconds.
2026-01-14T11:27:06.129+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: null
2026-01-14T11:27:06.130+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:27:06.134+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T11:27:06.134+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:27:06.134+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:27:06.134+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T11:27:06.135+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:27:06.135+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Invalid token format: JWT expired 62970135 milliseconds ago at 2026-01-13T10:57:36.000Z. Current time: 2026-01-14T04:27:06.135Z. Allowed clock skew: 0 milliseconds.
2026-01-14T11:27:06.135+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: null
2026-01-14T11:27:06.136+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:27:18.896+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T11:27:18.900+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T11:27:18.901+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:27:18.901+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:27:18.902+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:27:18.902+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T11:27:18.902+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:27:18.902+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:27:18.904+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T11:27:18.910+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T11:27:18.939+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-14T11:27:18.963+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:27:19.017+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T11:27:19.035+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(282199838<open>)] for JPA transaction
2026-01-14T11:27:19.035+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:27:19.038+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7aae1b4b]
2026-01-14T11:27:19.039+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:27:19.039+07:00  INFO 13692 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : ‚ö†Ô∏è User 1 b·ªè l·ª° nhi·ªÅu ng√†y ‚Üí streak reset = 1
2026-01-14T11:27:19.041+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(282199838<open>)] for JPA transaction
2026-01-14T11:27:19.041+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:27:19.041+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:27:19.045+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:27:19.045+07:00  INFO 13692 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : ‚úÖ Updated login streak cho user 1: streak=1, longest=5
2026-01-14T11:27:19.045+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:27:19.046+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:27:19.046+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(282199838<open>)]
2026-01-14T11:27:19.057+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    update
        users 
    set
        avatar_url=?,
        email=?,
        full_name=?,
        last_login_date=?,
        level=?,
        longest_streak=?,
        password=?,
        points=?,
        role=?,
        status=?,
        streak=?,
        username=? 
    where
        id=?
2026-01-14T11:27:19.065+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:27:19.065+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(282199838<open>)] for JPA transaction
2026-01-14T11:27:19.066+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:27:19.066+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51107749]
2026-01-14T11:27:19.066+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:27:19.066+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:27:19.066+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:27:19.067+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(282199838<open>)]
2026-01-14T11:27:19.068+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:27:19.068+07:00  INFO 13692 --- [http-nio-8080-exec-6] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-14T11:27:19.040356400
2026-01-14T11:27:19.091+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:27:19.095+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-14T11:27:19.111+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:27:19.113+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T11:27:19.115+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T11:27:19.116+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:27:19.116+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:27:19.116+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T11:27:19.116+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:27:19.117+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:27:19.118+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:27:19.136+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:27:19.142+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:27:19.142+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T11:27:19.143+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:27:19.143+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:27:19.143+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T11:27:19.143+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T11:27:19.145+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:27:19.146+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:27:19.148+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:27:19.149+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-14T11:27:19.152+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:38.974+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-14T11:30:38.975+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-14T11:30:38.975+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-14T11:30:38.975+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-14T11:30:38.977+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-14T11:30:38.977+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-14T11:30:38.978+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:38.979+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:38.979+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:38.979+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:38.980+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:38.980+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:38.981+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:38.981+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:38.985+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.MiniTestController#getPendingCount()
2026-01-14T11:30:38.986+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:38.987+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:38.987+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-14T11:30:38.987+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-14T11:30:38.987+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:38.988+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:39.005+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:39.005+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:39.005+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1265634172<open>)] for JPA transaction
2026-01-14T11:30:39.005+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(536033473<open>)] for JPA transaction
2026-01-14T11:30:39.005+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:39.006+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T11:30:39.006+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@614175ea]
2026-01-14T11:30:39.006+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:39.006+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1265634172<open>)] for JPA transaction
2026-01-14T11:30:39.007+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:30:39.007+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:39.007+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@650e255b]
2026-01-14T11:30:39.007+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:39.007+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-14T11:30:39.011+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-14T11:30:39.012+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:39.013+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:39.013+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(536033473<open>)]
2026-01-14T11:30:39.013+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:39.015+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-14T11:30:39.015+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:39.016+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.nekonihongo.backend.controller.MiniTestController$PendingCountResponse@3a0be480]
2026-01-14T11:30:39.017+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:39.017+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:39.018+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:39.018+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:39.018+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1265634172<open>)]
2026-01-14T11:30:39.019+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:39.019+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:39.019+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-14T11:30:39.019+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-14T11:30:39.020+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:39.020+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:39.020+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-14T11:30:39.020+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:39.021+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:39.021+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:39.021+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:39.022+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-14T11:30:39.022+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:39.023+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:39.023+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:39.024+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-14T11:30:39.024+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:39.025+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:39.025+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:39.025+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:39.026+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-14T11:30:39.026+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:39.026+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:39.026+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:39.027+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-14T11:30:39.028+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.MiniTestController#getPendingCount()
2026-01-14T11:30:39.028+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:39.028+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:39.028+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1287508453<open>)] for JPA transaction
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@748a7a18]
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:39.029+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:39.029+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-14T11:30:39.030+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-14T11:30:39.030+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-14T11:30:39.030+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:39.030+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:39.031+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(695468427<open>)] for JPA transaction
2026-01-14T11:30:39.031+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-14T11:30:39.031+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:39.032+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@365783e5]
2026-01-14T11:30:39.032+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:39.032+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:39.032+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(695468427<open>)] for JPA transaction
2026-01-14T11:30:39.033+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:39.033+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:30:39.033+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1287508453<open>)]
2026-01-14T11:30:39.033+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:39.033+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:39.034+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-14T11:30:39.034+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:39.034+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.nekonihongo.backend.controller.MiniTestController$PendingCountResponse@412f6e27]
2026-01-14T11:30:39.035+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:39.035+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:39.035+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:39.035+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:39.036+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(695468427<open>)]
2026-01-14T11:30:39.036+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:39.036+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:39.037+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-14T11:30:39.037+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:40.425+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-14T11:30:40.425+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.425+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-14T11:30:40.425+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.429+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.429+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-14T11:30:40.429+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:40.429+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:40.430+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:40.431+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:40.431+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:40.431+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:40.431+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:40.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:40.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:40.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:40.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:40.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-14T11:30:40.439+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-14T11:30:40.439+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:40.439+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarTestController#getGrammarTests(String, String)
2026-01-14T11:30:40.440+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:40.440+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:40.440+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T11:30:40.442+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:40.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:40.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:40.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:40.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=0, data=[]}]
2026-01-14T11:30:40.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-14T11:30:40.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:40.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:40.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-14T11:30:40.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:40.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:40.446+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:40.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:40.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-14T11:30:40.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:40.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:40.448+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:40.448+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:40.448+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:40.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:40.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:40.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-14T11:30:40.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarTestController#getGrammarTests(String, String)
2026-01-14T11:30:40.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:40.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:40.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:40.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:40.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:40.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:40.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T11:30:40.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=0, data=[]}]
2026-01-14T11:30:40.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:40.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:48.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-14T11:30:48.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-14T11:30:48.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/mini-test/pending-count
2026-01-14T11:30:48.433+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/users
2026-01-14T11:30:48.436+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-14T11:30:48.436+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-14T11:30:48.436+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.436+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:48.437+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:48.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:48.438+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:48.438+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:48.438+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:48.439+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:48.439+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:48.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:48.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:48.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-14T11:30:48.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-14T11:30:48.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.MiniTestController#getPendingCount()
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-14T11:30:48.444+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1867867056<open>)] for JPA transaction
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(410809659<open>)] for JPA transaction
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T11:30:48.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:48.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5540ec82]
2026-01-14T11:30:48.446+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:48.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@305d965f]
2026-01-14T11:30:48.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(410809659<open>)] for JPA transaction
2026-01-14T11:30:48.446+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:48.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:30:48.447+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-14T11:30:48.447+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:48.447+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-14T11:30:48.448+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-14T11:30:48.448+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:48.449+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:48.449+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1867867056<open>)]
2026-01-14T11:30:48.450+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:48.450+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:48.450+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:48.450+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:48.450+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:48.450+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.nekonihongo.backend.controller.MiniTestController$PendingCountResponse@79e01b4d]
2026-01-14T11:30:48.450+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(410809659<open>)]
2026-01-14T11:30:48.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:48.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:48.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:48.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-14T11:30:48.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/mini-test/pending-count
2026-01-14T11:30:48.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:48.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:48.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/users
2026-01-14T11:30:48.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:48.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:48.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/users
2026-01-14T11:30:48.454+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:48.454+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:48.455+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:48.455+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:48.455+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:48.456+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/mini-test/pending-count
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/users
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/mini-test/pending-count
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/users
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/mini-test/pending-count", parameters={}
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/users", parameters={}
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getAllUsers()
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.MiniTestController#getPendingCount()
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserController.getAllUsers(); target is of class [com.nekonihongo.backend.controller.UserController]
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.MiniTestController.getPendingCount(); target is of class [com.nekonihongo.backend.controller.MiniTestController]
2026-01-14T11:30:48.459+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(931911666<open>)] for JPA transaction
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1712349487<open>)] for JPA transaction
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.impl.UserService.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a2ce288]
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e253447]
2026-01-14T11:30:48.460+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:48.460+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:48.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(931911666<open>)] for JPA transaction
2026-01-14T11:30:48.461+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByStatus]: This method is not transactional.
2026-01-14T11:30:48.461+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:30:48.461+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:48.461+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.status=?
2026-01-14T11:30:48.462+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0
2026-01-14T11:30:48.462+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getPendingCount]
2026-01-14T11:30:48.462+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:48.463+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1712349487<open>)]
2026-01-14T11:30:48.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:48.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:48.464+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]
2026-01-14T11:30:48.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.nekonihongo.backend.controller.MiniTestController$PendingCountResponse@2c4d8782]
2026-01-14T11:30:48.464+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.impl.UserService.findAll]
2026-01-14T11:30:48.465+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:48.465+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(931911666<open>)]
2026-01-14T11:30:48.465+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:48.465+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:48.465+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:48.466+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch user th√†nh c√¥ng!, data=[UserResponse(id=1, email=adm (truncated)...]
2026-01-14T11:30:48.467+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:49.485+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-14T11:30:49.485+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.485+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/unread-count
2026-01-14T11:30:49.485+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.488+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-14T11:30:49.488+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-14T11:30:49.489+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-14T11:30:49.490+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:49.490+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:49.491+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:49.491+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:49.491+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:49.491+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:49.492+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:49.492+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:49.497+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-14T11:30:49.498+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarTestController#getGrammarTests(String, String)
2026-01-14T11:30:49.499+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:49.499+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:49.499+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:49.499+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:49.499+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:49.500+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:49.500+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T11:30:49.500+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=0, data=[]}]
2026-01-14T11:30:49.500+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:49.500+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:49.502+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/notifications/unread-count
2026-01-14T11:30:49.502+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/unread-count
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/grammar-tests
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:49.503+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:49.504+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:49.504+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:49.504+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:49.504+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:49.505+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:49.505+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/notifications/unread-count
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/grammar-tests?filter=all&search=
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/unread-count
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/grammar-tests
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.509+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/notifications/unread-count", parameters={}
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/grammar-tests?filter=all&search=", parameters={masked}
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.NotificationController#getUnreadCount()
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarTestController#getGrammarTests(String, String)
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:49.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.NotificationController.getUnreadCount(); target is of class [com.nekonihongo.backend.controller.NotificationController]
2026-01-14T11:30:49.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.GrammarTestController.getGrammarTests(java.lang.String,java.lang.String); target is of class [com.nekonihongo.backend.controller.GrammarTestController]
2026-01-14T11:30:49.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:49.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:49.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T11:30:49.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=0, data=[]}]
2026-01-14T11:30:49.512+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:49.512+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:50.815+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.820+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.822+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.822+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:50.822+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.823+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:50.824+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:50.824+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:50.826+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:50.832+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:50.832+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.832+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.832+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:50.833+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/notifications/mark-all-read", parameters={}
2026-01-14T11:30:50.834+07:00  WARN 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for POST /api/admin/notifications/mark-all-read
2026-01-14T11:30:50.835+07:00  WARN 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint POST /api/admin/notifications/mark-all-read.
2026-01-14T11:30:50.836+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint POST /api/admin/notifications/mark-all-read.]
2026-01-14T11:30:50.836+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T11:30:50.839+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T11:30:50.840+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:30:52.398+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:30:52.400+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:30:52.401+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T11:30:52.401+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T11:30:52.401+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=admin@nekonihongo.com, password=123456)]
2026-01-14T11:30:52.403+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:52.403+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T11:30:52.406+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(367357534<open>)] for JPA transaction
2026-01-14T11:30:52.406+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:52.406+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@70312205]
2026-01-14T11:30:52.407+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:30:52.407+07:00  INFO 13692 --- [http-nio-8080-exec-6] c.n.backend.service.StreakService        : üë§ User 1 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T11:30:52.407+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:30:52.407+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:52.407+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(367357534<open>)]
2026-01-14T11:30:52.408+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:52.408+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(367357534<open>)] for JPA transaction
2026-01-14T11:30:52.408+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:30:52.409+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67a4202e]
2026-01-14T11:30:52.409+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:30:52.409+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:30:52.409+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:30:52.409+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(367357534<open>)]
2026-01-14T11:30:52.410+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:30:52.410+07:00  INFO 13692 --- [http-nio-8080-exec-6] c.n.backend.service.AuthService          : üî• User 1 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 5, lastLoginDate = 2026-01-14T11:27:19
2026-01-14T11:30:52.411+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:52.411+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluQG5la29u (truncated)...]
2026-01-14T11:30:52.412+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:30:52.415+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T11:30:52.416+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T11:30:52.416+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:30:52.417+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:52.417+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T11:30:52.417+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:30:52.417+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: admin@nekonihongo.com
2026-01-14T11:30:52.417+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:52.418+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: admin@nekonihongo.com
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T11:30:52.421+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T11:30:52.422+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:30:52.422+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:30:52.424+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:30:52.424+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=1, email=admin (truncated)...]
2026-01-14T11:30:52.425+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:31:39.762+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T11:31:39.764+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T11:31:39.764+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T11:31:39.765+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T11:31:39.766+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T11:31:39.766+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:31:39.767+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T11:31:39.769+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(848929504<open>)] for JPA transaction
2026-01-14T11:31:39.769+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:31:39.769+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5107714a]
2026-01-14T11:31:39.769+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:31:39.769+07:00  INFO 13692 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : ‚ö†Ô∏è User 2 b·ªè l·ª° nhi·ªÅu ng√†y ‚Üí streak reset = 1
2026-01-14T11:31:39.769+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(848929504<open>)] for JPA transaction
2026-01-14T11:31:39.769+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2026-01-14T11:31:39.769+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:31:39.770+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:31:39.770+07:00  INFO 13692 --- [http-nio-8080-exec-7] c.n.backend.service.StreakService        : ‚úÖ Updated login streak cho user 2: streak=1, longest=3
2026-01-14T11:31:39.770+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T11:31:39.770+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:31:39.770+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(848929504<open>)]
2026-01-14T11:31:39.771+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    update
        users 
    set
        avatar_url=?,
        email=?,
        full_name=?,
        last_login_date=?,
        level=?,
        longest_streak=?,
        password=?,
        points=?,
        role=?,
        status=?,
        streak=?,
        username=? 
    where
        id=?
2026-01-14T11:31:39.778+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:31:39.778+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(848929504<open>)] for JPA transaction
2026-01-14T11:31:39.778+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T11:31:39.778+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@784ad115]
2026-01-14T11:31:39.778+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:31:39.779+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T11:31:39.779+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T11:31:39.779+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(848929504<open>)]
2026-01-14T11:31:39.779+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T11:31:39.779+07:00  INFO 13692 --- [http-nio-8080-exec-7] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:39.769863700
2026-01-14T11:31:39.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:31:39.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T11:31:39.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T11:31:39.782+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T11:31:39.783+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T11:31:39.784+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:31:39.784+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:31:39.784+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T11:31:39.784+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T11:31:39.784+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T11:31:39.784+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:31:39.785+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:31:39.787+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T11:31:39.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T11:31:39.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T11:31:39.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T11:31:39.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T11:31:39.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T11:31:39.788+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T11:31:39.789+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T11:31:39.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T11:31:39.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T11:31:39.791+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T13:07:32.815+07:00  WARN 13692 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h6m41s207ms997¬µs700ns).
2026-01-14T14:00:35.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T14:00:35.443+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T14:00:35.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T14:00:35.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T14:00:35.445+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T14:00:35.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T14:00:35.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T14:00:35.446+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T14:00:35.446+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T14:00:35.448+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T14:00:35.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T14:00:35.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T14:00:35.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T14:00:35.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T14:00:35.451+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T14:00:35.452+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T14:00:35.452+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T14:00:35.453+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T14:00:35.455+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T14:00:35.455+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T14:00:35.455+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T14:00:35.457+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T14:00:35.458+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T14:00:35.458+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T14:00:35.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T14:00:35.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T14:00:35.460+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T14:00:35.461+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T14:00:35.461+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T14:00:35.461+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T14:00:35.461+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T14:00:35.462+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T14:00:35.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T14:00:35.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T14:00:35.464+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T14:48:20.476+07:00  WARN 13692 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=23m16s644ms169¬µs800ns).
2026-01-14T15:15:02.508+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T15:15:02.508+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T15:15:02.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T15:15:02.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:02.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T15:15:02.510+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:02.511+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:02.511+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.512+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.514+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:02.515+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T15:15:02.515+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:02.515+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.515+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T15:15:02.515+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T15:15:02.515+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.516+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.517+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:02.518+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T15:15:02.518+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:02.519+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T15:15:02.520+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:02.520+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.520+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T15:15:02.520+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:02.520+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:02.520+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.521+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T15:15:02.523+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T15:15:02.524+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.524+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.526+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:02.526+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T15:15:02.526+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:02.538+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:15:02.538+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:15:02.538+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:15:02.540+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.540+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.541+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.541+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.541+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:02.541+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:02.542+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.542+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.544+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:02.544+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.545+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.545+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.545+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:02.545+07:00  WARN 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.545+07:00  WARN 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:02.545+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:02.545+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:02.546+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:02.546+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:02.547+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.547+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.547+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.547+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.547+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:02.548+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:02.548+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.549+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.551+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:02.551+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.551+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.551+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.551+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:02.552+07:00  WARN 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.552+07:00  WARN 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:02.552+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:02.552+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:02.552+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:02.552+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:02.554+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.554+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.554+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.555+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.555+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:02.555+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:02.555+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:02.556+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:02.558+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:02.559+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.559+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:02.559+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:02.559+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:02.560+07:00  WARN 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:02.560+07:00  WARN 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:02.560+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:02.561+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:02.561+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:02.561+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:03.777+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T15:15:03.779+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T15:15:03.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:15:03.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:15:03.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:03.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T15:15:03.780+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:15:03.781+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:15:03.781+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T15:15:03.781+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T15:15:03.782+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T15:15:03.782+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:03.783+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T15:15:03.786+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1278019064<open>)] for JPA transaction
2026-01-14T15:15:03.786+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:15:03.786+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ca0911c]
2026-01-14T15:15:03.787+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:15:03.787+07:00  INFO 13692 --- [http-nio-8080-exec-4] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T15:15:03.787+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:15:03.787+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:15:03.787+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1278019064<open>)]
2026-01-14T15:15:03.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:15:03.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1278019064<open>)] for JPA transaction
2026-01-14T15:15:03.788+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:15:03.789+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@23956693]
2026-01-14T15:15:03.789+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:15:03.789+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:15:03.789+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:15:03.789+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1278019064<open>)]
2026-01-14T15:15:03.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:15:03.790+07:00  INFO 13692 --- [http-nio-8080-exec-4] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T15:15:03.791+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:03.791+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T15:15:03.792+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:03.794+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T15:15:03.794+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:03.794+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:03.795+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T15:15:03.795+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:03.795+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:03.795+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:03.796+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T15:15:03.798+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T15:15:03.799+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:03.800+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:03.802+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:03.802+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T15:15:03.802+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:07.338+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.339+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.339+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:07.339+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.340+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:07.340+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:07.341+07:00 TRACE 13692 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:07.342+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:07.345+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:07.345+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.345+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.345+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:07.346+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:07.346+07:00  WARN 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.346+07:00  WARN 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:07.347+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:07.347+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:07.347+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:07.347+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:07.349+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.350+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.350+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:07.350+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.350+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:07.351+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:07.351+07:00 TRACE 13692 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:07.352+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:07.355+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:07.355+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.356+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:07.356+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:07.356+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:07.357+07:00  WARN 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:07.357+07:00  WARN 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:07.357+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:07.357+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:07.358+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:07.358+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:15.152+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T15:15:15.155+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T15:15:15.155+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:15:15.155+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:15:15.156+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:15.156+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T15:15:15.156+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:15:15.156+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:15:15.156+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T15:15:15.157+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T15:15:15.157+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T15:15:15.158+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:15.159+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T15:15:15.161+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1344905270<open>)] for JPA transaction
2026-01-14T15:15:15.162+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:15:15.162+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f5fb2df]
2026-01-14T15:15:15.162+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:15:15.163+07:00  INFO 13692 --- [http-nio-8080-exec-8] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T15:15:15.163+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:15:15.163+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:15:15.163+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1344905270<open>)]
2026-01-14T15:15:15.164+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:15:15.164+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1344905270<open>)] for JPA transaction
2026-01-14T15:15:15.164+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:15:15.164+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69925351]
2026-01-14T15:15:15.164+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:15:15.165+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:15:15.165+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:15:15.165+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1344905270<open>)]
2026-01-14T15:15:15.165+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:15:15.166+07:00  INFO 13692 --- [http-nio-8080-exec-8] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T15:15:15.166+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:15.167+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T15:15:15.167+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:15.170+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T15:15:15.172+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T15:15:15.172+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:15.172+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:15.172+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T15:15:15.173+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:15.173+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:15.173+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:15.175+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:15.177+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:15.177+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T15:15:15.178+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:15:15.178+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:15.178+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T15:15:15.178+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T15:15:15.179+07:00 TRACE 13692 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:15.179+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:15.181+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:15:15.182+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T15:15:15.182+07:00 DEBUG 13692 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:15:18.721+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:15:18.721+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:18.723+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:18.724+07:00 TRACE 13692 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:18.726+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:18.728+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:18.728+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.728+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.728+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:18.729+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:18.729+07:00  WARN 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.729+07:00  WARN 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:18.729+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:18.730+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:18.730+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:18.730+07:00 DEBUG 13692 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:15:18.732+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.732+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.732+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:18.732+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.732+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:15:18.733+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:15:18.733+07:00 TRACE 13692 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:15:18.734+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:15:18.737+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:15:18.738+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.738+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:15:18.738+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:15:18.738+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:15:18.738+07:00  WARN 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:15:18.739+07:00  WARN 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:15:18.739+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:15:18.739+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:15:18.739+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:15:18.740+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:24:14.524+07:00  INFO 13692 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2026-01-14T15:24:14.531+07:00  INFO 13692 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T15:24:14.574+07:00  INFO 13692 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T15:24:14.578+07:00  INFO 13692 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:24:14.581+07:00  INFO 13692 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T15:24:14.582+07:00  INFO 13692 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-14T15:24:14.631+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:24:14.631+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:24:14.631+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:24:14.744+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:24:14.779+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 15 JPA repository interfaces.
2026-01-14T15:24:14.823+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:24:14.824+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:24:14.824+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:24:14.833+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 201 ms
2026-01-14T15:24:14.854+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:24:14.890+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:24:14.891+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-14T15:24:14.894+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b13542c
2026-01-14T15:24:14.894+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-14T15:24:14.895+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:24:14.895+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:24:15.041+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:24:15.047+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:24:15.076+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:24:15.199+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T15:24:15.212+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T15:24:15.230+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T15:24:15.247+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2026-01-14T15:24:15.253+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T15:24:15.255+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T15:24:15.257+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T15:24:15.269+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T15:24:15.270+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.652 seconds (process running for 14246.569)
2026-01-14T15:24:15.271+07:00  INFO 13692 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T15:24:53.549+07:00  INFO 13692 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-14T15:24:53.553+07:00  INFO 13692 --- [Thread-5] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T15:24:53.602+07:00  INFO 13692 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T15:24:53.604+07:00  INFO 13692 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:24:53.605+07:00  INFO 13692 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-14T15:24:53.606+07:00  INFO 13692 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-14T15:24:53.665+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:24:53.665+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:24:53.666+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:24:53.772+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:24:53.795+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 15 JPA repository interfaces.
2026-01-14T15:24:53.832+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:24:53.833+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:24:53.833+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:24:53.842+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 175 ms
2026-01-14T15:24:53.856+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:24:53.871+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:24:53.871+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-14T15:24:53.873+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5413b840
2026-01-14T15:24:53.873+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-14T15:24:53.874+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:24:53.874+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:24:53.989+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:24:53.995+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:24:54.018+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:24:54.141+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T15:24:54.154+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T15:24:54.171+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T15:24:54.189+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2026-01-14T15:24:54.192+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T15:24:54.194+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T15:24:54.196+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T15:24:54.208+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T15:24:54.209+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.554 seconds (process running for 14285.508)
2026-01-14T15:24:54.210+07:00  INFO 13692 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T15:44:58.620+07:00  INFO 13692 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-01-14T15:44:58.621+07:00  INFO 13692 --- [Thread-9] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T15:44:58.664+07:00  INFO 13692 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T15:44:58.665+07:00  INFO 13692 --- [Thread-9] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:44:58.666+07:00  INFO 13692 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2026-01-14T15:44:58.667+07:00  INFO 13692 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2026-01-14T15:44:58.757+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:44:58.757+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:44:58.757+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:44:58.852+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:44:58.878+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 15 JPA repository interfaces.
2026-01-14T15:44:58.910+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:44:58.911+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:44:58.911+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:44:58.920+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 162 ms
2026-01-14T15:44:58.933+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:44:58.949+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:44:58.950+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2026-01-14T15:44:58.953+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5be252ab
2026-01-14T15:44:58.953+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2026-01-14T15:44:58.953+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:44:58.954+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:44:59.063+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:44:59.069+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:44:59.087+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:44:59.198+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T15:44:59.208+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T15:44:59.225+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T15:44:59.242+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2026-01-14T15:44:59.245+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T15:44:59.247+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T15:44:59.250+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T15:44:59.260+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T15:44:59.262+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.519 seconds (process running for 15490.559)
2026-01-14T15:44:59.262+07:00  INFO 13692 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T15:51:41.870+07:00  INFO 13692 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-14T15:51:41.874+07:00  INFO 13692 --- [Thread-13] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T15:51:41.922+07:00  INFO 13692 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T15:51:41.923+07:00  INFO 13692 --- [Thread-13] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:51:41.924+07:00  INFO 13692 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2026-01-14T15:51:41.925+07:00  INFO 13692 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2026-01-14T15:51:42.017+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:51:42.017+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:51:42.017+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:51:42.103+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:51:42.127+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 15 JPA repository interfaces.
2026-01-14T15:51:42.159+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:51:42.160+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:51:42.160+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:51:42.168+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 150 ms
2026-01-14T15:51:42.181+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:51:42.197+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:51:42.198+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2026-01-14T15:51:42.200+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68ceb9d
2026-01-14T15:51:42.200+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2026-01-14T15:51:42.200+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:51:42.201+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:51:42.283+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:51:42.288+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:51:42.306+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:51:42.416+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T15:51:42.428+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T15:51:42.445+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T15:51:42.459+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2026-01-14T15:51:42.463+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T15:51:42.464+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T15:51:42.466+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T15:51:42.476+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T15:51:42.478+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.474 seconds (process running for 15893.776)
2026-01-14T15:51:42.478+07:00  INFO 13692 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T15:53:14.087+07:00  INFO 13692 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2026-01-14T15:53:14.092+07:00  INFO 13692 --- [Thread-17] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T15:53:14.144+07:00  INFO 13692 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T15:53:14.146+07:00  INFO 13692 --- [Thread-17] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:53:14.146+07:00  INFO 13692 --- [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2026-01-14T15:53:14.148+07:00  INFO 13692 --- [Thread-17] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2026-01-14T15:53:14.190+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 13692 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:53:14.190+07:00 DEBUG 13692 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:53:14.190+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:53:14.275+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:53:14.293+07:00  INFO 13692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 15 JPA repository interfaces.
2026-01-14T15:53:14.327+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:53:14.327+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:53:14.327+07:00  INFO 13692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:53:14.336+07:00  INFO 13692 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 145 ms
2026-01-14T15:53:14.349+07:00  INFO 13692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:53:14.363+07:00  INFO 13692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:53:14.364+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2026-01-14T15:53:14.365+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bd82791
2026-01-14T15:53:14.366+07:00  INFO 13692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2026-01-14T15:53:14.366+07:00  WARN 13692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:53:14.367+07:00  INFO 13692 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:53:14.445+07:00  INFO 13692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:53:14.450+07:00  INFO 13692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:53:14.471+07:00 DEBUG 13692 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:53:14.563+07:00  WARN 13692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T15:53:14.572+07:00  INFO 13692 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T15:53:14.589+07:00 DEBUG 13692 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T15:53:14.603+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T15:53:14.605+07:00 DEBUG 13692 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T15:53:14.608+07:00 DEBUG 13692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T15:53:14.610+07:00 DEBUG 13692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T15:53:14.624+07:00  INFO 13692 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T15:53:14.625+07:00  INFO 13692 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.444 seconds (process running for 15985.922)
2026-01-14T15:53:14.625+07:00  INFO 13692 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T15:53:37.208+07:00  INFO 13692 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T15:53:37.209+07:00  INFO 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T15:53:37.209+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T15:53:37.209+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T15:53:37.210+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5d063b9e
2026-01-14T15:53:37.210+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6d3f7263
2026-01-14T15:53:37.210+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T15:53:37.211+07:00  INFO 13692 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-14T15:53:37.211+07:00 DEBUG 13692 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T15:53:37.213+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T15:53:37.213+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:53:37.213+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:53:37.214+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:53:37.214+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T15:53:37.214+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T15:53:37.214+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T15:53:37.215+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T15:53:37.215+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T15:53:37.216+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T15:53:37.219+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:53:37.220+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T15:53:37.223+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1689441512<open>)] for JPA transaction
2026-01-14T15:53:37.224+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:53:37.224+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a60c2bd]
2026-01-14T15:53:37.224+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:53:37.224+07:00  INFO 13692 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T15:53:37.224+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T15:53:37.225+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:53:37.225+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1689441512<open>)]
2026-01-14T15:53:37.225+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:53:37.225+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1689441512<open>)] for JPA transaction
2026-01-14T15:53:37.225+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T15:53:37.226+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f67c125]
2026-01-14T15:53:37.226+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:53:37.226+07:00 TRACE 13692 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T15:53:37.226+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T15:53:37.227+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1689441512<open>)]
2026-01-14T15:53:37.227+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T15:53:37.227+07:00  INFO 13692 --- [http-nio-8080-exec-1] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T15:53:37.229+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:53:37.229+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T15:53:37.231+07:00 DEBUG 13692 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:53:37.233+07:00 DEBUG 13692 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T15:53:37.234+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T15:53:37.234+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:53:37.234+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:37.234+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T15:53:37.234+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:53:37.235+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:53:37.235+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:53:37.244+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T15:53:37.247+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T15:53:37.248+07:00 TRACE 13692 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:53:37.248+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:53:37.250+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T15:53:37.250+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T15:53:37.251+07:00 DEBUG 13692 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T15:53:40.787+07:00 DEBUG 13692 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:53:40.787+07:00 DEBUG 13692 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T15:53:40.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:40.790+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.791+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:53:40.791+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:53:40.791+07:00 TRACE 13692 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:53:40.792+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:53:40.795+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:53:40.795+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.796+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.796+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:40.796+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:53:40.796+07:00  WARN 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.796+07:00  WARN 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:53:40.797+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:53:40.797+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:53:40.797+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:53:40.797+07:00 DEBUG 13692 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:53:40.799+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.800+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.800+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:40.800+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.800+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T15:53:40.801+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T15:53:40.801+07:00 TRACE 13692 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T15:53:40.802+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T15:53:40.805+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T15:53:40.805+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.805+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T15:53:40.806+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T15:53:40.806+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T15:53:40.806+07:00  WARN 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T15:53:40.807+07:00  WARN 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T15:53:40.807+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T15:53:40.807+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T15:53:40.807+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T15:53:40.807+07:00 DEBUG 13692 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T15:53:47.646+07:00  INFO 32564 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 32564 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T15:53:47.647+07:00 DEBUG 32564 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T15:53:47.648+07:00  INFO 32564 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T15:53:47.674+07:00  INFO 32564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T15:53:47.675+07:00  INFO 32564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T15:53:48.050+07:00  INFO 32564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T15:53:48.105+07:00  INFO 32564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 15 JPA repository interfaces.
2026-01-14T15:53:48.571+07:00  INFO 32564 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T15:53:48.590+07:00  INFO 32564 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T15:53:48.590+07:00  INFO 32564 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T15:53:48.629+07:00  INFO 32564 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 954 ms
2026-01-14T15:53:48.747+07:00  INFO 32564 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T15:53:48.789+07:00  INFO 32564 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T15:53:49.075+07:00  INFO 32564 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T15:53:49.090+07:00  INFO 32564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T15:53:49.164+07:00  INFO 32564 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8153e41
2026-01-14T15:53:49.165+07:00  INFO 32564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T15:53:49.188+07:00  WARN 32564 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T15:53:49.195+07:00  INFO 32564 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T15:53:49.823+07:00  INFO 32564 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T15:53:49.849+07:00  INFO 32564 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:53:49.884+07:00  INFO 32564 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T15:53:50.251+07:00 DEBUG 32564 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T15:53:50.600+07:00  WARN 32564 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'miniTestController': Unsatisfied dependency expressed through field 'service': Error creating bean with name 'miniTestSubmissionService': Unsatisfied dependency expressed through field 'objectMapper': No qualifying bean of type 'com.fasterxml.jackson.databind.ObjectMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2026-01-14T15:53:50.601+07:00  INFO 32564 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T15:53:50.607+07:00  INFO 32564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T15:53:50.614+07:00  INFO 32564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-14T15:53:50.617+07:00  INFO 32564 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-14T15:53:50.626+07:00  INFO 32564 --- [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-14T15:53:50.644+07:00 ERROR 32564 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field objectMapper in com.nekonihongo.backend.service.MiniTestSubmissionService required a bean of type 'com.fasterxml.jackson.databind.ObjectMapper' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.fasterxml.jackson.databind.ObjectMapper' in your configuration.

2026-01-14T16:04:22.403+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 6940 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:04:22.405+07:00 DEBUG 6940 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:04:22.406+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:04:22.436+07:00  INFO 6940 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T16:04:22.437+07:00  INFO 6940 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T16:04:22.837+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:04:22.899+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 15 JPA repository interfaces.
2026-01-14T16:04:23.366+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:04:23.380+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:04:23.381+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:04:23.422+07:00  INFO 6940 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 985 ms
2026-01-14T16:04:23.573+07:00  INFO 6940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:04:23.625+07:00  INFO 6940 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T16:04:23.936+07:00  INFO 6940 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:04:23.953+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T16:04:24.028+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@665bbc5b
2026-01-14T16:04:24.029+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T16:04:24.052+07:00  WARN 6940 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:04:24.060+07:00  INFO 6940 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:04:24.704+07:00  INFO 6940 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:04:24.732+07:00  INFO 6940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:04:24.772+07:00  INFO 6940 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T16:04:25.137+07:00 DEBUG 6940 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:04:25.594+07:00  WARN 6940 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:04:25.640+07:00  INFO 6940 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:04:25.716+07:00 DEBUG 6940 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:04:25.790+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:04:25.811+07:00 DEBUG 6940 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:04:25.831+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:04:25.873+07:00 DEBUG 6940 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:04:25.956+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:04:25.961+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.803 seconds (process running for 4.043)
2026-01-14T16:05:37.331+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T16:05:37.331+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T16:05:37.332+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T16:05:37.332+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T16:05:37.333+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21d0b1ed
2026-01-14T16:05:37.333+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3caddb39
2026-01-14T16:05:37.334+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T16:05:37.334+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-14T16:05:37.338+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:05:37.351+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:05:37.353+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:05:37.353+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:05:37.354+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:05:37.355+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:05:37.355+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:05:37.355+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:05:37.356+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:05:37.360+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:05:37.397+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:05:37.412+07:00 TRACE 6940 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:05:37.454+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:05:37.474+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(508985000<open>)] for JPA transaction
2026-01-14T16:05:37.474+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:05:37.478+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@93aa4d0]
2026-01-14T16:05:37.478+07:00 TRACE 6940 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:05:37.478+07:00  INFO 6940 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:05:37.478+07:00 TRACE 6940 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:05:37.478+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:05:37.479+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(508985000<open>)]
2026-01-14T16:05:37.484+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:05:37.486+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(508985000<open>)] for JPA transaction
2026-01-14T16:05:37.486+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:05:37.486+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a67dbec]
2026-01-14T16:05:37.486+07:00 TRACE 6940 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:05:37.490+07:00 TRACE 6940 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:05:37.490+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:05:37.490+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(508985000<open>)]
2026-01-14T16:05:37.491+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:05:37.492+07:00  INFO 6940 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:05:37.549+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:05:37.553+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:05:37.569+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:05:37.571+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:05:37.574+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:05:37.575+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:05:37.575+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:37.575+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:05:37.575+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:05:37.600+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:05:37.601+07:00 TRACE 6940 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:05:37.618+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:05:37.624+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:05:37.625+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:05:37.625+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:05:37.625+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:37.625+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:05:37.626+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:05:37.627+07:00 TRACE 6940 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:05:37.628+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:05:37.631+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:05:37.632+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:05:37.634+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:05:41.175+07:00 DEBUG 6940 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:05:41.175+07:00 DEBUG 6940 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:05:41.179+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.179+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.179+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:41.180+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.180+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:05:41.181+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:05:41.181+07:00 TRACE 6940 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:05:41.183+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:05:41.186+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:05:41.186+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.187+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.187+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:41.187+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:05:41.189+07:00  WARN 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.190+07:00  WARN 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T16:05:41.191+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T16:05:41.191+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T16:05:41.194+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:05:41.195+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:05:41.198+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.199+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.199+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:41.200+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.200+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:05:41.201+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:05:41.201+07:00 TRACE 6940 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:05:41.202+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:05:41.206+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:05:41.206+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.207+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:05:41.207+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:05:41.208+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:05:41.208+07:00  WARN 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T16:05:41.209+07:00  WARN 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T16:05:41.209+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T16:05:41.209+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T16:05:41.210+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:05:41.210+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:07:19.440+07:00  INFO 6940 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-14T16:07:19.445+07:00  INFO 6940 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T16:07:19.492+07:00  INFO 6940 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T16:07:19.495+07:00  INFO 6940 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:07:19.497+07:00  INFO 6940 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T16:07:19.503+07:00  INFO 6940 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-14T16:07:19.563+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 6940 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:07:19.563+07:00 DEBUG 6940 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:07:19.563+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:07:19.667+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:07:19.692+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 15 JPA repository interfaces.
2026-01-14T16:07:19.738+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:07:19.738+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:07:19.739+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:07:19.748+07:00  INFO 6940 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 183 ms
2026-01-14T16:07:19.768+07:00  INFO 6940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:07:19.795+07:00  INFO 6940 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:07:19.796+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-14T16:07:19.799+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62ddf633
2026-01-14T16:07:19.799+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-14T16:07:19.800+07:00  WARN 6940 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:07:19.800+07:00  INFO 6940 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:07:19.925+07:00  INFO 6940 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:07:19.932+07:00  INFO 6940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:07:19.958+07:00 DEBUG 6940 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:07:20.098+07:00  WARN 6940 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:07:20.109+07:00  INFO 6940 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:07:20.128+07:00 DEBUG 6940 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:07:20.147+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:07:20.150+07:00 DEBUG 6940 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:07:20.152+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:07:20.155+07:00 DEBUG 6940 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:07:20.168+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:07:20.170+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.619 seconds (process running for 178.251)
2026-01-14T16:07:20.171+07:00  INFO 6940 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T16:07:27.693+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T16:07:27.693+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T16:07:27.694+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T16:07:27.694+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T16:07:27.695+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f521320
2026-01-14T16:07:27.695+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1fda3ffd
2026-01-14T16:07:27.695+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T16:07:27.695+07:00  INFO 6940 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-14T16:07:27.696+07:00 DEBUG 6940 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:07:27.698+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:07:27.699+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:07:27.699+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:07:27.699+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:07:27.700+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:07:27.700+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:07:27.700+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:07:27.700+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:07:27.700+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:07:27.702+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:07:27.703+07:00 TRACE 6940 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:07:27.705+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:07:27.707+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(836673788<open>)] for JPA transaction
2026-01-14T16:07:27.707+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:07:27.708+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f5858b5]
2026-01-14T16:07:27.708+07:00 TRACE 6940 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:07:27.708+07:00  INFO 6940 --- [http-nio-8080-exec-3] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:07:27.708+07:00 TRACE 6940 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:07:27.709+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:07:27.709+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(836673788<open>)]
2026-01-14T16:07:27.709+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:07:27.709+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(836673788<open>)] for JPA transaction
2026-01-14T16:07:27.709+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:07:27.710+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f51ac22]
2026-01-14T16:07:27.710+07:00 TRACE 6940 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:07:27.710+07:00 TRACE 6940 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:07:27.710+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:07:27.710+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(836673788<open>)]
2026-01-14T16:07:27.710+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:07:27.711+07:00  INFO 6940 --- [http-nio-8080-exec-3] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:07:27.712+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:07:27.713+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:07:27.714+07:00 DEBUG 6940 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:07:27.717+07:00 DEBUG 6940 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:07:27.718+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:07:27.719+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:07:27.719+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:27.719+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:07:27.719+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:07:27.720+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:07:27.721+07:00 TRACE 6940 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:07:27.730+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:07:27.732+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:07:27.733+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:07:27.733+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:07:27.733+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:27.733+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:07:27.733+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:07:27.734+07:00 TRACE 6940 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:07:27.735+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:07:27.738+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:07:27.738+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:07:27.739+07:00 DEBUG 6940 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:07:31.285+07:00 DEBUG 6940 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:07:31.286+07:00 DEBUG 6940 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:07:31.288+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.288+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.288+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:31.288+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.289+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:07:31.289+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:07:31.290+07:00 TRACE 6940 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:07:31.291+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:07:31.295+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:07:31.295+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.295+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.296+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:31.296+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:07:31.296+07:00  WARN 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.297+07:00  WARN 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T16:07:31.297+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T16:07:31.297+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T16:07:31.297+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:07:31.298+07:00 DEBUG 6940 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:07:31.300+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.300+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.301+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:31.301+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.301+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:07:31.302+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:07:31.302+07:00 TRACE 6940 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:07:31.304+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:07:31.307+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:07:31.307+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.307+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:07:31.307+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:07:31.308+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:07:31.308+07:00  WARN 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/mini-test/feedback-count
2026-01-14T16:07:31.308+07:00  WARN 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/mini-test/feedback-count.
2026-01-14T16:07:31.309+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/user/mini-test/feedback-count.]
2026-01-14T16:07:31.309+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-14T16:07:31.309+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:07:31.309+07:00 DEBUG 6940 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:12:29.897+07:00  INFO 6940 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2026-01-14T16:12:29.899+07:00  INFO 6940 --- [Thread-5] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T16:12:29.940+07:00  INFO 6940 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T16:12:29.942+07:00  INFO 6940 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:12:29.942+07:00  INFO 6940 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2026-01-14T16:12:29.943+07:00  INFO 6940 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2026-01-14T16:12:29.985+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 6940 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:12:29.985+07:00 DEBUG 6940 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:12:29.985+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:12:30.086+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:12:30.118+07:00  INFO 6940 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 15 JPA repository interfaces.
2026-01-14T16:12:30.158+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:12:30.159+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:12:30.159+07:00  INFO 6940 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:12:30.169+07:00  INFO 6940 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 183 ms
2026-01-14T16:12:30.183+07:00  INFO 6940 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:12:30.197+07:00  INFO 6940 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:12:30.198+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2026-01-14T16:12:30.200+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2fd0c073
2026-01-14T16:12:30.200+07:00  INFO 6940 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2026-01-14T16:12:30.201+07:00  WARN 6940 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:12:30.201+07:00  INFO 6940 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:12:30.302+07:00  INFO 6940 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:12:30.308+07:00  INFO 6940 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:12:30.328+07:00 DEBUG 6940 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:12:30.445+07:00  WARN 6940 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:12:30.457+07:00  INFO 6940 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:12:30.474+07:00 DEBUG 6940 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:12:30.490+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:12:30.493+07:00 DEBUG 6940 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:12:30.495+07:00 DEBUG 6940 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:12:30.497+07:00 DEBUG 6940 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:12:30.509+07:00  INFO 6940 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:12:30.510+07:00  INFO 6940 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.536 seconds (process running for 488.591)
2026-01-14T16:12:30.510+07:00  INFO 6940 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T16:12:37.406+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 10744 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:12:37.408+07:00 DEBUG 10744 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:12:37.409+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:12:37.433+07:00  INFO 10744 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T16:12:37.433+07:00  INFO 10744 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T16:12:37.808+07:00  INFO 10744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:12:37.867+07:00  INFO 10744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 15 JPA repository interfaces.
2026-01-14T16:12:38.314+07:00  INFO 10744 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:12:38.333+07:00  INFO 10744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:12:38.334+07:00  INFO 10744 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:12:38.381+07:00  INFO 10744 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 947 ms
2026-01-14T16:12:38.512+07:00  INFO 10744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:12:38.568+07:00  INFO 10744 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T16:12:38.861+07:00  INFO 10744 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:12:38.876+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T16:12:38.954+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4674a3ba
2026-01-14T16:12:38.955+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T16:12:38.976+07:00  WARN 10744 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:12:38.983+07:00  INFO 10744 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:12:39.601+07:00  INFO 10744 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:12:39.628+07:00  INFO 10744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:12:39.664+07:00  INFO 10744 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T16:12:40.028+07:00 DEBUG 10744 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:12:40.541+07:00  WARN 10744 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:12:40.581+07:00  INFO 10744 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:12:40.660+07:00 DEBUG 10744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:12:40.757+07:00 DEBUG 10744 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:12:40.773+07:00 DEBUG 10744 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:12:40.796+07:00 DEBUG 10744 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:12:40.834+07:00 DEBUG 10744 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:12:40.896+07:00  INFO 10744 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:12:40.900+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.737 seconds (process running for 3.977)
2026-01-14T16:12:42.708+07:00  INFO 10744 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T16:12:42.709+07:00  INFO 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T16:12:42.709+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T16:12:42.709+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T16:12:42.710+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60949309
2026-01-14T16:12:42.711+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@22e6c16a
2026-01-14T16:12:42.711+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T16:12:42.711+07:00  INFO 10744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-14T16:12:42.719+07:00 DEBUG 10744 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:12:42.739+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:12:42.741+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:12:42.741+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:12:42.742+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:12:42.743+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:12:42.743+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:12:42.743+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:12:42.744+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:12:42.748+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:12:42.781+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:12:42.797+07:00 TRACE 10744 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:12:42.844+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:12:42.864+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1278193136<open>)] for JPA transaction
2026-01-14T16:12:42.864+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:12:42.866+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5fcc3f96]
2026-01-14T16:12:42.867+07:00 TRACE 10744 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:12:42.867+07:00  INFO 10744 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:12:42.868+07:00 TRACE 10744 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:12:42.868+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:12:42.868+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1278193136<open>)]
2026-01-14T16:12:42.874+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:12:42.875+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1278193136<open>)] for JPA transaction
2026-01-14T16:12:42.876+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:12:42.876+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5063d447]
2026-01-14T16:12:42.876+07:00 TRACE 10744 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:12:42.879+07:00 TRACE 10744 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:12:42.879+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:12:42.879+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1278193136<open>)]
2026-01-14T16:12:42.880+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:12:42.880+07:00  INFO 10744 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:12:42.940+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:12:42.943+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:12:42.959+07:00 DEBUG 10744 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:12:42.962+07:00 DEBUG 10744 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:12:42.964+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:12:42.964+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:12:42.964+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:42.965+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:12:42.965+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:12:42.986+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:12:42.986+07:00 TRACE 10744 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:12:43.001+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:12:43.006+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:12:43.006+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:12:43.006+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:12:43.007+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:43.007+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:12:43.007+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:12:43.009+07:00 TRACE 10744 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:12:43.010+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:12:43.012+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:12:43.013+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:12:43.015+07:00 DEBUG 10744 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:12:46.551+07:00 DEBUG 10744 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:12:46.551+07:00 DEBUG 10744 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:12:46.554+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:12:46.555+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.555+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:46.556+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.556+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:12:46.556+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:12:46.557+07:00 TRACE 10744 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:12:46.558+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:12:46.563+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:12:46.563+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:12:46.563+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.564+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:46.564+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:12:46.564+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:12:46.565+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:12:46.579+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:12:46.579+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1553440968<open>)] for JPA transaction
2026-01-14T16:12:46.579+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:12:46.581+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@79eb323b]
2026-01-14T16:12:46.581+07:00 TRACE 10744 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:12:46.582+07:00 TRACE 10744 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount] after exception: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
2026-01-14T16:12:46.582+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2026-01-14T16:12:46.582+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1553440968<open>)]
2026-01-14T16:12:46.583+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:12:46.586+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
2026-01-14T16:12:46.586+07:00 ERROR 10744 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user] with root cause

java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getCurrentUserId(MiniTestSubmissionService.java:73) ~[main/:na]
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount(MiniTestSubmissionService.java:125) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.service.MiniTestSubmissionService$$SpringCGLIB$$0.getUserFeedbackCount(<generated>) ~[main/:na]
	at com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(UserMiniTestController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.controller.UserMiniTestController$$SpringCGLIB$$0.getFeedbackCount(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at com.nekonihongo.backend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:137) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-01-14T16:12:46.597+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:12:46.597+07:00 DEBUG 10744 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:12:46.600+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:12:46.600+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.600+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:46.600+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.601+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:12:46.601+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:12:46.602+07:00 TRACE 10744 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:12:46.602+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:12:46.605+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:12:46.605+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:12:46.605+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:12:46.606+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:12:46.606+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:12:46.606+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:12:46.607+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:12:46.607+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:12:46.607+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1014451873<open>)] for JPA transaction
2026-01-14T16:12:46.607+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:12:46.608+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@212477f2]
2026-01-14T16:12:46.608+07:00 TRACE 10744 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:12:46.608+07:00 TRACE 10744 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount] after exception: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
2026-01-14T16:12:46.609+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2026-01-14T16:12:46.609+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1014451873<open>)]
2026-01-14T16:12:46.609+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:12:46.610+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
2026-01-14T16:12:46.610+07:00 ERROR 10744 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user] with root cause

java.lang.RuntimeException: Kh√¥ng x√°c th·ª±c ƒë∆∞·ª£c user
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getCurrentUserId(MiniTestSubmissionService.java:73) ~[main/:na]
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount(MiniTestSubmissionService.java:125) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.service.MiniTestSubmissionService$$SpringCGLIB$$0.getUserFeedbackCount(<generated>) ~[main/:na]
	at com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(UserMiniTestController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.controller.UserMiniTestController$$SpringCGLIB$$0.getFeedbackCount(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at com.nekonihongo.backend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:137) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-01-14T16:12:46.616+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:12:46.617+07:00 DEBUG 10744 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:22:31.178+07:00  INFO 10744 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-14T16:22:31.181+07:00  INFO 10744 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T16:22:31.205+07:00  INFO 10744 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T16:22:31.208+07:00  INFO 10744 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:22:31.210+07:00  INFO 10744 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T16:22:31.214+07:00  INFO 10744 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-14T16:22:31.256+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 10744 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:22:31.256+07:00 DEBUG 10744 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:22:31.256+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:22:31.367+07:00  INFO 10744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:22:31.399+07:00  INFO 10744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 15 JPA repository interfaces.
2026-01-14T16:22:31.454+07:00  INFO 10744 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:22:31.455+07:00  INFO 10744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:22:31.455+07:00  INFO 10744 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:22:31.468+07:00  INFO 10744 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 211 ms
2026-01-14T16:22:31.491+07:00  INFO 10744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:22:31.530+07:00  INFO 10744 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:22:31.531+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-14T16:22:31.533+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2d7bac
2026-01-14T16:22:31.533+07:00  INFO 10744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-14T16:22:31.534+07:00  WARN 10744 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:22:31.534+07:00  INFO 10744 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:22:31.715+07:00  INFO 10744 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:22:31.722+07:00  INFO 10744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:22:31.747+07:00 DEBUG 10744 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:22:31.896+07:00  WARN 10744 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:22:31.908+07:00  INFO 10744 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:22:31.930+07:00 DEBUG 10744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:22:31.952+07:00 DEBUG 10744 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:22:31.956+07:00 DEBUG 10744 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:22:31.958+07:00 DEBUG 10744 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:22:31.960+07:00 DEBUG 10744 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:22:31.972+07:00  INFO 10744 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:22:31.974+07:00  INFO 10744 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.731 seconds (process running for 595.051)
2026-01-14T16:22:31.975+07:00  INFO 10744 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T16:22:34.320+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 11088 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:22:34.321+07:00 DEBUG 11088 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:22:34.322+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:22:34.348+07:00  INFO 11088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T16:22:34.348+07:00  INFO 11088 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T16:22:34.723+07:00  INFO 11088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:22:34.783+07:00  INFO 11088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 15 JPA repository interfaces.
2026-01-14T16:22:35.206+07:00  INFO 11088 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:22:35.223+07:00  INFO 11088 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:22:35.224+07:00  INFO 11088 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:22:35.268+07:00  INFO 11088 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 919 ms
2026-01-14T16:22:35.399+07:00  INFO 11088 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:22:35.460+07:00  INFO 11088 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T16:22:35.761+07:00  INFO 11088 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:22:35.776+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T16:22:35.851+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4674a3ba
2026-01-14T16:22:35.852+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T16:22:35.873+07:00  WARN 11088 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:22:35.880+07:00  INFO 11088 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:22:36.535+07:00  INFO 11088 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:22:36.562+07:00  INFO 11088 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:22:36.601+07:00  INFO 11088 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T16:22:36.962+07:00 DEBUG 11088 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:22:37.439+07:00  WARN 11088 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:22:37.482+07:00  INFO 11088 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:22:37.555+07:00 DEBUG 11088 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:22:37.625+07:00 DEBUG 11088 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:22:37.647+07:00 DEBUG 11088 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:22:37.668+07:00 DEBUG 11088 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:22:37.696+07:00 DEBUG 11088 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:22:37.758+07:00  INFO 11088 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:22:37.764+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.686 seconds (process running for 3.924)
2026-01-14T16:22:42.572+07:00  INFO 11088 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T16:22:42.572+07:00  INFO 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T16:22:42.572+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T16:22:42.573+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T16:22:42.573+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@584efedb
2026-01-14T16:22:42.574+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@63f2b0c7
2026-01-14T16:22:42.574+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T16:22:42.574+07:00  INFO 11088 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-14T16:22:42.578+07:00 DEBUG 11088 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:22:42.592+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:22:42.593+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:22:42.593+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:22:42.595+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:22:42.595+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:22:42.596+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:22:42.596+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:22:42.597+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:22:42.600+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:22:42.632+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:22:42.646+07:00 TRACE 11088 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:22:42.693+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:22:42.717+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(508985000<open>)] for JPA transaction
2026-01-14T16:22:42.717+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:22:42.719+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@93aa4d0]
2026-01-14T16:22:42.719+07:00 TRACE 11088 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:22:42.720+07:00  INFO 11088 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:22:42.720+07:00 TRACE 11088 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:22:42.720+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:22:42.720+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(508985000<open>)]
2026-01-14T16:22:42.726+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:22:42.727+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(508985000<open>)] for JPA transaction
2026-01-14T16:22:42.727+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:22:42.728+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a67dbec]
2026-01-14T16:22:42.728+07:00 TRACE 11088 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:22:42.731+07:00 TRACE 11088 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:22:42.731+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:22:42.731+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(508985000<open>)]
2026-01-14T16:22:42.732+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:22:42.732+07:00  INFO 11088 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:22:42.792+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:22:42.796+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:22:42.816+07:00 DEBUG 11088 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:22:42.819+07:00 DEBUG 11088 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:22:42.821+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:22:42.821+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:22:42.821+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:42.821+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:22:42.821+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:22:42.842+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:22:42.843+07:00 TRACE 11088 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:22:42.858+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:22:42.866+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:22:42.866+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:22:42.866+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:22:42.866+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:42.867+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:22:42.867+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:22:42.868+07:00 TRACE 11088 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:22:42.869+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:22:42.872+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:22:42.873+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:22:42.875+07:00 DEBUG 11088 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:22:46.428+07:00 DEBUG 11088 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:22:46.428+07:00 DEBUG 11088 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:22:46.432+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:22:46.432+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.433+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:46.433+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.433+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:22:46.434+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:22:46.434+07:00 TRACE 11088 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:22:46.436+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:22:46.440+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:22:46.440+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:22:46.440+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.441+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:46.441+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:22:46.441+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:22:46.443+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:22:46.465+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:22:46.466+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(26856318<open>)] for JPA transaction
2026-01-14T16:22:46.466+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:22:46.468+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@778ae898]
2026-01-14T16:22:46.468+07:00 TRACE 11088 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:22:46.468+07:00 TRACE 11088 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount] after exception: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
2026-01-14T16:22:46.469+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2026-01-14T16:22:46.469+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(26856318<open>)]
2026-01-14T16:22:46.471+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:22:46.474+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
2026-01-14T16:22:46.474+07:00 ERROR 11088 --- [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User] with root cause

java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getCurrentUserId(MiniTestSubmissionService.java:95) ~[main/:na]
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount(MiniTestSubmissionService.java:148) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.service.MiniTestSubmissionService$$SpringCGLIB$$0.getUserFeedbackCount(<generated>) ~[main/:na]
	at com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(UserMiniTestController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.controller.UserMiniTestController$$SpringCGLIB$$0.getFeedbackCount(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at com.nekonihongo.backend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:137) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-01-14T16:22:46.491+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:22:46.491+07:00 DEBUG 11088 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:22:46.495+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:22:46.495+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.496+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:46.496+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.496+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:22:46.497+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:22:46.497+07:00 TRACE 11088 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:22:46.499+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:22:46.502+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:22:46.503+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:22:46.503+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:22:46.503+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:22:46.503+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:22:46.503+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:22:46.504+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:22:46.505+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:22:46.505+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1952190514<open>)] for JPA transaction
2026-01-14T16:22:46.505+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:22:46.506+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@341d6923]
2026-01-14T16:22:46.506+07:00 TRACE 11088 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:22:46.506+07:00 TRACE 11088 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount] after exception: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
2026-01-14T16:22:46.506+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2026-01-14T16:22:46.506+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(1952190514<open>)]
2026-01-14T16:22:46.507+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:22:46.508+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
2026-01-14T16:22:46.509+07:00 ERROR 11088 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User] with root cause

java.lang.RuntimeException: Lo·∫°i principal kh√¥ng h·ªó tr·ª£: org.springframework.security.core.userdetails.User
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getCurrentUserId(MiniTestSubmissionService.java:95) ~[main/:na]
	at com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount(MiniTestSubmissionService.java:148) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.service.MiniTestSubmissionService$$SpringCGLIB$$0.getUserFeedbackCount(<generated>) ~[main/:na]
	at com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(UserMiniTestController.java:52) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197) ~[spring-security-core-7.0.0.jar:7.0.0]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.1.jar:7.0.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719) ~[spring-aop-7.0.1.jar:7.0.1]
	at com.nekonihongo.backend.controller.UserMiniTestController$$SpringCGLIB$$0.getFeedbackCount(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.1.jar:7.0.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.14.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at com.nekonihongo.backend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:137) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195) ~[spring-security-web-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317) ~[spring-security-config-7.0.0.jar:7.0.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.1.jar:7.0.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.1.jar:7.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.14.jar:11.0.14]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]

2026-01-14T16:22:46.519+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2026-01-14T16:22:46.519+07:00 DEBUG 11088 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:24:15.458+07:00  INFO 11088 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2026-01-14T16:24:15.460+07:00  INFO 11088 --- [Thread-1] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T16:24:15.483+07:00  INFO 11088 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T16:24:15.486+07:00  INFO 11088 --- [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:24:15.488+07:00  INFO 11088 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T16:24:15.492+07:00  INFO 11088 --- [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-14T16:24:15.546+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 11088 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:24:15.546+07:00 DEBUG 11088 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:24:15.547+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:24:15.654+07:00  INFO 11088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:24:15.677+07:00  INFO 11088 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 15 JPA repository interfaces.
2026-01-14T16:24:15.722+07:00  INFO 11088 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:24:15.723+07:00  INFO 11088 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:24:15.723+07:00  INFO 11088 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:24:15.734+07:00  INFO 11088 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 186 ms
2026-01-14T16:24:15.757+07:00  INFO 11088 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:24:15.799+07:00  INFO 11088 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:24:15.800+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2026-01-14T16:24:15.803+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b402557
2026-01-14T16:24:15.803+07:00  INFO 11088 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2026-01-14T16:24:15.804+07:00  WARN 11088 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:24:15.804+07:00  INFO 11088 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:24:15.966+07:00  INFO 11088 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:24:15.973+07:00  INFO 11088 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:24:16.004+07:00 DEBUG 11088 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:24:16.157+07:00  WARN 11088 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:24:16.169+07:00  INFO 11088 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:24:16.188+07:00 DEBUG 11088 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:24:16.207+07:00 DEBUG 11088 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:24:16.211+07:00 DEBUG 11088 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:24:16.213+07:00 DEBUG 11088 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:24:16.214+07:00 DEBUG 11088 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:24:16.227+07:00  INFO 11088 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:24:16.229+07:00  INFO 11088 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 0.695 seconds (process running for 102.39)
2026-01-14T16:24:16.230+07:00  INFO 11088 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2026-01-14T16:24:23.150+07:00  INFO 11068 --- [restartedMain] c.n.backend.BackendApplication           : Starting BackendApplication using Java 17.0.12 with PID 11068 (D:\nekonihongo-pj\BE\backend\bin\main started by DTP in D:\nekonihongo-pj\BE)
2026-01-14T16:24:23.151+07:00 DEBUG 11068 --- [restartedMain] c.n.backend.BackendApplication           : Running with Spring Boot v4.0.0, Spring v7.0.1
2026-01-14T16:24:23.152+07:00  INFO 11068 --- [restartedMain] c.n.backend.BackendApplication           : No active profile set, falling back to 1 default profile: "default"
2026-01-14T16:24:23.180+07:00  INFO 11068 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-14T16:24:23.180+07:00  INFO 11068 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-14T16:24:23.564+07:00  INFO 11068 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-14T16:24:23.622+07:00  INFO 11068 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 15 JPA repository interfaces.
2026-01-14T16:24:24.012+07:00  INFO 11068 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-01-14T16:24:24.029+07:00  INFO 11068 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-14T16:24:24.029+07:00  INFO 11068 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.14]
2026-01-14T16:24:24.075+07:00  INFO 11068 --- [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 894 ms
2026-01-14T16:24:24.196+07:00  INFO 11068 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-14T16:24:24.254+07:00  INFO 11068 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 7.1.8.Final
2026-01-14T16:24:24.563+07:00  INFO 11068 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-14T16:24:24.580+07:00  INFO 11068 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-14T16:24:24.653+07:00  INFO 11068 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@686599f6
2026-01-14T16:24:24.654+07:00  INFO 11068 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-14T16:24:24.676+07:00  WARN 11068 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-14T16:24:24.683+07:00  INFO 11068 --- [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:mysql://localhost:3306/neko_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8]
	Database driver: MySQL Connector/J
	Database dialect: MySQLDialect
	Database version: 8.0.44
	Default catalog/schema: neko_db/undefined
	Autocommit mode: undefined/unknown
	Isolation level: REPEATABLE_READ [default REPEATABLE_READ]
	JDBC fetch size: none
	Pool: DatasourceConnectionProviderImpl
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-14T16:24:25.288+07:00  INFO 11068 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14T16:24:25.314+07:00  INFO 11068 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T16:24:25.354+07:00  INFO 11068 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-14T16:24:25.723+07:00 DEBUG 11068 --- [restartedMain] c.n.b.config.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2026-01-14T16:24:26.248+07:00  WARN 11068 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-14T16:24:26.317+07:00  INFO 11068 --- [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2026-01-14T16:24:26.383+07:00 DEBUG 11068 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-14T16:24:26.460+07:00 DEBUG 11068 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2026-01-14T16:24:26.481+07:00 DEBUG 11068 --- [restartedMain] o.s.w.s.c.annotation.WebMvcConfigurer    : Default resource handling disabled
2026-01-14T16:24:26.505+07:00 DEBUG 11068 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-14T16:24:26.530+07:00 DEBUG 11068 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-14T16:24:26.585+07:00  INFO 11068 --- [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-01-14T16:24:26.589+07:00  INFO 11068 --- [restartedMain] c.n.backend.BackendApplication           : Started BackendApplication in 3.678 seconds (process running for 3.913)
2026-01-14T16:24:30.049+07:00  INFO 11068 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-14T16:24:30.050+07:00  INFO 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-14T16:24:30.050+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-14T16:24:30.051+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-14T16:24:30.051+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7bc00845
2026-01-14T16:24:30.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@264b3f03
2026-01-14T16:24:30.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-14T16:24:30.052+07:00  INFO 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-14T16:24:30.056+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:24:30.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:24:30.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:24:30.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:24:30.071+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:24:30.072+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:24:30.072+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:24:30.072+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:24:30.073+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:24:30.077+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:24:30.112+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:24:30.126+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:30.169+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:24:30.187+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(758888540<open>)] for JPA transaction
2026-01-14T16:24:30.188+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:24:30.190+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4de4b02e]
2026-01-14T16:24:30.191+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:24:30.192+07:00  INFO 11068 --- [http-nio-8080-exec-2] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:24:30.192+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:24:30.192+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:30.193+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(758888540<open>)]
2026-01-14T16:24:30.197+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:30.199+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(758888540<open>)] for JPA transaction
2026-01-14T16:24:30.199+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:24:30.199+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d4bb1be]
2026-01-14T16:24:30.199+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:24:30.204+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:24:30.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:30.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(758888540<open>)]
2026-01-14T16:24:30.205+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:30.205+07:00  INFO 11068 --- [http-nio-8080-exec-2] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:24:30.259+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:30.263+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:24:30.281+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:24:30.284+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:24:30.286+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:24:30.286+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:24:30.287+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:30.287+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:24:30.287+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:24:30.308+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:24:30.309+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:30.326+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:30.330+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:24:30.330+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:24:30.331+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:24:30.331+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:30.331+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:24:30.331+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:24:30.333+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:30.334+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:30.337+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:30.340+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:24:30.341+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:24:33.888+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:24:33.889+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:24:33.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:24:33.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:33.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.893+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:24:33.893+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:24:33.894+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:33.895+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:33.899+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:24:33.900+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:24:33.900+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.900+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:33.900+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:24:33.901+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:24:33.902+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:33.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:33.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1848428586<open>)] for JPA transaction
2026-01-14T16:24:33.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:24:33.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@ea0461c]
2026-01-14T16:24:33.924+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:33.925+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:24:33.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:24:33.942+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:24:33.946+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:24:33.948+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:33.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:33.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1848428586<open>)]
2026-01-14T16:24:33.949+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:33.950+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:33.950+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:24:33.953+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:24:33.954+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:24:33.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:33.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.956+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:24:33.956+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:24:33.957+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:33.958+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:33.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:24:33.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:24:33.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:33.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:33.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:24:33.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:24:33.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:33.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:33.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(40563077<open>)] for JPA transaction
2026-01-14T16:24:33.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:24:33.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3d93b016]
2026-01-14T16:24:33.964+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:33.964+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:24:33.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:24:33.966+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:24:33.967+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:24:33.968+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:33.968+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:33.968+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(40563077<open>)]
2026-01-14T16:24:33.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:33.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:33.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:24:33.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:24:35.358+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:24:35.359+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.359+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:35.359+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.359+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:24:35.360+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:24:35.360+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:35.362+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:35.366+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:24:35.366+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:24:35.367+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.367+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:35.367+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:24:35.367+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:24:35.368+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:35.368+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:35.369+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1663342388<open>)] for JPA transaction
2026-01-14T16:24:35.369+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:24:35.369+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40b29aa1]
2026-01-14T16:24:35.370+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:35.370+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:24:35.370+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:24:35.372+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:24:35.373+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:24:35.374+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:35.375+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:35.375+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1663342388<open>)]
2026-01-14T16:24:35.375+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:35.376+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:35.376+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:24:35.377+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:24:35.378+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:24:35.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:35.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:24:35.380+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:24:35.380+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:24:35.382+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:24:35.384+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:24:35.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:24:35.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:24:35.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:24:35.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:24:35.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:24:35.386+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:35.386+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:24:35.386+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1952190514<open>)] for JPA transaction
2026-01-14T16:24:35.386+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:24:35.387+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b11dbfe]
2026-01-14T16:24:35.387+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:35.387+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:24:35.388+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:24:35.390+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:24:35.390+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:24:35.391+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:24:35.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:24:35.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1952190514<open>)]
2026-01-14T16:24:35.392+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:24:35.392+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:24:35.393+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:24:35.393+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.160+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:26:13.160+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:26:13.163+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:26:13.164+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:26:13.164+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.164+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:26:13.164+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.165+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.165+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.170+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.170+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:26:13.171+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:26:13.171+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.171+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:26:13.171+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:26:13.172+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.173+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.176+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.176+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:26:13.177+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.178+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:26:13.179+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:26:13.179+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.179+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:26:13.179+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.180+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.180+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.181+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.185+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.185+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:26:13.185+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:26:13.185+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.185+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:26:13.186+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:26:13.186+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.187+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.190+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.190+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:26:13.191+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.195+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:26:13.195+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:26:13.197+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.198+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.198+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.198+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.198+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.199+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.199+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.200+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.204+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:26:13.205+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:26:13.205+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.205+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.206+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2065308922<open>)] for JPA transaction
2026-01-14T16:26:13.206+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:26:13.206+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@62852a3c]
2026-01-14T16:26:13.207+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.207+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:26:13.207+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:26:13.210+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:26:13.210+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:26:13.211+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.211+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:26:13.212+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2065308922<open>)]
2026-01-14T16:26:13.212+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:26:13.212+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.213+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:26:13.213+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.215+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.215+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.215+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.215+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.216+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.216+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.217+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.218+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.221+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.221+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.221+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.222+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.222+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:26:13.222+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:26:13.222+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.223+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.223+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1170043423<open>)] for JPA transaction
2026-01-14T16:26:13.223+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:26:13.224+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b35ab93]
2026-01-14T16:26:13.224+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.224+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:26:13.225+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:26:13.227+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:26:13.227+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:26:13.228+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.228+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:26:13.228+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1170043423<open>)]
2026-01-14T16:26:13.229+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:26:13.229+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.230+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:26:13.230+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.232+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.232+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.232+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.232+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.232+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.233+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.233+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.235+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.238+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.238+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.238+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.238+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.239+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:26:13.239+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:26:13.239+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.240+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.240+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1497881566<open>)] for JPA transaction
2026-01-14T16:26:13.240+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:26:13.241+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@60bb084]
2026-01-14T16:26:13.241+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.241+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:26:13.241+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:26:13.243+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:26:13.244+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:26:13.245+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.245+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:26:13.245+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1497881566<open>)]
2026-01-14T16:26:13.246+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:26:13.246+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.246+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:26:13.247+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.867+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.867+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.868+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.868+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.868+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.869+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.869+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.871+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.874+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.875+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.875+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.875+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.875+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:26:13.875+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:26:13.876+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.876+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.877+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1869485539<open>)] for JPA transaction
2026-01-14T16:26:13.877+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:26:13.877+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@58d535d5]
2026-01-14T16:26:13.877+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.877+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:26:13.878+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:26:13.880+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:26:13.880+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:26:13.881+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.881+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:26:13.881+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1869485539<open>)]
2026-01-14T16:26:13.882+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:26:13.882+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.882+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:26:13.884+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:26:13.884+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.885+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.885+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.886+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.886+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:26:13.886+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:26:13.886+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:26:13.887+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:26:13.890+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:26:13.890+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:26:13.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:26:13.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:26:13.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:26:13.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:26:13.891+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:26:13.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(732426428<open>)] for JPA transaction
2026-01-14T16:26:13.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:26:13.892+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1097ad4b]
2026-01-14T16:26:13.893+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.893+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:26:13.893+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:26:13.895+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:26:13.895+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:26:13.896+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:26:13.896+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:26:13.896+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(732426428<open>)]
2026-01-14T16:26:13.897+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:26:13.897+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:26:13.897+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:26:13.898+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:31.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:29:31.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:29:31.923+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:29:31.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:31.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:29:31.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:31.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:31.925+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:31.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:29:31.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:31.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:29:31.931+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:29:31.931+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.934+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:31.934+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:29:31.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:31.936+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:29:31.936+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:31.936+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:29:31.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:31.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:31.937+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:31.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:29:31.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:31.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:29:31.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:29:31.941+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.942+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.943+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:29:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:31.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:31.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:31.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:31.981+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(571842847<open>)] for JPA transaction
2026-01-14T16:29:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:31.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@52ad4910]
2026-01-14T16:29:31.986+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:31.986+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:31.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:31.988+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:31.988+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:31.989+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(571842847<open>)]
2026-01-14T16:29:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:31.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:31.992+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:31.992+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:31.993+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(756358163<open>)] for JPA transaction
2026-01-14T16:29:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7efeec82]
2026-01-14T16:29:31.997+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:31.997+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:31.997+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:31.998+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:31.999+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(756358163<open>)]
2026-01-14T16:29:32.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:32.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:32.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:32.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:32.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:32.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:32.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:32.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:32.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:32.003+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1656020358<open>)] for JPA transaction
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:32.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3fbdb0e8]
2026-01-14T16:29:32.007+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:32.007+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:32.007+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:32.008+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:32.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:32.009+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:32.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:32.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1656020358<open>)]
2026-01-14T16:29:32.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:32.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:32.011+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:32.011+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:39.027+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:29:39.027+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:29:39.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:29:39.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:39.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:29:39.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:39.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:39.030+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.031+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:29:39.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:29:39.035+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.035+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:39.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:29:39.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:39.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:29:39.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:39.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:29:39.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:39.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:39.040+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:39.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:29:39.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:29:39.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.044+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:29:39.044+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:29:39.044+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:39.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:29:39.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:39.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:39.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:39.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:29:39.062+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.063+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.063+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.063+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.063+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:39.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:39.064+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.067+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:39.067+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(284077761<open>)] for JPA transaction
2026-01-14T16:29:39.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:39.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b35f2ce]
2026-01-14T16:29:39.069+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.069+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:39.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:39.071+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:39.071+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:39.072+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.072+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:39.072+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(284077761<open>)]
2026-01-14T16:29:39.073+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:39.073+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:39.074+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:39.074+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:39.075+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.076+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.076+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.076+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.076+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:39.077+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:39.077+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.078+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.080+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:39.080+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.080+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.080+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.080+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:39.081+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:39.081+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.081+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.081+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2060407886<open>)] for JPA transaction
2026-01-14T16:29:39.081+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:39.082+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4b170503]
2026-01-14T16:29:39.082+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.082+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:39.082+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:39.083+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:39.084+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:39.085+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.085+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:39.085+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2060407886<open>)]
2026-01-14T16:29:39.085+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:39.085+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:39.085+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:39.086+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:39.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.088+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:39.088+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:39.088+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:39.089+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:39.090+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:39.092+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1156836383<open>)] for JPA transaction
2026-01-14T16:29:39.092+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:39.092+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@392f7310]
2026-01-14T16:29:39.092+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.092+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:39.093+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:39.094+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:39.094+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:39.095+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:39.095+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:39.095+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1156836383<open>)]
2026-01-14T16:29:39.095+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:39.096+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:39.096+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:39.096+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:40.099+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:40.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:40.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:40.101+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:40.101+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:40.102+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:40.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:40.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:40.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:40.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:40.107+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:40.107+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:40.107+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:40.108+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(846107884<open>)] for JPA transaction
2026-01-14T16:29:40.108+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:40.108+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@71d9ccc7]
2026-01-14T16:29:40.109+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:40.109+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:40.109+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:40.112+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:40.112+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:40.113+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:40.113+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:40.113+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(846107884<open>)]
2026-01-14T16:29:40.114+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:40.114+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:40.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:40.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:29:40.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:29:40.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:40.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:29:40.118+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:29:40.118+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:29:40.119+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:29:40.120+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:40.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:29:40.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1327822397<open>)] for JPA transaction
2026-01-14T16:29:40.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:29:40.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f2394b7]
2026-01-14T16:29:40.122+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:40.122+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:29:40.123+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:29:40.124+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:29:40.124+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:29:40.125+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:29:40.125+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:29:40.125+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1327822397<open>)]
2026-01-14T16:29:40.125+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:29:40.125+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:29:40.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:29:40.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:30:16.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:30:16.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:30:16.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:30:16.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:30:16.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:30:16.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:30:16.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:30:16.925+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:30:16.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:30:16.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:30:16.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:30:16.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:30:16.930+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:30:16.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:30:16.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:30:16.934+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:30:16.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:30:16.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:30:16.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:30:16.935+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:30:16.935+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.936+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:30:16.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:30:16.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:30:16.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:30:16.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:30:16.939+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:30:16.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:30:16.942+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:30:16.973+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:30:16.973+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:30:16.974+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:30:16.974+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:30:16.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:30:16.976+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:30:16.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:16.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:16.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(188485983<open>)] for JPA transaction
2026-01-14T16:30:16.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:30:16.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33c83779]
2026-01-14T16:30:16.980+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:16.980+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:30:16.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:30:16.982+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:30:16.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:30:16.983+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:16.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:30:16.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(188485983<open>)]
2026-01-14T16:30:16.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:30:16.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:30:16.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:30:16.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:30:16.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:30:16.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:30:16.986+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.987+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:30:16.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:30:16.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:16.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:16.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2141067562<open>)] for JPA transaction
2026-01-14T16:30:16.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:30:16.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54023432]
2026-01-14T16:30:16.990+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:16.991+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:30:16.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:30:16.992+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:30:16.992+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:30:16.993+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:16.993+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:30:16.993+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2141067562<open>)]
2026-01-14T16:30:16.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:30:16.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:30:16.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:30:16.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:30:16.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:30:16.996+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:30:16.997+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:30:16.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:30:17.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:17.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:30:17.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(784061780<open>)] for JPA transaction
2026-01-14T16:30:17.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:30:17.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e15febb]
2026-01-14T16:30:17.000+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:17.001+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:30:17.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:30:17.002+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:30:17.002+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:30:17.003+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:30:17.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:30:17.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(784061780<open>)]
2026-01-14T16:30:17.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:30:17.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:30:17.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:30:17.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:44.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:31:44.379+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:31:44.381+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:31:44.381+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:44.381+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.381+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:31:44.381+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:44.382+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:44.382+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.383+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:31:44.385+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:31:44.385+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.386+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.388+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:44.388+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:31:44.389+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:44.390+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:31:44.390+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:44.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:31:44.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:44.391+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:44.391+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.392+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.394+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:44.394+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:31:44.394+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:44.394+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.395+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:31:44.395+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:31:44.395+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.396+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.398+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:44.398+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:31:44.399+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:44.411+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:31:44.411+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:31:44.411+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:31:44.412+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.413+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.413+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.413+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.413+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:44.413+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:44.414+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.414+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.416+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:44.417+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.417+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.417+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.417+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:44.417+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:44.418+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.418+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.418+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1685952272<open>)] for JPA transaction
2026-01-14T16:31:44.418+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:44.419+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@580325ee]
2026-01-14T16:31:44.419+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.419+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:44.419+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:44.421+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:44.421+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:44.422+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.422+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:44.422+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1685952272<open>)]
2026-01-14T16:31:44.422+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:44.423+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:44.423+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:44.423+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:44.425+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.425+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.425+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.425+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.425+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:44.426+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:44.426+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.427+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:44.429+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.430+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.430+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(583674690<open>)] for JPA transaction
2026-01-14T16:31:44.430+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:44.430+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2f276dbb]
2026-01-14T16:31:44.430+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.430+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:44.431+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:44.432+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:44.432+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:44.433+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.433+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:44.433+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(583674690<open>)]
2026-01-14T16:31:44.434+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:44.434+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:44.434+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:44.435+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:44.436+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.436+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.436+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.436+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.437+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:44.437+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:44.437+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:44.438+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:44.440+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:44.441+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.441+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:44.441+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(184559401<open>)] for JPA transaction
2026-01-14T16:31:44.441+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:44.441+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@85ba85b]
2026-01-14T16:31:44.442+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.442+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:44.442+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:44.443+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:44.443+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:44.444+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:44.444+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:44.444+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(184559401<open>)]
2026-01-14T16:31:44.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:44.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:44.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:44.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:47.527+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:31:47.529+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:31:47.530+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:31:47.531+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:31:47.531+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:31:47.532+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:31:47.532+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:47.533+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:31:47.536+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(899609061<open>)] for JPA transaction
2026-01-14T16:31:47.536+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:31:47.536+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4b6f379b]
2026-01-14T16:31:47.537+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:31:47.537+07:00  INFO 11068 --- [http-nio-8080-exec-1] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:31:47.537+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:31:47.537+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:47.537+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(899609061<open>)]
2026-01-14T16:31:47.538+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:47.538+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(899609061<open>)] for JPA transaction
2026-01-14T16:31:47.538+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:31:47.539+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3caa5deb]
2026-01-14T16:31:47.539+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:31:47.539+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:31:47.539+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:47.539+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(899609061<open>)]
2026-01-14T16:31:47.540+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:47.540+07:00  INFO 11068 --- [http-nio-8080-exec-1] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:31:47.541+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:47.541+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:31:47.542+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:47.545+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:31:47.545+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:47.545+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:47.545+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:31:47.545+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:47.546+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:47.546+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:47.547+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:31:47.549+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:31:47.550+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:47.550+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:47.552+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:47.552+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:31:47.552+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:51.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:31:51.091+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:31:51.093+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.093+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.094+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.094+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.094+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:51.095+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:51.095+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:51.096+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:51.099+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:51.099+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.099+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.099+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:51.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:51.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.100+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.101+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(998584788<open>)] for JPA transaction
2026-01-14T16:31:51.101+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:51.101+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2eed1d7d]
2026-01-14T16:31:51.102+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.102+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:51.102+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:51.104+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:51.105+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:51.106+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:51.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(998584788<open>)]
2026-01-14T16:31:51.106+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:51.107+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:51.107+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:51.108+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:51.109+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.110+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.110+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.110+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.110+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:51.110+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:51.111+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:51.112+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:51.115+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:51.116+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.116+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.116+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1873674955<open>)] for JPA transaction
2026-01-14T16:31:51.116+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:51.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2dcc9b18]
2026-01-14T16:31:51.117+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.117+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:51.117+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:51.119+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:51.119+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:51.120+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:51.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1873674955<open>)]
2026-01-14T16:31:51.121+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:51.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:51.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:51.122+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:51.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.955+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.956+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:51.956+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:51.956+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:51.957+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:51.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:51.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:51.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:51.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1621549964<open>)] for JPA transaction
2026-01-14T16:31:51.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:51.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@740d228b]
2026-01-14T16:31:51.964+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.964+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:51.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:51.966+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:51.967+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:51.968+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.968+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:51.968+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1621549964<open>)]
2026-01-14T16:31:51.968+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:51.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:51.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:51.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:31:51.971+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.972+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.972+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.972+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.972+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:31:51.973+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:31:51.973+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:31:51.974+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:31:51.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:31:51.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:31:51.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:31:51.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:31:51.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:31:51.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:31:51.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:31:51.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1970932091<open>)] for JPA transaction
2026-01-14T16:31:51.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:31:51.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1ac3bc0b]
2026-01-14T16:31:51.979+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.979+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:31:51.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:31:51.981+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:31:51.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:31:51.982+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:31:51.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:31:51.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1970932091<open>)]
2026-01-14T16:31:51.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:31:51.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:31:51.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:31:51.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:31.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:36:31.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:36:31.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:36:31.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:31.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:36:31.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:31.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:31.928+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:36:31.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:36:31.934+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.934+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.936+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:31.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:36:31.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:31.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:36:31.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:31.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:36:31.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:31.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:31.940+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.943+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:36:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:36:31.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:36:31.945+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.946+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:31.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:36:31.949+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:31.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:31.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:31.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:31.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:31.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.979+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:31.980+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.980+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:31.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:31.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1811190663<open>)] for JPA transaction
2026-01-14T16:36:31.984+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@189e5cb1]
2026-01-14T16:36:31.985+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:31.985+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:31.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:31.986+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:31.987+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:31.988+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:31.988+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:31.988+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1811190663<open>)]
2026-01-14T16:36:31.988+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:31.988+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:31.989+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:31.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:31.990+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:31.991+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:31.991+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:31.992+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:31.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:31.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:31.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:31.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:31.994+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1154846020<open>)] for JPA transaction
2026-01-14T16:36:31.995+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75fe00e]
2026-01-14T16:36:31.996+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:31.996+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:31.996+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:31.997+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:31.998+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:31.998+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:31.998+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1154846020<open>)]
2026-01-14T16:36:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:31.999+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:32.000+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:32.001+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:32.001+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:32.003+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:32.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:32.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2014431586<open>)] for JPA transaction
2026-01-14T16:36:32.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:32.004+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f4c9556]
2026-01-14T16:36:32.005+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:32.005+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:32.005+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:32.006+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:32.007+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:32.008+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:32.008+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:32.008+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2014431586<open>)]
2026-01-14T16:36:32.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:32.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:32.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:32.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:40.560+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/auth/login
2026-01-14T16:36:40.563+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2026-01-14T16:36:40.563+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:36:40.563+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:36:40.563+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:36:40.564+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2026-01-14T16:36:40.564+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/auth/login
2026-01-14T16:36:40.564+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:36:40.564+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-14T16:36:40.564+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.AuthController#login(AuthRequest)
2026-01-14T16:36:40.565+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthRequest(email=user1@nekonihongo.com, password=123456)]
2026-01-14T16:36:40.565+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:40.566+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2026-01-14T16:36:40.569+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(563568796<open>)] for JPA transaction
2026-01-14T16:36:40.569+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.StreakService.updateLoginStreak]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:36:40.569+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d1c1fb6]
2026-01-14T16:36:40.569+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:36:40.570+07:00  INFO 11068 --- [http-nio-8080-exec-5] c.n.backend.service.StreakService        : üë§ User 2 ƒë√£ ƒëƒÉng nh·∫≠p h√¥m nay ‚Üí streak gi·ªØ nguy√™n = 1
2026-01-14T16:36:40.570+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.StreakService.updateLoginStreak]
2026-01-14T16:36:40.570+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:40.570+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(563568796<open>)]
2026-01-14T16:36:40.570+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:40.570+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(563568796<open>)] for JPA transaction
2026-01-14T16:36:40.570+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-14T16:36:40.571+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5cf47287]
2026-01-14T16:36:40.571+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:36:40.571+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2026-01-14T16:36:40.571+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:40.571+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(563568796<open>)]
2026-01-14T16:36:40.572+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:40.572+07:00  INFO 11068 --- [http-nio-8080-exec-5] c.n.backend.service.AuthService          : üî• User 2 ƒëƒÉng nh·∫≠p ‚Üí streak = 1, longestStreak = 3, lastLoginDate = 2026-01-14T11:31:40
2026-01-14T16:36:40.572+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:40.572+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6Miwic3ViIjoidXNlcjFAbmVrb25p (truncated)...]
2026-01-14T16:36:40.573+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:40.576+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:36:40.578+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:36:40.578+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:40.579+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:40.579+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:36:40.579+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:40.579+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:40.579+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:40.580+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:40.582+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:40.583+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:36:40.583+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:36:40.583+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:40.583+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:36:40.583+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:36:40.583+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:40.584+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:40.586+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:40.586+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:36:40.586+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:44.123+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:44.123+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:44.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:44.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:44.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.126+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:44.127+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:44.127+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:44.129+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:44.132+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:44.132+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:44.132+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.133+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:44.133+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:44.133+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:44.133+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:44.134+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:44.134+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1228933266<open>)] for JPA transaction
2026-01-14T16:36:44.134+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:44.135+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@223aa083]
2026-01-14T16:36:44.135+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:44.135+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:44.135+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:44.139+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:44.140+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:44.141+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:44.141+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:44.141+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1228933266<open>)]
2026-01-14T16:36:44.142+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:44.142+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:44.142+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:44.143+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:44.145+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:44.145+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.145+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:44.146+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.146+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:44.146+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:44.146+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:44.148+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:44.150+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:44.150+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:44.150+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:44.151+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:44.151+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:44.151+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:44.151+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:44.152+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:44.152+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1359075584<open>)] for JPA transaction
2026-01-14T16:36:44.152+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:44.152+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d263761]
2026-01-14T16:36:44.152+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:44.153+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:44.153+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:44.155+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:44.155+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:44.156+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:44.156+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:44.156+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1359075584<open>)]
2026-01-14T16:36:44.157+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:44.157+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:44.157+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:44.158+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:45.016+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.017+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.017+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.017+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.017+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:45.018+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:45.018+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:45.019+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:45.022+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:45.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:45.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:45.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1974223943<open>)] for JPA transaction
2026-01-14T16:36:45.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:45.025+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@23ca8fbd]
2026-01-14T16:36:45.025+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.025+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:45.026+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:45.028+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:45.028+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:45.029+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:45.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1974223943<open>)]
2026-01-14T16:36:45.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:45.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:45.031+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:45.031+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:45.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:45.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:45.034+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:45.036+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:45.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:45.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:45.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:45.039+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1312705567<open>)] for JPA transaction
2026-01-14T16:36:45.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:45.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40472b5d]
2026-01-14T16:36:45.041+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.041+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:45.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:45.043+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:45.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:45.044+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:45.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1312705567<open>)]
2026-01-14T16:36:45.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:45.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:45.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:45.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:45.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:45.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:45.048+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:45.049+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:45.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:45.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(120616799<open>)] for JPA transaction
2026-01-14T16:36:45.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:45.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22e49e9f]
2026-01-14T16:36:45.054+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.054+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:45.054+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:45.056+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:45.056+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:45.057+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.057+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:45.057+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(120616799<open>)]
2026-01-14T16:36:45.058+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:45.058+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:45.058+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:45.059+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:45.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:45.061+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:45.061+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:45.062+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:45.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:45.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:45.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(657857174<open>)] for JPA transaction
2026-01-14T16:36:45.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:45.066+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46cfba82]
2026-01-14T16:36:45.066+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.066+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:45.066+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:45.068+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:45.068+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:45.069+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:45.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:45.069+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(657857174<open>)]
2026-01-14T16:36:45.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:45.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:45.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:45.070+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:50.636+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-14T16:36:50.636+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-14T16:36:50.639+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-14T16:36:50.639+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:36:50.639+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:50.639+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-14T16:36:50.639+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:50.640+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:50.640+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:50.641+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:50.644+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:50.645+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-14T16:36:50.645+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:36:50.645+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:50.645+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-14T16:36:50.645+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-14T16:36:50.646+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:50.646+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:50.646+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(395589697<open>)] for JPA transaction
2026-01-14T16:36:50.647+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:50.647+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@65fb8943]
2026-01-14T16:36:50.647+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:36:50.648+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:50.648+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:50.650+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-14T16:36:50.652+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-14T16:36:50.654+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:36:50.654+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:50.655+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(395589697<open>)]
2026-01-14T16:36:50.655+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:50.655+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:50.656+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-14T16:36:50.657+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:50.658+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-14T16:36:50.659+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:36:50.659+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:50.659+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-14T16:36:50.659+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:50.660+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:50.660+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:50.661+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:50.663+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:50.664+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-14T16:36:50.664+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:36:50.664+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:50.664+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-14T16:36:50.664+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-14T16:36:50.665+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:50.665+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:50.665+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1161541670<open>)] for JPA transaction
2026-01-14T16:36:50.665+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:50.666+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5506182f]
2026-01-14T16:36:50.666+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:36:50.666+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:50.666+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:50.668+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-14T16:36:50.668+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-14T16:36:50.669+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:36:50.669+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:50.670+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1161541670<open>)]
2026-01-14T16:36:50.670+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:50.670+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:50.671+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-14T16:36:50.671+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:57.912+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:57.912+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:57.912+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:57.912+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:36:57.915+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.915+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.915+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.915+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.916+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:57.916+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:57.916+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:57.918+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:57.920+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:57.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:57.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:57.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(886978822<open>)] for JPA transaction
2026-01-14T16:36:57.922+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:57.923+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ddee4c8]
2026-01-14T16:36:57.923+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.923+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:57.924+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:57.925+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:57.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:57.927+07:00 TRACE 11068 --- [http-nio-8080-exec-4] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:57.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(886978822<open>)]
2026-01-14T16:36:57.928+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:57.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:57.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:57.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:57.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.932+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:57.933+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:57.933+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:57.934+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:57.937+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:57.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:57.938+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:57.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.939+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2121905256<open>)] for JPA transaction
2026-01-14T16:36:57.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:57.940+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@48e281d2]
2026-01-14T16:36:57.940+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.941+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:57.941+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:57.943+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:57.943+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:57.944+07:00 TRACE 11068 --- [http-nio-8080-exec-5] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:57.944+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2121905256<open>)]
2026-01-14T16:36:57.945+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:57.945+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:57.945+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:57.946+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:57.947+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.947+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.947+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.947+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:57.948+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:57.948+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:57.949+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:57.951+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:57.952+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.953+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.953+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1760705452<open>)] for JPA transaction
2026-01-14T16:36:57.953+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:57.953+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12a004ba]
2026-01-14T16:36:57.953+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.954+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:57.954+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:57.955+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:57.956+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:57.957+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.957+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:57.957+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1760705452<open>)]
2026-01-14T16:36:57.957+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:57.957+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:57.958+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:57.958+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:36:57.959+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.960+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.960+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.960+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.960+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:36:57.960+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:36:57.961+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:36:57.962+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:36:57.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:36:57.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:36:57.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:36:57.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:36:57.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:36:57.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:36:57.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:36:57.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(2064898240<open>)] for JPA transaction
2026-01-14T16:36:57.966+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:36:57.966+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a7972e8]
2026-01-14T16:36:57.966+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.966+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:36:57.967+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:36:57.968+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:36:57.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:36:57.970+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:36:57.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:36:57.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(2064898240<open>)]
2026-01-14T16:36:57.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:36:57.971+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:36:57.971+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:36:57.971+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:00.711+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.712+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.712+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.712+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.713+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:00.713+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:00.713+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:00.716+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:37:00.719+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:37:00.720+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.720+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.720+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(207970708<open>)] for JPA transaction
2026-01-14T16:37:00.721+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:00.721+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a6695d6]
2026-01-14T16:37:00.721+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.721+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:00.721+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:00.723+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:37:00.723+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:37:00.724+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.724+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:00.725+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(207970708<open>)]
2026-01-14T16:37:00.725+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:00.725+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:00.726+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:37:00.726+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:00.728+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.728+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.728+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.728+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.728+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:00.729+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:00.729+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:00.730+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:37:00.733+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:37:00.734+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.734+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.734+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(732276246<open>)] for JPA transaction
2026-01-14T16:37:00.734+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:00.735+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13a621f7]
2026-01-14T16:37:00.735+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.735+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:00.735+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:00.737+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:37:00.737+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:37:00.738+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.738+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:00.738+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(732276246<open>)]
2026-01-14T16:37:00.739+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:00.739+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:00.739+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:37:00.740+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:00.741+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.741+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.741+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.742+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.742+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:00.742+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:00.742+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:00.743+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:00.746+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:00.746+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.746+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.746+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.746+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:37:00.747+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:37:00.747+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.747+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.747+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1600141578<open>)] for JPA transaction
2026-01-14T16:37:00.748+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:00.748+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56152ada]
2026-01-14T16:37:00.748+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.748+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:00.749+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:00.750+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:37:00.751+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:37:00.751+07:00 TRACE 11068 --- [http-nio-8080-exec-2] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.752+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:00.752+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1600141578<open>)]
2026-01-14T16:37:00.752+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:00.752+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:00.752+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:37:00.753+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:00.754+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.754+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.754+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.754+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.755+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:00.755+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:00.755+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:00.756+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:00.758+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:00.759+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:37:00.759+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:00.759+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:00.759+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:37:00.759+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:37:00.760+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.760+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:00.760+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1709716662<open>)] for JPA transaction
2026-01-14T16:37:00.760+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:00.760+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1b5c3765]
2026-01-14T16:37:00.761+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.761+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:00.761+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:00.763+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:37:00.763+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:37:00.764+07:00 TRACE 11068 --- [http-nio-8080-exec-10] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:00.764+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:00.764+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1709716662<open>)]
2026-01-14T16:37:00.764+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:00.765+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:00.765+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:37:00.765+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:30.918+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:37:30.920+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:37:30.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:30.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:30.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:37:30.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:30.921+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:30.922+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:30.923+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:30.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:30.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:37:30.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:37:30.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:30.925+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:37:30.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:37:30.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:30.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:30.926+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1009591103<open>)] for JPA transaction
2026-01-14T16:37:30.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:30.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7af37ba7]
2026-01-14T16:37:30.927+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:30.927+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:30.927+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:30.929+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:37:30.929+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:37:30.930+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:37:30.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:30.930+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1009591103<open>)]
2026-01-14T16:37:30.931+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:30.931+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:30.931+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:37:30.931+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:56.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-14T16:37:56.445+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/submissions
2026-01-14T16:37:56.447+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-14T16:37:56.447+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:37:56.448+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:56.448+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-14T16:37:56.448+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:56.448+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:56.449+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:56.450+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:56.453+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:56.453+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-14T16:37:56.453+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:37:56.453+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:56.453+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-14T16:37:56.454+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-14T16:37:56.454+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:56.454+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:56.454+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(348386954<open>)] for JPA transaction
2026-01-14T16:37:56.455+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:56.455+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@73a35cc5]
2026-01-14T16:37:56.455+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:37:56.455+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:56.456+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:56.458+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-14T16:37:56.458+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-14T16:37:56.459+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:37:56.460+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:56.460+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(348386954<open>)]
2026-01-14T16:37:56.460+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:56.460+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:56.461+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-14T16:37:56.461+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:37:56.463+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/submissions
2026-01-14T16:37:56.463+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:37:56.463+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:56.463+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/submissions
2026-01-14T16:37:56.463+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:37:56.464+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:37:56.464+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:37:56.465+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:37:56.468+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:37:56.468+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/submissions
2026-01-14T16:37:56.468+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/submissions
2026-01-14T16:37:56.468+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:37:56.468+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/submissions", parameters={}
2026-01-14T16:37:56.469+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getUserSubmissions()
2026-01-14T16:37:56.469+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:56.469+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getUserSubmissions(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:37:56.469+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(908521663<open>)] for JPA transaction
2026-01-14T16:37:56.469+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:37:56.470+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40022194]
2026-01-14T16:37:56.470+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:37:56.470+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:37:56.470+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:37:56.472+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUserIdOrderBySubmittedAtDesc]: This method is not transactional.
2026-01-14T16:37:56.472+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mts1_0.id,
        mts1_0.answers,
        mts1_0.feedback,
        mts1_0.feedback_at,
        mts1_0.lesson_id,
        mts1_0.status,
        mts1_0.submitted_at,
        mts1_0.user_id 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
    order by
        mts1_0.submitted_at desc
2026-01-14T16:37:56.473+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserSubmissions]
2026-01-14T16:37:56.473+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:37:56.473+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(908521663<open>)]
2026-01-14T16:37:56.474+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:37:56.474+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:37:56.474+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-14T16:37:56.474+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:38:05.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:38:05.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:38:05.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:38:05.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:38:05.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:38:05.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:38:05.041+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:38:05.042+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:38:05.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:38:05.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:38:05.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:38:05.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:38:05.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:38:05.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:38:05.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:38:05.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1401886559<open>)] for JPA transaction
2026-01-14T16:38:05.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:38:05.048+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9e28102]
2026-01-14T16:38:05.048+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:38:05.048+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:38:05.049+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:38:05.050+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:38:05.051+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:38:05.051+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:38:05.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:38:05.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1401886559<open>)]
2026-01-14T16:38:05.052+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:38:05.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:38:05.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:38:05.053+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:38:05.055+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:38:05.055+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.055+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:38:05.055+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.056+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:38:05.057+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:38:05.057+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:38:05.057+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:38:05.060+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:38:05.061+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:38:05.061+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:38:05.061+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(414208378<open>)] for JPA transaction
2026-01-14T16:38:05.061+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:38:05.062+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7131589]
2026-01-14T16:38:05.062+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:38:05.062+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:38:05.062+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:38:05.064+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:38:05.064+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:38:05.065+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:38:05.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:38:05.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(414208378<open>)]
2026-01-14T16:38:05.065+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:38:05.066+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:38:05.066+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:38:05.066+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:38:22.084+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/grammar/lessons
2026-01-14T16:38:22.084+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/grammar/lessons
2026-01-14T16:38:22.086+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/grammar/lessons
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/grammar/lessons
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/grammar/lessons
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/grammar/lessons
2026-01-14T16:38:22.087+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:38:22.088+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/grammar/lessons", parameters={}
2026-01-14T16:38:22.088+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarController#getAllLessons()
2026-01-14T16:38:22.090+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllWithPoints]: This method is not transactional.
2026-01-14T16:38:22.094+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        gl1_0.id,
        gl1_0.created_at,
        gl1_0.icon,
        p1_0.lesson_id,
        p1_0.id,
        p1_0.display_order,
        p1_0.explanation,
        p1_0.meaning,
        p1_0.title,
        gl1_0.title,
        gl1_0.updated_at 
    from
        grammar_lessons gl1_0 
    left join
        grammar_points p1_0 
            on gl1_0.id=p1_0.lesson_id 
    order by
        gl1_0.id
2026-01-14T16:38:22.128+07:00 TRACE 11068 --- [http-nio-8080-exec-6] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findExamplesByPointIds]: This method is not transactional.
2026-01-14T16:38:22.136+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        ge1_0.id,
        ge1_0.display_order,
        ge1_0.japanese,
        ge1_0.point_id,
        ge1_0.vietnamese 
    from
        grammar_examples ge1_0 
    where
        ge1_0.point_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    order by
        ge1_0.display_order
2026-01-14T16:38:22.155+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:38:22.158+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch b√†i h·ªçc ng·ªØ ph√°p th√†nh c√¥ng!, data=[GrammarLessonDto (truncated)...]
2026-01-14T16:38:22.166+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/grammar/lessons
2026-01-14T16:38:22.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/grammar/lessons
2026-01-14T16:38:22.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:38:22.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-14T16:38:22.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/grammar/lessons
2026-01-14T16:38:22.167+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/grammar/lessons
2026-01-14T16:38:22.168+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = true
2026-01-14T16:38:22.168+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/grammar/lessons", parameters={}
2026-01-14T16:38:22.168+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.GrammarController#getAllLessons()
2026-01-14T16:38:22.168+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAllWithPoints]: This method is not transactional.
2026-01-14T16:38:22.169+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        gl1_0.id,
        gl1_0.created_at,
        gl1_0.icon,
        p1_0.lesson_id,
        p1_0.id,
        p1_0.display_order,
        p1_0.explanation,
        p1_0.meaning,
        p1_0.title,
        gl1_0.title,
        gl1_0.updated_at 
    from
        grammar_lessons gl1_0 
    left join
        grammar_points p1_0 
            on gl1_0.id=p1_0.lesson_id 
    order by
        gl1_0.id
2026-01-14T16:38:22.173+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:38:22.179+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findExamplesByPointIds]: This method is not transactional.
2026-01-14T16:38:22.183+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        ge1_0.id,
        ge1_0.display_order,
        ge1_0.japanese,
        ge1_0.point_id,
        ge1_0.vietnamese 
    from
        grammar_examples ge1_0 
    where
        ge1_0.point_id in (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) 
    order by
        ge1_0.display_order
2026-01-14T16:38:22.192+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:38:22.193+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=L·∫•y danh s√°ch b√†i h·ªçc ng·ªØ ph√°p th√†nh c√¥ng!, data=[GrammarLessonDto (truncated)...]
2026-01-14T16:38:22.197+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:41:06.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:41:06.961+07:00 DEBUG 11068 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/me
2026-01-14T16:41:06.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:41:06.963+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:41:06.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:06.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:41:06.964+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:41:06.965+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:41:06.965+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:06.966+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:06.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:41:06.969+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:41:06.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:41:06.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:06.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:41:06.970+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:41:06.971+07:00 TRACE 11068 --- [http-nio-8080-exec-1] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:06.971+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:06.973+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:41:06.974+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:41:06.974+07:00 DEBUG 11068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:41:06.975+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/me
2026-01-14T16:41:06.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:41:06.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:06.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/me
2026-01-14T16:41:06.976+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:41:06.977+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:41:06.977+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:06.978+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:06.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:41:06.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/user/me
2026-01-14T16:41:06.981+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/me
2026-01-14T16:41:06.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:06.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/user/me", parameters={}
2026-01-14T16:41:06.982+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserController#getCurrentUser(Authentication)
2026-01-14T16:41:06.982+07:00 TRACE 11068 --- [http-nio-8080-exec-9] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:06.983+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:06.985+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:41:06.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=L·∫•y th√¥ng tin user th√†nh c√¥ng, data=UserResponse(id=2, email=user1 (truncated)...]
2026-01-14T16:41:06.986+07:00 DEBUG 11068 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:41:07.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:41:07.006+07:00 DEBUG 11068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:41:07.007+07:00 DEBUG 11068 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/mini-test/feedback-count
2026-01-14T16:41:07.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.009+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:41:07.010+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:41:07.010+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:07.011+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:07.014+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:41:07.015+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.015+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.015+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.015+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:41:07.015+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:41:07.016+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.016+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.016+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(549284933<open>)] for JPA transaction
2026-01-14T16:41:07.016+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:41:07.017+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28862e2b]
2026-01-14T16:41:07.017+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.017+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:41:07.018+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:41:07.019+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:41:07.020+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:41:07.021+07:00 TRACE 11068 --- [http-nio-8080-exec-3] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.021+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:41:07.021+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(549284933<open>)]
2026-01-14T16:41:07.021+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:41:07.022+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:41:07.022+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:41:07.023+07:00 DEBUG 11068 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:41:07.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.024+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.025+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.025+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:41:07.025+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:41:07.025+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:07.026+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:41:07.029+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:41:07.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(661708127<open>)] for JPA transaction
2026-01-14T16:41:07.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:41:07.030+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21827bf9]
2026-01-14T16:41:07.030+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.030+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:41:07.031+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:41:07.032+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:41:07.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:41:07.033+07:00 TRACE 11068 --- [http-nio-8080-exec-8] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.033+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:41:07.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(661708127<open>)]
2026-01-14T16:41:07.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:41:07.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:41:07.034+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:41:07.035+07:00 DEBUG 11068 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T16:41:07.036+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.036+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Processing request: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authorization header present: true
2026-01-14T16:41:07.037+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Extracted email: user1@nekonihongo.com
2026-01-14T16:41:07.037+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsernameIgnoreCaseOrEmailIgnoreCase]: This method is not transactional.
2026-01-14T16:41:07.038+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
        or upper(u1_0.email)=upper(?)
2026-01-14T16:41:07.040+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Authentication set for user: user1@nekonihongo.com
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/mini-test/feedback-count
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - Checking shouldNotFilter for path: /api/user/mini-test/feedback-count
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] c.n.b.config.JwtAuthenticationFilter     : JwtAuthFilter - shouldNotFilter = false
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/mini-test/feedback-count", parameters={}
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.nekonihongo.backend.controller.UserMiniTestController#getFeedbackCount()
2026-01-14T16:41:07.041+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.042+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.nekonihongo.backend.controller.UserMiniTestController.getFeedbackCount(); target is of class [com.nekonihongo.backend.controller.UserMiniTestController]
2026-01-14T16:41:07.042+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(1860916210<open>)] for JPA transaction
2026-01-14T16:41:07.042+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-14T16:41:07.042+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@280bc4f2]
2026-01-14T16:41:07.043+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Getting transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.043+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2026-01-14T16:41:07.043+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.avatar_url,
        u1_0.email,
        u1_0.full_name,
        u1_0.join_date,
        u1_0.last_login_date,
        u1_0.level,
        u1_0.longest_streak,
        u1_0.password,
        u1_0.points,
        u1_0.role,
        u1_0.status,
        u1_0.streak,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2026-01-14T16:41:07.045+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.countByUserIdAndStatus]: This method is not transactional.
2026-01-14T16:41:07.045+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(mts1_0.id) 
    from
        mini_test_submissions mts1_0 
    where
        mts1_0.user_id=? 
        and mts1_0.status=?
2026-01-14T16:41:07.046+07:00 TRACE 11068 --- [http-nio-8080-exec-7] o.s.t.i.TransactionInterceptor           : Completing transaction for [com.nekonihongo.backend.service.MiniTestSubmissionService.getUserFeedbackCount]
2026-01-14T16:41:07.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2026-01-14T16:41:07.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(1860916210<open>)]
2026-01-14T16:41:07.046+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.orm.jpa.JpaTransactionManager        : Not closing pre-bound JPA EntityManager after transaction
2026-01-14T16:41:07.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2026-01-14T16:41:07.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{count=0}]
2026-01-14T16:41:07.047+07:00 DEBUG 11068 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-14T17:37:28.543+07:00  WARN 11068 --- [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=26m33s297ms16¬µs400ns).
2026-01-14T17:57:31.948+07:00  INFO 11068 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-14T17:57:31.991+07:00  INFO 11068 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-14T17:57:31.995+07:00  INFO 11068 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-14T17:57:31.997+07:00  INFO 11068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-14T17:57:31.998+07:00  INFO 11068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
